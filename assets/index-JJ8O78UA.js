function h2(s,t){for(var a=0;a<t.length;a++){const n=t[a];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in s)){const l=Object.getOwnPropertyDescriptor(n,r);l&&Object.defineProperty(s,r,l.get?l:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=a(r);fetch(r.href,l)}})();function zg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Fg={exports:{}},Ld={},$g={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wi=Symbol.for("react.element"),f2=Symbol.for("react.portal"),p2=Symbol.for("react.fragment"),j2=Symbol.for("react.strict_mode"),g2=Symbol.for("react.profiler"),v2=Symbol.for("react.provider"),N2=Symbol.for("react.context"),y2=Symbol.for("react.forward_ref"),w2=Symbol.for("react.suspense"),b2=Symbol.for("react.memo"),S2=Symbol.for("react.lazy"),Uh=Symbol.iterator;function C2(s){return s===null||typeof s!="object"?null:(s=Uh&&s[Uh]||s["@@iterator"],typeof s=="function"?s:null)}var Bg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wg=Object.assign,Vg={};function bl(s,t,a){this.props=s,this.context=t,this.refs=Vg,this.updater=a||Bg}bl.prototype.isReactComponent={};bl.prototype.setState=function(s,t){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,t,"setState")};bl.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function Ug(){}Ug.prototype=bl.prototype;function Zx(s,t,a){this.props=s,this.context=t,this.refs=Vg,this.updater=a||Bg}var Jx=Zx.prototype=new Ug;Jx.constructor=Zx;Wg(Jx,bl.prototype);Jx.isPureReactComponent=!0;var qh=Array.isArray,qg=Object.prototype.hasOwnProperty,eu={current:null},Hg={key:!0,ref:!0,__self:!0,__source:!0};function Gg(s,t,a){var n,r={},l=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)qg.call(t,n)&&!Hg.hasOwnProperty(n)&&(r[n]=t[n]);var c=arguments.length-2;if(c===1)r.children=a;else if(1<c){for(var d=Array(c),m=0;m<c;m++)d[m]=arguments[m+2];r.children=d}if(s&&s.defaultProps)for(n in c=s.defaultProps,c)r[n]===void 0&&(r[n]=c[n]);return{$$typeof:Wi,type:s,key:l,ref:i,props:r,_owner:eu.current}}function k2(s,t){return{$$typeof:Wi,type:s.type,key:t,ref:s.ref,props:s.props,_owner:s._owner}}function su(s){return typeof s=="object"&&s!==null&&s.$$typeof===Wi}function M2(s){var t={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(a){return t[a]})}var Hh=/\/+/g;function Oo(s,t){return typeof s=="object"&&s!==null&&s.key!=null?M2(""+s.key):t.toString(36)}function Ic(s,t,a,n,r){var l=typeof s;(l==="undefined"||l==="boolean")&&(s=null);var i=!1;if(s===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(s.$$typeof){case Wi:case f2:i=!0}}if(i)return i=s,r=r(i),s=n===""?"."+Oo(i,0):n,qh(r)?(a="",s!=null&&(a=s.replace(Hh,"$&/")+"/"),Ic(r,t,a,"",function(m){return m})):r!=null&&(su(r)&&(r=k2(r,a+(!r.key||i&&i.key===r.key?"":(""+r.key).replace(Hh,"$&/")+"/")+s)),t.push(r)),1;if(i=0,n=n===""?".":n+":",qh(s))for(var c=0;c<s.length;c++){l=s[c];var d=n+Oo(l,c);i+=Ic(l,t,a,d,r)}else if(d=C2(s),typeof d=="function")for(s=d.call(s),c=0;!(l=s.next()).done;)l=l.value,d=n+Oo(l,c++),i+=Ic(l,t,a,d,r);else if(l==="object")throw t=String(s),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function rc(s,t,a){if(s==null)return s;var n=[],r=0;return Ic(s,n,"","",function(l){return t.call(a,l,r++)}),n}function P2(s){if(s._status===-1){var t=s._result;t=t(),t.then(function(a){(s._status===0||s._status===-1)&&(s._status=1,s._result=a)},function(a){(s._status===0||s._status===-1)&&(s._status=2,s._result=a)}),s._status===-1&&(s._status=0,s._result=t)}if(s._status===1)return s._result.default;throw s._result}var ht={current:null},Oc={transition:null},T2={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:Oc,ReactCurrentOwner:eu};function Yg(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:rc,forEach:function(s,t,a){rc(s,function(){t.apply(this,arguments)},a)},count:function(s){var t=0;return rc(s,function(){t++}),t},toArray:function(s){return rc(s,function(t){return t})||[]},only:function(s){if(!su(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};Ue.Component=bl;Ue.Fragment=p2;Ue.Profiler=g2;Ue.PureComponent=Zx;Ue.StrictMode=j2;Ue.Suspense=w2;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T2;Ue.act=Yg;Ue.cloneElement=function(s,t,a){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var n=Wg({},s.props),r=s.key,l=s.ref,i=s._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=eu.current),t.key!==void 0&&(r=""+t.key),s.type&&s.type.defaultProps)var c=s.type.defaultProps;for(d in t)qg.call(t,d)&&!Hg.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=a;else if(1<d){c=Array(d);for(var m=0;m<d;m++)c[m]=arguments[m+2];n.children=c}return{$$typeof:Wi,type:s.type,key:r,ref:l,props:n,_owner:i}};Ue.createContext=function(s){return s={$$typeof:N2,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:v2,_context:s},s.Consumer=s};Ue.createElement=Gg;Ue.createFactory=function(s){var t=Gg.bind(null,s);return t.type=s,t};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(s){return{$$typeof:y2,render:s}};Ue.isValidElement=su;Ue.lazy=function(s){return{$$typeof:S2,_payload:{_status:-1,_result:s},_init:P2}};Ue.memo=function(s,t){return{$$typeof:b2,type:s,compare:t===void 0?null:t}};Ue.startTransition=function(s){var t=Oc.transition;Oc.transition={};try{s()}finally{Oc.transition=t}};Ue.unstable_act=Yg;Ue.useCallback=function(s,t){return ht.current.useCallback(s,t)};Ue.useContext=function(s){return ht.current.useContext(s)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(s){return ht.current.useDeferredValue(s)};Ue.useEffect=function(s,t){return ht.current.useEffect(s,t)};Ue.useId=function(){return ht.current.useId()};Ue.useImperativeHandle=function(s,t,a){return ht.current.useImperativeHandle(s,t,a)};Ue.useInsertionEffect=function(s,t){return ht.current.useInsertionEffect(s,t)};Ue.useLayoutEffect=function(s,t){return ht.current.useLayoutEffect(s,t)};Ue.useMemo=function(s,t){return ht.current.useMemo(s,t)};Ue.useReducer=function(s,t,a){return ht.current.useReducer(s,t,a)};Ue.useRef=function(s){return ht.current.useRef(s)};Ue.useState=function(s){return ht.current.useState(s)};Ue.useSyncExternalStore=function(s,t,a){return ht.current.useSyncExternalStore(s,t,a)};Ue.useTransition=function(){return ht.current.useTransition()};Ue.version="18.3.1";$g.exports=Ue;var o=$g.exports;const he=zg(o),tu=h2({__proto__:null,default:he},[o]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2=o,R2=Symbol.for("react.element"),E2=Symbol.for("react.fragment"),A2=Object.prototype.hasOwnProperty,I2=D2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O2={key:!0,ref:!0,__self:!0,__source:!0};function Kg(s,t,a){var n,r={},l=null,i=null;a!==void 0&&(l=""+a),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)A2.call(t,n)&&!O2.hasOwnProperty(n)&&(r[n]=t[n]);if(s&&s.defaultProps)for(n in t=s.defaultProps,t)r[n]===void 0&&(r[n]=t[n]);return{$$typeof:R2,type:s,key:l,ref:i,props:r,_owner:I2.current}}Ld.Fragment=E2;Ld.jsx=Kg;Ld.jsxs=Kg;Fg.exports=Ld;var e=Fg.exports,Dm={},Qg={exports:{}},Ft={},Xg={exports:{}},Zg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function t(_,q){var U=_.length;_.push(q);e:for(;0<U;){var G=U-1>>>1,Y=_[G];if(0<r(Y,q))_[G]=q,_[U]=Y,U=G;else break e}}function a(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var q=_[0],U=_.pop();if(U!==q){_[0]=U;e:for(var G=0,Y=_.length,ne=Y>>>1;G<ne;){var ge=2*(G+1)-1,ke=_[ge],Z=ge+1,pe=_[Z];if(0>r(ke,U))Z<Y&&0>r(pe,ke)?(_[G]=pe,_[Z]=U,G=Z):(_[G]=ke,_[ge]=U,G=ge);else if(Z<Y&&0>r(pe,U))_[G]=pe,_[Z]=U,G=Z;else break e}}return q}function r(_,q){var U=_.sortIndex-q.sortIndex;return U!==0?U:_.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var i=Date,c=i.now();s.unstable_now=function(){return i.now()-c}}var d=[],m=[],u=1,h=null,p=3,g=!1,b=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(_){for(var q=a(m);q!==null;){if(q.callback===null)n(m);else if(q.startTime<=_)n(m),q.sortIndex=q.expirationTime,t(d,q);else break;q=a(m)}}function D(_){if(N=!1,w(_),!b)if(a(d)!==null)b=!0,B(y);else{var q=a(m);q!==null&&A(D,q.startTime-_)}}function y(_,q){b=!1,N&&(N=!1,x(P),P=-1),g=!0;var U=p;try{for(w(q),h=a(d);h!==null&&(!(h.expirationTime>q)||_&&!M());){var G=h.callback;if(typeof G=="function"){h.callback=null,p=h.priorityLevel;var Y=G(h.expirationTime<=q);q=s.unstable_now(),typeof Y=="function"?h.callback=Y:h===a(d)&&n(d),w(q)}else n(d);h=a(d)}if(h!==null)var ne=!0;else{var ge=a(m);ge!==null&&A(D,ge.startTime-q),ne=!1}return ne}finally{h=null,p=U,g=!1}}var T=!1,v=null,P=-1,k=5,C=-1;function M(){return!(s.unstable_now()-C<k)}function z(){if(v!==null){var _=s.unstable_now();C=_;var q=!0;try{q=v(!0,_)}finally{q?I():(T=!1,v=null)}}else T=!1}var I;if(typeof f=="function")I=function(){f(z)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,$=F.port2;F.port1.onmessage=z,I=function(){$.postMessage(null)}}else I=function(){j(z,0)};function B(_){v=_,T||(T=!0,I())}function A(_,q){P=j(function(){_(s.unstable_now())},q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(_){_.callback=null},s.unstable_continueExecution=function(){b||g||(b=!0,B(y))},s.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<_?Math.floor(1e3/_):5},s.unstable_getCurrentPriorityLevel=function(){return p},s.unstable_getFirstCallbackNode=function(){return a(d)},s.unstable_next=function(_){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var U=p;p=q;try{return _()}finally{p=U}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(_,q){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var U=p;p=_;try{return q()}finally{p=U}},s.unstable_scheduleCallback=function(_,q,U){var G=s.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?G+U:G):U=G,_){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,_={id:u++,callback:q,priorityLevel:_,startTime:U,expirationTime:Y,sortIndex:-1},U>G?(_.sortIndex=U,t(m,_),a(d)===null&&_===a(m)&&(N?(x(P),P=-1):N=!0,A(D,U-G))):(_.sortIndex=Y,t(d,_),b||g||(b=!0,B(y))),_},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(_){var q=p;return function(){var U=p;p=q;try{return _.apply(this,arguments)}finally{p=U}}}})(Zg);Xg.exports=Zg;var _2=Xg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L2=o,It=_2;function de(s){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+s,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+s+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jg=new Set,ji={};function yr(s,t){rl(s,t),rl(s+"Capture",t)}function rl(s,t){for(ji[s]=t,s=0;s<t.length;s++)Jg.add(t[s])}var Qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rm=Object.prototype.hasOwnProperty,z2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gh={},Yh={};function F2(s){return Rm.call(Yh,s)?!0:Rm.call(Gh,s)?!1:z2.test(s)?Yh[s]=!0:(Gh[s]=!0,!1)}function $2(s,t,a,n){if(a!==null&&a.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:a!==null?!a.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function B2(s,t,a,n){if(t===null||typeof t>"u"||$2(s,t,a,n))return!0;if(n)return!1;if(a!==null)switch(a.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(s,t,a,n,r,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=a,this.propertyName=s,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Zs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){Zs[s]=new ft(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var t=s[0];Zs[t]=new ft(t,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){Zs[s]=new ft(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){Zs[s]=new ft(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){Zs[s]=new ft(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){Zs[s]=new ft(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){Zs[s]=new ft(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){Zs[s]=new ft(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){Zs[s]=new ft(s,5,!1,s.toLowerCase(),null,!1,!1)});var au=/[\-:]([a-z])/g;function nu(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var t=s.replace(au,nu);Zs[t]=new ft(t,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var t=s.replace(au,nu);Zs[t]=new ft(t,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var t=s.replace(au,nu);Zs[t]=new ft(t,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){Zs[s]=new ft(s,1,!1,s.toLowerCase(),null,!1,!1)});Zs.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){Zs[s]=new ft(s,1,!1,s.toLowerCase(),null,!0,!0)});function ru(s,t,a,n){var r=Zs.hasOwnProperty(t)?Zs[t]:null;(r!==null?r.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(B2(t,a,r,n)&&(a=null),n||r===null?F2(t)&&(a===null?s.removeAttribute(t):s.setAttribute(t,""+a)):r.mustUseProperty?s[r.propertyName]=a===null?r.type===3?!1:"":a:(t=r.attributeName,n=r.attributeNamespace,a===null?s.removeAttribute(t):(r=r.type,a=r===3||r===4&&a===!0?"":""+a,n?s.setAttributeNS(n,t,a):s.setAttribute(t,a))))}var an=L2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lc=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),Ir=Symbol.for("react.fragment"),lu=Symbol.for("react.strict_mode"),Em=Symbol.for("react.profiler"),e0=Symbol.for("react.provider"),s0=Symbol.for("react.context"),iu=Symbol.for("react.forward_ref"),Am=Symbol.for("react.suspense"),Im=Symbol.for("react.suspense_list"),cu=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),t0=Symbol.for("react.offscreen"),Kh=Symbol.iterator;function $l(s){return s===null||typeof s!="object"?null:(s=Kh&&s[Kh]||s["@@iterator"],typeof s=="function"?s:null)}var ws=Object.assign,_o;function Xl(s){if(_o===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);_o=t&&t[1]||""}return`
`+_o+s}var Lo=!1;function zo(s,t){if(!s||Lo)return"";Lo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var n=m}Reflect.construct(s,[],t)}else{try{t.call()}catch(m){n=m}s.call(t.prototype)}else{try{throw Error()}catch(m){n=m}s()}}catch(m){if(m&&n&&typeof m.stack=="string"){for(var r=m.stack.split(`
`),l=n.stack.split(`
`),i=r.length-1,c=l.length-1;1<=i&&0<=c&&r[i]!==l[c];)c--;for(;1<=i&&0<=c;i--,c--)if(r[i]!==l[c]){if(i!==1||c!==1)do if(i--,c--,0>c||r[i]!==l[c]){var d=`
`+r[i].replace(" at new "," at ");return s.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",s.displayName)),d}while(1<=i&&0<=c);break}}}finally{Lo=!1,Error.prepareStackTrace=a}return(s=s?s.displayName||s.name:"")?Xl(s):""}function W2(s){switch(s.tag){case 5:return Xl(s.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 2:case 15:return s=zo(s.type,!1),s;case 11:return s=zo(s.type.render,!1),s;case 1:return s=zo(s.type,!0),s;default:return""}}function Om(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case Ir:return"Fragment";case Ar:return"Portal";case Em:return"Profiler";case lu:return"StrictMode";case Am:return"Suspense";case Im:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case s0:return(s.displayName||"Context")+".Consumer";case e0:return(s._context.displayName||"Context")+".Provider";case iu:var t=s.render;return s=s.displayName,s||(s=t.displayName||t.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case cu:return t=s.displayName||null,t!==null?t:Om(s.type)||"Memo";case pn:t=s._payload,s=s._init;try{return Om(s(t))}catch{}}return null}function V2(s){var t=s.type;switch(s.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=t.render,s=s.displayName||s.name||"",t.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Om(t);case 8:return t===lu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zn(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function a0(s){var t=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function U2(s){var t=a0(s)?"checked":"value",a=Object.getOwnPropertyDescriptor(s.constructor.prototype,t),n=""+s[t];if(!s.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,l=a.set;return Object.defineProperty(s,t,{configurable:!0,get:function(){return r.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(s,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){s._valueTracker=null,delete s[t]}}}}function ic(s){s._valueTracker||(s._valueTracker=U2(s))}function n0(s){if(!s)return!1;var t=s._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return s&&(n=a0(s)?s.checked?"true":"false":s.value),s=n,s!==a?(t.setValue(s),!0):!1}function Xc(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function _m(s,t){var a=t.checked;return ws({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??s._wrapperState.initialChecked})}function Qh(s,t){var a=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;a=zn(t.value!=null?t.value:a),s._wrapperState={initialChecked:n,initialValue:a,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function r0(s,t){t=t.checked,t!=null&&ru(s,"checked",t,!1)}function Lm(s,t){r0(s,t);var a=zn(t.value),n=t.type;if(a!=null)n==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+a):s.value!==""+a&&(s.value=""+a);else if(n==="submit"||n==="reset"){s.removeAttribute("value");return}t.hasOwnProperty("value")?zm(s,t.type,a):t.hasOwnProperty("defaultValue")&&zm(s,t.type,zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(s.defaultChecked=!!t.defaultChecked)}function Xh(s,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+s._wrapperState.initialValue,a||t===s.value||(s.value=t),s.defaultValue=t}a=s.name,a!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,a!==""&&(s.name=a)}function zm(s,t,a){(t!=="number"||Xc(s.ownerDocument)!==s)&&(a==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+a&&(s.defaultValue=""+a))}var Zl=Array.isArray;function Gr(s,t,a,n){if(s=s.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<s.length;a++)r=t.hasOwnProperty("$"+s[a].value),s[a].selected!==r&&(s[a].selected=r),r&&n&&(s[a].defaultSelected=!0)}else{for(a=""+zn(a),t=null,r=0;r<s.length;r++){if(s[r].value===a){s[r].selected=!0,n&&(s[r].defaultSelected=!0);return}t!==null||s[r].disabled||(t=s[r])}t!==null&&(t.selected=!0)}}function Fm(s,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return ws({},t,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Zh(s,t){var a=t.value;if(a==null){if(a=t.children,t=t.defaultValue,a!=null){if(t!=null)throw Error(de(92));if(Zl(a)){if(1<a.length)throw Error(de(93));a=a[0]}t=a}t==null&&(t=""),a=t}s._wrapperState={initialValue:zn(a)}}function l0(s,t){var a=zn(t.value),n=zn(t.defaultValue);a!=null&&(a=""+a,a!==s.value&&(s.value=a),t.defaultValue==null&&s.defaultValue!==a&&(s.defaultValue=a)),n!=null&&(s.defaultValue=""+n)}function Jh(s){var t=s.textContent;t===s._wrapperState.initialValue&&t!==""&&t!==null&&(s.value=t)}function i0(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $m(s,t){return s==null||s==="http://www.w3.org/1999/xhtml"?i0(t):s==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var cc,c0=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,a,n,r){MSApp.execUnsafeLocalFunction(function(){return s(t,a,n,r)})}:s}(function(s,t){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=t;else{for(cc=cc||document.createElement("div"),cc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cc.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;t.firstChild;)s.appendChild(t.firstChild)}});function gi(s,t){if(t){var a=s.firstChild;if(a&&a===s.lastChild&&a.nodeType===3){a.nodeValue=t;return}}s.textContent=t}var ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q2=["Webkit","ms","Moz","O"];Object.keys(ni).forEach(function(s){q2.forEach(function(t){t=t+s.charAt(0).toUpperCase()+s.substring(1),ni[t]=ni[s]})});function d0(s,t,a){return t==null||typeof t=="boolean"||t===""?"":a||typeof t!="number"||t===0||ni.hasOwnProperty(s)&&ni[s]?(""+t).trim():t+"px"}function o0(s,t){s=s.style;for(var a in t)if(t.hasOwnProperty(a)){var n=a.indexOf("--")===0,r=d0(a,t[a],n);a==="float"&&(a="cssFloat"),n?s.setProperty(a,r):s[a]=r}}var H2=ws({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bm(s,t){if(t){if(H2[s]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,s));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function Wm(s,t){if(s.indexOf("-")===-1)return typeof t.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vm=null;function du(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Um=null,Yr=null,Kr=null;function ef(s){if(s=qi(s)){if(typeof Um!="function")throw Error(de(280));var t=s.stateNode;t&&(t=Wd(t),Um(s.stateNode,s.type,t))}}function m0(s){Yr?Kr?Kr.push(s):Kr=[s]:Yr=s}function x0(){if(Yr){var s=Yr,t=Kr;if(Kr=Yr=null,ef(s),t)for(s=0;s<t.length;s++)ef(t[s])}}function u0(s,t){return s(t)}function h0(){}var Fo=!1;function f0(s,t,a){if(Fo)return s(t,a);Fo=!0;try{return u0(s,t,a)}finally{Fo=!1,(Yr!==null||Kr!==null)&&(h0(),x0())}}function vi(s,t){var a=s.stateNode;if(a===null)return null;var n=Wd(a);if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(s=s.type,n=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!n;break e;default:s=!1}if(s)return null;if(a&&typeof a!="function")throw Error(de(231,t,typeof a));return a}var qm=!1;if(Qa)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){qm=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{qm=!1}function G2(s,t,a,n,r,l,i,c,d){var m=Array.prototype.slice.call(arguments,3);try{t.apply(a,m)}catch(u){this.onError(u)}}var ri=!1,Zc=null,Jc=!1,Hm=null,Y2={onError:function(s){ri=!0,Zc=s}};function K2(s,t,a,n,r,l,i,c,d){ri=!1,Zc=null,G2.apply(Y2,arguments)}function Q2(s,t,a,n,r,l,i,c,d){if(K2.apply(this,arguments),ri){if(ri){var m=Zc;ri=!1,Zc=null}else throw Error(de(198));Jc||(Jc=!0,Hm=m)}}function wr(s){var t=s,a=s;if(s.alternate)for(;t.return;)t=t.return;else{s=t;do t=s,t.flags&4098&&(a=t.return),s=t.return;while(s)}return t.tag===3?a:null}function p0(s){if(s.tag===13){var t=s.memoizedState;if(t===null&&(s=s.alternate,s!==null&&(t=s.memoizedState)),t!==null)return t.dehydrated}return null}function sf(s){if(wr(s)!==s)throw Error(de(188))}function X2(s){var t=s.alternate;if(!t){if(t=wr(s),t===null)throw Error(de(188));return t!==s?null:s}for(var a=s,n=t;;){var r=a.return;if(r===null)break;var l=r.alternate;if(l===null){if(n=r.return,n!==null){a=n;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===a)return sf(r),s;if(l===n)return sf(r),t;l=l.sibling}throw Error(de(188))}if(a.return!==n.return)a=r,n=l;else{for(var i=!1,c=r.child;c;){if(c===a){i=!0,a=r,n=l;break}if(c===n){i=!0,n=r,a=l;break}c=c.sibling}if(!i){for(c=l.child;c;){if(c===a){i=!0,a=l,n=r;break}if(c===n){i=!0,n=l,a=r;break}c=c.sibling}if(!i)throw Error(de(189))}}if(a.alternate!==n)throw Error(de(190))}if(a.tag!==3)throw Error(de(188));return a.stateNode.current===a?s:t}function j0(s){return s=X2(s),s!==null?g0(s):null}function g0(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var t=g0(s);if(t!==null)return t;s=s.sibling}return null}var v0=It.unstable_scheduleCallback,tf=It.unstable_cancelCallback,Z2=It.unstable_shouldYield,J2=It.unstable_requestPaint,Ps=It.unstable_now,e4=It.unstable_getCurrentPriorityLevel,ou=It.unstable_ImmediatePriority,N0=It.unstable_UserBlockingPriority,ed=It.unstable_NormalPriority,s4=It.unstable_LowPriority,y0=It.unstable_IdlePriority,zd=null,ka=null;function t4(s){if(ka&&typeof ka.onCommitFiberRoot=="function")try{ka.onCommitFiberRoot(zd,s,void 0,(s.current.flags&128)===128)}catch{}}var ia=Math.clz32?Math.clz32:r4,a4=Math.log,n4=Math.LN2;function r4(s){return s>>>=0,s===0?32:31-(a4(s)/n4|0)|0}var dc=64,oc=4194304;function Jl(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function sd(s,t){var a=s.pendingLanes;if(a===0)return 0;var n=0,r=s.suspendedLanes,l=s.pingedLanes,i=a&268435455;if(i!==0){var c=i&~r;c!==0?n=Jl(c):(l&=i,l!==0&&(n=Jl(l)))}else i=a&~r,i!==0?n=Jl(i):l!==0&&(n=Jl(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&r)&&(r=n&-n,l=t&-t,r>=l||r===16&&(l&4194240)!==0))return t;if(n&4&&(n|=a&16),t=s.entangledLanes,t!==0)for(s=s.entanglements,t&=n;0<t;)a=31-ia(t),r=1<<a,n|=s[a],t&=~r;return n}function l4(s,t){switch(s){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i4(s,t){for(var a=s.suspendedLanes,n=s.pingedLanes,r=s.expirationTimes,l=s.pendingLanes;0<l;){var i=31-ia(l),c=1<<i,d=r[i];d===-1?(!(c&a)||c&n)&&(r[i]=l4(c,t)):d<=t&&(s.expiredLanes|=c),l&=~c}}function Gm(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function w0(){var s=dc;return dc<<=1,!(dc&4194240)&&(dc=64),s}function $o(s){for(var t=[],a=0;31>a;a++)t.push(s);return t}function Vi(s,t,a){s.pendingLanes|=t,t!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,t=31-ia(t),s[t]=a}function c4(s,t){var a=s.pendingLanes&~t;s.pendingLanes=t,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=t,s.mutableReadLanes&=t,s.entangledLanes&=t,t=s.entanglements;var n=s.eventTimes;for(s=s.expirationTimes;0<a;){var r=31-ia(a),l=1<<r;t[r]=0,n[r]=-1,s[r]=-1,a&=~l}}function mu(s,t){var a=s.entangledLanes|=t;for(s=s.entanglements;a;){var n=31-ia(a),r=1<<n;r&t|s[n]&t&&(s[n]|=t),a&=~r}}var ns=0;function b0(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var S0,xu,C0,k0,M0,Ym=!1,mc=[],bn=null,Sn=null,Cn=null,Ni=new Map,yi=new Map,gn=[],d4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function af(s,t){switch(s){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":Ni.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(t.pointerId)}}function Wl(s,t,a,n,r,l){return s===null||s.nativeEvent!==l?(s={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:l,targetContainers:[r]},t!==null&&(t=qi(t),t!==null&&xu(t)),s):(s.eventSystemFlags|=n,t=s.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),s)}function o4(s,t,a,n,r){switch(t){case"focusin":return bn=Wl(bn,s,t,a,n,r),!0;case"dragenter":return Sn=Wl(Sn,s,t,a,n,r),!0;case"mouseover":return Cn=Wl(Cn,s,t,a,n,r),!0;case"pointerover":var l=r.pointerId;return Ni.set(l,Wl(Ni.get(l)||null,s,t,a,n,r)),!0;case"gotpointercapture":return l=r.pointerId,yi.set(l,Wl(yi.get(l)||null,s,t,a,n,r)),!0}return!1}function P0(s){var t=ar(s.target);if(t!==null){var a=wr(t);if(a!==null){if(t=a.tag,t===13){if(t=p0(a),t!==null){s.blockedOn=t,M0(s.priority,function(){C0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){s.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}s.blockedOn=null}function _c(s){if(s.blockedOn!==null)return!1;for(var t=s.targetContainers;0<t.length;){var a=Km(s.domEventName,s.eventSystemFlags,t[0],s.nativeEvent);if(a===null){a=s.nativeEvent;var n=new a.constructor(a.type,a);Vm=n,a.target.dispatchEvent(n),Vm=null}else return t=qi(a),t!==null&&xu(t),s.blockedOn=a,!1;t.shift()}return!0}function nf(s,t,a){_c(s)&&a.delete(t)}function m4(){Ym=!1,bn!==null&&_c(bn)&&(bn=null),Sn!==null&&_c(Sn)&&(Sn=null),Cn!==null&&_c(Cn)&&(Cn=null),Ni.forEach(nf),yi.forEach(nf)}function Vl(s,t){s.blockedOn===t&&(s.blockedOn=null,Ym||(Ym=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,m4)))}function wi(s){function t(r){return Vl(r,s)}if(0<mc.length){Vl(mc[0],s);for(var a=1;a<mc.length;a++){var n=mc[a];n.blockedOn===s&&(n.blockedOn=null)}}for(bn!==null&&Vl(bn,s),Sn!==null&&Vl(Sn,s),Cn!==null&&Vl(Cn,s),Ni.forEach(t),yi.forEach(t),a=0;a<gn.length;a++)n=gn[a],n.blockedOn===s&&(n.blockedOn=null);for(;0<gn.length&&(a=gn[0],a.blockedOn===null);)P0(a),a.blockedOn===null&&gn.shift()}var Qr=an.ReactCurrentBatchConfig,td=!0;function x4(s,t,a,n){var r=ns,l=Qr.transition;Qr.transition=null;try{ns=1,uu(s,t,a,n)}finally{ns=r,Qr.transition=l}}function u4(s,t,a,n){var r=ns,l=Qr.transition;Qr.transition=null;try{ns=4,uu(s,t,a,n)}finally{ns=r,Qr.transition=l}}function uu(s,t,a,n){if(td){var r=Km(s,t,a,n);if(r===null)Qo(s,t,n,ad,a),af(s,n);else if(o4(r,s,t,a,n))n.stopPropagation();else if(af(s,n),t&4&&-1<d4.indexOf(s)){for(;r!==null;){var l=qi(r);if(l!==null&&S0(l),l=Km(s,t,a,n),l===null&&Qo(s,t,n,ad,a),l===r)break;r=l}r!==null&&n.stopPropagation()}else Qo(s,t,n,null,a)}}var ad=null;function Km(s,t,a,n){if(ad=null,s=du(n),s=ar(s),s!==null)if(t=wr(s),t===null)s=null;else if(a=t.tag,a===13){if(s=p0(t),s!==null)return s;s=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;s=null}else t!==s&&(s=null);return ad=s,null}function T0(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e4()){case ou:return 1;case N0:return 4;case ed:case s4:return 16;case y0:return 536870912;default:return 16}default:return 16}}var Nn=null,hu=null,Lc=null;function D0(){if(Lc)return Lc;var s,t=hu,a=t.length,n,r="value"in Nn?Nn.value:Nn.textContent,l=r.length;for(s=0;s<a&&t[s]===r[s];s++);var i=a-s;for(n=1;n<=i&&t[a-n]===r[l-n];n++);return Lc=r.slice(s,1<n?1-n:void 0)}function zc(s){var t=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&t===13&&(s=13)):s=t,s===10&&(s=13),32<=s||s===13?s:0}function xc(){return!0}function rf(){return!1}function $t(s){function t(a,n,r,l,i){this._reactName=a,this._targetInst=r,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var c in s)s.hasOwnProperty(c)&&(a=s[c],this[c]=a?a(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?xc:rf,this.isPropagationStopped=rf,this}return ws(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xc)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xc)},persist:function(){},isPersistent:xc}),t}var Sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fu=$t(Sl),Ui=ws({},Sl,{view:0,detail:0}),h4=$t(Ui),Bo,Wo,Ul,Fd=ws({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ul&&(Ul&&s.type==="mousemove"?(Bo=s.screenX-Ul.screenX,Wo=s.screenY-Ul.screenY):Wo=Bo=0,Ul=s),Bo)},movementY:function(s){return"movementY"in s?s.movementY:Wo}}),lf=$t(Fd),f4=ws({},Fd,{dataTransfer:0}),p4=$t(f4),j4=ws({},Ui,{relatedTarget:0}),Vo=$t(j4),g4=ws({},Sl,{animationName:0,elapsedTime:0,pseudoElement:0}),v4=$t(g4),N4=ws({},Sl,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),y4=$t(N4),w4=ws({},Sl,{data:0}),cf=$t(w4),b4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k4(s){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(s):(s=C4[s])?!!t[s]:!1}function pu(){return k4}var M4=ws({},Ui,{key:function(s){if(s.key){var t=b4[s.key]||s.key;if(t!=="Unidentified")return t}return s.type==="keypress"?(s=zc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?S4[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pu,charCode:function(s){return s.type==="keypress"?zc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?zc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),P4=$t(M4),T4=ws({},Fd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),df=$t(T4),D4=ws({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pu}),R4=$t(D4),E4=ws({},Sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),A4=$t(E4),I4=ws({},Fd,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),O4=$t(I4),_4=[9,13,27,32],ju=Qa&&"CompositionEvent"in window,li=null;Qa&&"documentMode"in document&&(li=document.documentMode);var L4=Qa&&"TextEvent"in window&&!li,R0=Qa&&(!ju||li&&8<li&&11>=li),of=" ",mf=!1;function E0(s,t){switch(s){case"keyup":return _4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Or=!1;function z4(s,t){switch(s){case"compositionend":return A0(t);case"keypress":return t.which!==32?null:(mf=!0,of);case"textInput":return s=t.data,s===of&&mf?null:s;default:return null}}function F4(s,t){if(Or)return s==="compositionend"||!ju&&E0(s,t)?(s=D0(),Lc=hu=Nn=null,Or=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return R0&&t.locale!=="ko"?null:t.data;default:return null}}var $4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xf(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t==="input"?!!$4[s.type]:t==="textarea"}function I0(s,t,a,n){m0(n),t=nd(t,"onChange"),0<t.length&&(a=new fu("onChange","change",null,a,n),s.push({event:a,listeners:t}))}var ii=null,bi=null;function B4(s){q0(s,0)}function $d(s){var t=zr(s);if(n0(t))return s}function W4(s,t){if(s==="change")return t}var O0=!1;if(Qa){var Uo;if(Qa){var qo="oninput"in document;if(!qo){var uf=document.createElement("div");uf.setAttribute("oninput","return;"),qo=typeof uf.oninput=="function"}Uo=qo}else Uo=!1;O0=Uo&&(!document.documentMode||9<document.documentMode)}function hf(){ii&&(ii.detachEvent("onpropertychange",_0),bi=ii=null)}function _0(s){if(s.propertyName==="value"&&$d(bi)){var t=[];I0(t,bi,s,du(s)),f0(B4,t)}}function V4(s,t,a){s==="focusin"?(hf(),ii=t,bi=a,ii.attachEvent("onpropertychange",_0)):s==="focusout"&&hf()}function U4(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return $d(bi)}function q4(s,t){if(s==="click")return $d(t)}function H4(s,t){if(s==="input"||s==="change")return $d(t)}function G4(s,t){return s===t&&(s!==0||1/s===1/t)||s!==s&&t!==t}var da=typeof Object.is=="function"?Object.is:G4;function Si(s,t){if(da(s,t))return!0;if(typeof s!="object"||s===null||typeof t!="object"||t===null)return!1;var a=Object.keys(s),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!Rm.call(t,r)||!da(s[r],t[r]))return!1}return!0}function ff(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function pf(s,t){var a=ff(s);s=0;for(var n;a;){if(a.nodeType===3){if(n=s+a.textContent.length,s<=t&&n>=t)return{node:a,offset:t-s};s=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ff(a)}}function L0(s,t){return s&&t?s===t?!0:s&&s.nodeType===3?!1:t&&t.nodeType===3?L0(s,t.parentNode):"contains"in s?s.contains(t):s.compareDocumentPosition?!!(s.compareDocumentPosition(t)&16):!1:!1}function z0(){for(var s=window,t=Xc();t instanceof s.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)s=t.contentWindow;else break;t=Xc(s.document)}return t}function gu(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t&&(t==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||t==="textarea"||s.contentEditable==="true")}function Y4(s){var t=z0(),a=s.focusedElem,n=s.selectionRange;if(t!==a&&a&&a.ownerDocument&&L0(a.ownerDocument.documentElement,a)){if(n!==null&&gu(a)){if(t=n.start,s=n.end,s===void 0&&(s=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(s,a.value.length);else if(s=(t=a.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var r=a.textContent.length,l=Math.min(n.start,r);n=n.end===void 0?l:Math.min(n.end,r),!s.extend&&l>n&&(r=n,n=l,l=r),r=pf(a,l);var i=pf(a,n);r&&i&&(s.rangeCount!==1||s.anchorNode!==r.node||s.anchorOffset!==r.offset||s.focusNode!==i.node||s.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),s.removeAllRanges(),l>n?(s.addRange(t),s.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),s.addRange(t)))}}for(t=[],s=a;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)s=t[a],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var K4=Qa&&"documentMode"in document&&11>=document.documentMode,_r=null,Qm=null,ci=null,Xm=!1;function jf(s,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xm||_r==null||_r!==Xc(n)||(n=_r,"selectionStart"in n&&gu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ci&&Si(ci,n)||(ci=n,n=nd(Qm,"onSelect"),0<n.length&&(t=new fu("onSelect","select",null,t,a),s.push({event:t,listeners:n}),t.target=_r)))}function uc(s,t){var a={};return a[s.toLowerCase()]=t.toLowerCase(),a["Webkit"+s]="webkit"+t,a["Moz"+s]="moz"+t,a}var Lr={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},Ho={},F0={};Qa&&(F0=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Bd(s){if(Ho[s])return Ho[s];if(!Lr[s])return s;var t=Lr[s],a;for(a in t)if(t.hasOwnProperty(a)&&a in F0)return Ho[s]=t[a];return s}var $0=Bd("animationend"),B0=Bd("animationiteration"),W0=Bd("animationstart"),V0=Bd("transitionend"),U0=new Map,gf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(s,t){U0.set(s,t),yr(t,[s])}for(var Go=0;Go<gf.length;Go++){var Yo=gf[Go],Q4=Yo.toLowerCase(),X4=Yo[0].toUpperCase()+Yo.slice(1);Un(Q4,"on"+X4)}Un($0,"onAnimationEnd");Un(B0,"onAnimationIteration");Un(W0,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(V0,"onTransitionEnd");rl("onMouseEnter",["mouseout","mouseover"]);rl("onMouseLeave",["mouseout","mouseover"]);rl("onPointerEnter",["pointerout","pointerover"]);rl("onPointerLeave",["pointerout","pointerover"]);yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z4=new Set("cancel close invalid load scroll toggle".split(" ").concat(ei));function vf(s,t,a){var n=s.type||"unknown-event";s.currentTarget=a,Q2(n,t,void 0,s),s.currentTarget=null}function q0(s,t){t=(t&4)!==0;for(var a=0;a<s.length;a++){var n=s[a],r=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var i=n.length-1;0<=i;i--){var c=n[i],d=c.instance,m=c.currentTarget;if(c=c.listener,d!==l&&r.isPropagationStopped())break e;vf(r,c,m),l=d}else for(i=0;i<n.length;i++){if(c=n[i],d=c.instance,m=c.currentTarget,c=c.listener,d!==l&&r.isPropagationStopped())break e;vf(r,c,m),l=d}}}if(Jc)throw s=Hm,Jc=!1,Hm=null,s}function ms(s,t){var a=t[tx];a===void 0&&(a=t[tx]=new Set);var n=s+"__bubble";a.has(n)||(H0(t,s,2,!1),a.add(n))}function Ko(s,t,a){var n=0;t&&(n|=4),H0(a,s,n,t)}var hc="_reactListening"+Math.random().toString(36).slice(2);function Ci(s){if(!s[hc]){s[hc]=!0,Jg.forEach(function(a){a!=="selectionchange"&&(Z4.has(a)||Ko(a,!1,s),Ko(a,!0,s))});var t=s.nodeType===9?s:s.ownerDocument;t===null||t[hc]||(t[hc]=!0,Ko("selectionchange",!1,t))}}function H0(s,t,a,n){switch(T0(t)){case 1:var r=x4;break;case 4:r=u4;break;default:r=uu}a=r.bind(null,t,a,s),r=void 0,!qm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?s.addEventListener(t,a,{capture:!0,passive:r}):s.addEventListener(t,a,!0):r!==void 0?s.addEventListener(t,a,{passive:r}):s.addEventListener(t,a,!1)}function Qo(s,t,a,n,r){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var c=n.stateNode.containerInfo;if(c===r||c.nodeType===8&&c.parentNode===r)break;if(i===4)for(i=n.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;i=i.return}for(;c!==null;){if(i=ar(c),i===null)return;if(d=i.tag,d===5||d===6){n=l=i;continue e}c=c.parentNode}}n=n.return}f0(function(){var m=l,u=du(a),h=[];e:{var p=U0.get(s);if(p!==void 0){var g=fu,b=s;switch(s){case"keypress":if(zc(a)===0)break e;case"keydown":case"keyup":g=P4;break;case"focusin":b="focus",g=Vo;break;case"focusout":b="blur",g=Vo;break;case"beforeblur":case"afterblur":g=Vo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=p4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=R4;break;case $0:case B0:case W0:g=v4;break;case V0:g=A4;break;case"scroll":g=h4;break;case"wheel":g=O4;break;case"copy":case"cut":case"paste":g=y4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=df}var N=(t&4)!==0,j=!N&&s==="scroll",x=N?p!==null?p+"Capture":null:p;N=[];for(var f=m,w;f!==null;){w=f;var D=w.stateNode;if(w.tag===5&&D!==null&&(w=D,x!==null&&(D=vi(f,x),D!=null&&N.push(ki(f,D,w)))),j)break;f=f.return}0<N.length&&(p=new g(p,b,null,a,u),h.push({event:p,listeners:N}))}}if(!(t&7)){e:{if(p=s==="mouseover"||s==="pointerover",g=s==="mouseout"||s==="pointerout",p&&a!==Vm&&(b=a.relatedTarget||a.fromElement)&&(ar(b)||b[Xa]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(b=a.relatedTarget||a.toElement,g=m,b=b?ar(b):null,b!==null&&(j=wr(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=m),g!==b)){if(N=lf,D="onMouseLeave",x="onMouseEnter",f="mouse",(s==="pointerout"||s==="pointerover")&&(N=df,D="onPointerLeave",x="onPointerEnter",f="pointer"),j=g==null?p:zr(g),w=b==null?p:zr(b),p=new N(D,f+"leave",g,a,u),p.target=j,p.relatedTarget=w,D=null,ar(u)===m&&(N=new N(x,f+"enter",b,a,u),N.target=w,N.relatedTarget=j,D=N),j=D,g&&b)s:{for(N=g,x=b,f=0,w=N;w;w=Cr(w))f++;for(w=0,D=x;D;D=Cr(D))w++;for(;0<f-w;)N=Cr(N),f--;for(;0<w-f;)x=Cr(x),w--;for(;f--;){if(N===x||x!==null&&N===x.alternate)break s;N=Cr(N),x=Cr(x)}N=null}else N=null;g!==null&&Nf(h,p,g,N,!1),b!==null&&j!==null&&Nf(h,j,b,N,!0)}}e:{if(p=m?zr(m):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var y=W4;else if(xf(p))if(O0)y=H4;else{y=U4;var T=V4}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(y=q4);if(y&&(y=y(s,m))){I0(h,y,a,u);break e}T&&T(s,p,m),s==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&zm(p,"number",p.value)}switch(T=m?zr(m):window,s){case"focusin":(xf(T)||T.contentEditable==="true")&&(_r=T,Qm=m,ci=null);break;case"focusout":ci=Qm=_r=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,jf(h,a,u);break;case"selectionchange":if(K4)break;case"keydown":case"keyup":jf(h,a,u)}var v;if(ju)e:{switch(s){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Or?E0(s,a)&&(P="onCompositionEnd"):s==="keydown"&&a.keyCode===229&&(P="onCompositionStart");P&&(R0&&a.locale!=="ko"&&(Or||P!=="onCompositionStart"?P==="onCompositionEnd"&&Or&&(v=D0()):(Nn=u,hu="value"in Nn?Nn.value:Nn.textContent,Or=!0)),T=nd(m,P),0<T.length&&(P=new cf(P,s,null,a,u),h.push({event:P,listeners:T}),v?P.data=v:(v=A0(a),v!==null&&(P.data=v)))),(v=L4?z4(s,a):F4(s,a))&&(m=nd(m,"onBeforeInput"),0<m.length&&(u=new cf("onBeforeInput","beforeinput",null,a,u),h.push({event:u,listeners:m}),u.data=v))}q0(h,t)})}function ki(s,t,a){return{instance:s,listener:t,currentTarget:a}}function nd(s,t){for(var a=t+"Capture",n=[];s!==null;){var r=s,l=r.stateNode;r.tag===5&&l!==null&&(r=l,l=vi(s,a),l!=null&&n.unshift(ki(s,l,r)),l=vi(s,t),l!=null&&n.push(ki(s,l,r))),s=s.return}return n}function Cr(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Nf(s,t,a,n,r){for(var l=t._reactName,i=[];a!==null&&a!==n;){var c=a,d=c.alternate,m=c.stateNode;if(d!==null&&d===n)break;c.tag===5&&m!==null&&(c=m,r?(d=vi(a,l),d!=null&&i.unshift(ki(a,d,c))):r||(d=vi(a,l),d!=null&&i.push(ki(a,d,c)))),a=a.return}i.length!==0&&s.push({event:t,listeners:i})}var J4=/\r\n?/g,eS=/\u0000|\uFFFD/g;function yf(s){return(typeof s=="string"?s:""+s).replace(J4,`
`).replace(eS,"")}function fc(s,t,a){if(t=yf(t),yf(s)!==t&&a)throw Error(de(425))}function rd(){}var Zm=null,Jm=null;function ex(s,t){return s==="textarea"||s==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sx=typeof setTimeout=="function"?setTimeout:void 0,sS=typeof clearTimeout=="function"?clearTimeout:void 0,wf=typeof Promise=="function"?Promise:void 0,tS=typeof queueMicrotask=="function"?queueMicrotask:typeof wf<"u"?function(s){return wf.resolve(null).then(s).catch(aS)}:sx;function aS(s){setTimeout(function(){throw s})}function Xo(s,t){var a=t,n=0;do{var r=a.nextSibling;if(s.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(n===0){s.removeChild(r),wi(t);return}n--}else a!=="$"&&a!=="$?"&&a!=="$!"||n++;a=r}while(a);wi(t)}function kn(s){for(;s!=null;s=s.nextSibling){var t=s.nodeType;if(t===1||t===3)break;if(t===8){if(t=s.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return s}function bf(s){s=s.previousSibling;for(var t=0;s;){if(s.nodeType===8){var a=s.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return s;t--}else a==="/$"&&t++}s=s.previousSibling}return null}var Cl=Math.random().toString(36).slice(2),va="__reactFiber$"+Cl,Mi="__reactProps$"+Cl,Xa="__reactContainer$"+Cl,tx="__reactEvents$"+Cl,nS="__reactListeners$"+Cl,rS="__reactHandles$"+Cl;function ar(s){var t=s[va];if(t)return t;for(var a=s.parentNode;a;){if(t=a[Xa]||a[va]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(s=bf(s);s!==null;){if(a=s[va])return a;s=bf(s)}return t}s=a,a=s.parentNode}return null}function qi(s){return s=s[va]||s[Xa],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function zr(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(de(33))}function Wd(s){return s[Mi]||null}var ax=[],Fr=-1;function qn(s){return{current:s}}function us(s){0>Fr||(s.current=ax[Fr],ax[Fr]=null,Fr--)}function cs(s,t){Fr++,ax[Fr]=s.current,s.current=t}var Fn={},lt=qn(Fn),yt=qn(!1),mr=Fn;function ll(s,t){var a=s.type.contextTypes;if(!a)return Fn;var n=s.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r={},l;for(l in a)r[l]=t[l];return n&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=t,s.__reactInternalMemoizedMaskedChildContext=r),r}function wt(s){return s=s.childContextTypes,s!=null}function ld(){us(yt),us(lt)}function Sf(s,t,a){if(lt.current!==Fn)throw Error(de(168));cs(lt,t),cs(yt,a)}function G0(s,t,a){var n=s.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return a;n=n.getChildContext();for(var r in n)if(!(r in t))throw Error(de(108,V2(s)||"Unknown",r));return ws({},a,n)}function id(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Fn,mr=lt.current,cs(lt,s),cs(yt,yt.current),!0}function Cf(s,t,a){var n=s.stateNode;if(!n)throw Error(de(169));a?(s=G0(s,t,mr),n.__reactInternalMemoizedMergedChildContext=s,us(yt),us(lt),cs(lt,s)):us(yt),cs(yt,a)}var Va=null,Vd=!1,Zo=!1;function Y0(s){Va===null?Va=[s]:Va.push(s)}function lS(s){Vd=!0,Y0(s)}function Hn(){if(!Zo&&Va!==null){Zo=!0;var s=0,t=ns;try{var a=Va;for(ns=1;s<a.length;s++){var n=a[s];do n=n(!0);while(n!==null)}Va=null,Vd=!1}catch(r){throw Va!==null&&(Va=Va.slice(s+1)),v0(ou,Hn),r}finally{ns=t,Zo=!1}}return null}var $r=[],Br=0,cd=null,dd=0,Vt=[],Ut=0,xr=null,Ua=1,qa="";function Jn(s,t){$r[Br++]=dd,$r[Br++]=cd,cd=s,dd=t}function K0(s,t,a){Vt[Ut++]=Ua,Vt[Ut++]=qa,Vt[Ut++]=xr,xr=s;var n=Ua;s=qa;var r=32-ia(n)-1;n&=~(1<<r),a+=1;var l=32-ia(t)+r;if(30<l){var i=r-r%5;l=(n&(1<<i)-1).toString(32),n>>=i,r-=i,Ua=1<<32-ia(t)+r|a<<r|n,qa=l+s}else Ua=1<<l|a<<r|n,qa=s}function vu(s){s.return!==null&&(Jn(s,1),K0(s,1,0))}function Nu(s){for(;s===cd;)cd=$r[--Br],$r[Br]=null,dd=$r[--Br],$r[Br]=null;for(;s===xr;)xr=Vt[--Ut],Vt[Ut]=null,qa=Vt[--Ut],Vt[Ut]=null,Ua=Vt[--Ut],Vt[Ut]=null}var Et=null,Tt=null,js=!1,ta=null;function Q0(s,t){var a=qt(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=s,t=s.deletions,t===null?(s.deletions=[a],s.flags|=16):t.push(a)}function kf(s,t){switch(s.tag){case 5:var a=s.type;return t=t.nodeType!==1||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(s.stateNode=t,Et=s,Tt=kn(t.firstChild),!0):!1;case 6:return t=s.pendingProps===""||t.nodeType!==3?null:t,t!==null?(s.stateNode=t,Et=s,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(a=xr!==null?{id:Ua,overflow:qa}:null,s.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=qt(18,null,null,0),a.stateNode=t,a.return=s,s.child=a,Et=s,Tt=null,!0):!1;default:return!1}}function nx(s){return(s.mode&1)!==0&&(s.flags&128)===0}function rx(s){if(js){var t=Tt;if(t){var a=t;if(!kf(s,t)){if(nx(s))throw Error(de(418));t=kn(a.nextSibling);var n=Et;t&&kf(s,t)?Q0(n,a):(s.flags=s.flags&-4097|2,js=!1,Et=s)}}else{if(nx(s))throw Error(de(418));s.flags=s.flags&-4097|2,js=!1,Et=s}}}function Mf(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Et=s}function pc(s){if(s!==Et)return!1;if(!js)return Mf(s),js=!0,!1;var t;if((t=s.tag!==3)&&!(t=s.tag!==5)&&(t=s.type,t=t!=="head"&&t!=="body"&&!ex(s.type,s.memoizedProps)),t&&(t=Tt)){if(nx(s))throw X0(),Error(de(418));for(;t;)Q0(s,t),t=kn(t.nextSibling)}if(Mf(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(de(317));e:{for(s=s.nextSibling,t=0;s;){if(s.nodeType===8){var a=s.data;if(a==="/$"){if(t===0){Tt=kn(s.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++}s=s.nextSibling}Tt=null}}else Tt=Et?kn(s.stateNode.nextSibling):null;return!0}function X0(){for(var s=Tt;s;)s=kn(s.nextSibling)}function il(){Tt=Et=null,js=!1}function yu(s){ta===null?ta=[s]:ta.push(s)}var iS=an.ReactCurrentBatchConfig;function ql(s,t,a){if(s=a.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(de(309));var n=a.stateNode}if(!n)throw Error(de(147,s));var r=n,l=""+s;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var c=r.refs;i===null?delete c[l]:c[l]=i},t._stringRef=l,t)}if(typeof s!="string")throw Error(de(284));if(!a._owner)throw Error(de(290,s))}return s}function jc(s,t){throw s=Object.prototype.toString.call(t),Error(de(31,s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s))}function Pf(s){var t=s._init;return t(s._payload)}function Z0(s){function t(x,f){if(s){var w=x.deletions;w===null?(x.deletions=[f],x.flags|=16):w.push(f)}}function a(x,f){if(!s)return null;for(;f!==null;)t(x,f),f=f.sibling;return null}function n(x,f){for(x=new Map;f!==null;)f.key!==null?x.set(f.key,f):x.set(f.index,f),f=f.sibling;return x}function r(x,f){return x=Dn(x,f),x.index=0,x.sibling=null,x}function l(x,f,w){return x.index=w,s?(w=x.alternate,w!==null?(w=w.index,w<f?(x.flags|=2,f):w):(x.flags|=2,f)):(x.flags|=1048576,f)}function i(x){return s&&x.alternate===null&&(x.flags|=2),x}function c(x,f,w,D){return f===null||f.tag!==6?(f=rm(w,x.mode,D),f.return=x,f):(f=r(f,w),f.return=x,f)}function d(x,f,w,D){var y=w.type;return y===Ir?u(x,f,w.props.children,D,w.key):f!==null&&(f.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===pn&&Pf(y)===f.type)?(D=r(f,w.props),D.ref=ql(x,f,w),D.return=x,D):(D=qc(w.type,w.key,w.props,null,x.mode,D),D.ref=ql(x,f,w),D.return=x,D)}function m(x,f,w,D){return f===null||f.tag!==4||f.stateNode.containerInfo!==w.containerInfo||f.stateNode.implementation!==w.implementation?(f=lm(w,x.mode,D),f.return=x,f):(f=r(f,w.children||[]),f.return=x,f)}function u(x,f,w,D,y){return f===null||f.tag!==7?(f=cr(w,x.mode,D,y),f.return=x,f):(f=r(f,w),f.return=x,f)}function h(x,f,w){if(typeof f=="string"&&f!==""||typeof f=="number")return f=rm(""+f,x.mode,w),f.return=x,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case lc:return w=qc(f.type,f.key,f.props,null,x.mode,w),w.ref=ql(x,null,f),w.return=x,w;case Ar:return f=lm(f,x.mode,w),f.return=x,f;case pn:var D=f._init;return h(x,D(f._payload),w)}if(Zl(f)||$l(f))return f=cr(f,x.mode,w,null),f.return=x,f;jc(x,f)}return null}function p(x,f,w,D){var y=f!==null?f.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return y!==null?null:c(x,f,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case lc:return w.key===y?d(x,f,w,D):null;case Ar:return w.key===y?m(x,f,w,D):null;case pn:return y=w._init,p(x,f,y(w._payload),D)}if(Zl(w)||$l(w))return y!==null?null:u(x,f,w,D,null);jc(x,w)}return null}function g(x,f,w,D,y){if(typeof D=="string"&&D!==""||typeof D=="number")return x=x.get(w)||null,c(f,x,""+D,y);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case lc:return x=x.get(D.key===null?w:D.key)||null,d(f,x,D,y);case Ar:return x=x.get(D.key===null?w:D.key)||null,m(f,x,D,y);case pn:var T=D._init;return g(x,f,w,T(D._payload),y)}if(Zl(D)||$l(D))return x=x.get(w)||null,u(f,x,D,y,null);jc(f,D)}return null}function b(x,f,w,D){for(var y=null,T=null,v=f,P=f=0,k=null;v!==null&&P<w.length;P++){v.index>P?(k=v,v=null):k=v.sibling;var C=p(x,v,w[P],D);if(C===null){v===null&&(v=k);break}s&&v&&C.alternate===null&&t(x,v),f=l(C,f,P),T===null?y=C:T.sibling=C,T=C,v=k}if(P===w.length)return a(x,v),js&&Jn(x,P),y;if(v===null){for(;P<w.length;P++)v=h(x,w[P],D),v!==null&&(f=l(v,f,P),T===null?y=v:T.sibling=v,T=v);return js&&Jn(x,P),y}for(v=n(x,v);P<w.length;P++)k=g(v,x,P,w[P],D),k!==null&&(s&&k.alternate!==null&&v.delete(k.key===null?P:k.key),f=l(k,f,P),T===null?y=k:T.sibling=k,T=k);return s&&v.forEach(function(M){return t(x,M)}),js&&Jn(x,P),y}function N(x,f,w,D){var y=$l(w);if(typeof y!="function")throw Error(de(150));if(w=y.call(w),w==null)throw Error(de(151));for(var T=y=null,v=f,P=f=0,k=null,C=w.next();v!==null&&!C.done;P++,C=w.next()){v.index>P?(k=v,v=null):k=v.sibling;var M=p(x,v,C.value,D);if(M===null){v===null&&(v=k);break}s&&v&&M.alternate===null&&t(x,v),f=l(M,f,P),T===null?y=M:T.sibling=M,T=M,v=k}if(C.done)return a(x,v),js&&Jn(x,P),y;if(v===null){for(;!C.done;P++,C=w.next())C=h(x,C.value,D),C!==null&&(f=l(C,f,P),T===null?y=C:T.sibling=C,T=C);return js&&Jn(x,P),y}for(v=n(x,v);!C.done;P++,C=w.next())C=g(v,x,P,C.value,D),C!==null&&(s&&C.alternate!==null&&v.delete(C.key===null?P:C.key),f=l(C,f,P),T===null?y=C:T.sibling=C,T=C);return s&&v.forEach(function(z){return t(x,z)}),js&&Jn(x,P),y}function j(x,f,w,D){if(typeof w=="object"&&w!==null&&w.type===Ir&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case lc:e:{for(var y=w.key,T=f;T!==null;){if(T.key===y){if(y=w.type,y===Ir){if(T.tag===7){a(x,T.sibling),f=r(T,w.props.children),f.return=x,x=f;break e}}else if(T.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===pn&&Pf(y)===T.type){a(x,T.sibling),f=r(T,w.props),f.ref=ql(x,T,w),f.return=x,x=f;break e}a(x,T);break}else t(x,T);T=T.sibling}w.type===Ir?(f=cr(w.props.children,x.mode,D,w.key),f.return=x,x=f):(D=qc(w.type,w.key,w.props,null,x.mode,D),D.ref=ql(x,f,w),D.return=x,x=D)}return i(x);case Ar:e:{for(T=w.key;f!==null;){if(f.key===T)if(f.tag===4&&f.stateNode.containerInfo===w.containerInfo&&f.stateNode.implementation===w.implementation){a(x,f.sibling),f=r(f,w.children||[]),f.return=x,x=f;break e}else{a(x,f);break}else t(x,f);f=f.sibling}f=lm(w,x.mode,D),f.return=x,x=f}return i(x);case pn:return T=w._init,j(x,f,T(w._payload),D)}if(Zl(w))return b(x,f,w,D);if($l(w))return N(x,f,w,D);jc(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,f!==null&&f.tag===6?(a(x,f.sibling),f=r(f,w),f.return=x,x=f):(a(x,f),f=rm(w,x.mode,D),f.return=x,x=f),i(x)):a(x,f)}return j}var cl=Z0(!0),J0=Z0(!1),od=qn(null),md=null,Wr=null,wu=null;function bu(){wu=Wr=md=null}function Su(s){var t=od.current;us(od),s._currentValue=t}function lx(s,t,a){for(;s!==null;){var n=s.alternate;if((s.childLanes&t)!==t?(s.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),s===a)break;s=s.return}}function Xr(s,t){md=s,wu=Wr=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&t&&(vt=!0),s.firstContext=null)}function Gt(s){var t=s._currentValue;if(wu!==s)if(s={context:s,memoizedValue:t,next:null},Wr===null){if(md===null)throw Error(de(308));Wr=s,md.dependencies={lanes:0,firstContext:s}}else Wr=Wr.next=s;return t}var nr=null;function Cu(s){nr===null?nr=[s]:nr.push(s)}function ev(s,t,a,n){var r=t.interleaved;return r===null?(a.next=a,Cu(t)):(a.next=r.next,r.next=a),t.interleaved=a,Za(s,n)}function Za(s,t){s.lanes|=t;var a=s.alternate;for(a!==null&&(a.lanes|=t),a=s,s=s.return;s!==null;)s.childLanes|=t,a=s.alternate,a!==null&&(a.childLanes|=t),a=s,s=s.return;return a.tag===3?a.stateNode:null}var jn=!1;function ku(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sv(s,t){s=s.updateQueue,t.updateQueue===s&&(t.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ya(s,t){return{eventTime:s,lane:t,tag:0,payload:null,callback:null,next:null}}function Mn(s,t,a){var n=s.updateQueue;if(n===null)return null;if(n=n.shared,Ze&2){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,Za(s,a)}return r=n.interleaved,r===null?(t.next=t,Cu(n)):(t.next=r.next,r.next=t),n.interleaved=t,Za(s,a)}function Fc(s,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var n=t.lanes;n&=s.pendingLanes,a|=n,t.lanes=a,mu(s,a)}}function Tf(s,t){var a=s.updateQueue,n=s.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var r=null,l=null;if(a=a.firstBaseUpdate,a!==null){do{var i={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};l===null?r=l=i:l=l.next=i,a=a.next}while(a!==null);l===null?r=l=t:l=l.next=t}else r=l=t;a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:l,shared:n.shared,effects:n.effects},s.updateQueue=a;return}s=a.lastBaseUpdate,s===null?a.firstBaseUpdate=t:s.next=t,a.lastBaseUpdate=t}function xd(s,t,a,n){var r=s.updateQueue;jn=!1;var l=r.firstBaseUpdate,i=r.lastBaseUpdate,c=r.shared.pending;if(c!==null){r.shared.pending=null;var d=c,m=d.next;d.next=null,i===null?l=m:i.next=m,i=d;var u=s.alternate;u!==null&&(u=u.updateQueue,c=u.lastBaseUpdate,c!==i&&(c===null?u.firstBaseUpdate=m:c.next=m,u.lastBaseUpdate=d))}if(l!==null){var h=r.baseState;i=0,u=m=d=null,c=l;do{var p=c.lane,g=c.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:g,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var b=s,N=c;switch(p=t,g=a,N.tag){case 1:if(b=N.payload,typeof b=="function"){h=b.call(g,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=N.payload,p=typeof b=="function"?b.call(g,h,p):b,p==null)break e;h=ws({},h,p);break e;case 2:jn=!0}}c.callback!==null&&c.lane!==0&&(s.flags|=64,p=r.effects,p===null?r.effects=[c]:p.push(c))}else g={eventTime:g,lane:p,tag:c.tag,payload:c.payload,callback:c.callback,next:null},u===null?(m=u=g,d=h):u=u.next=g,i|=p;if(c=c.next,c===null){if(c=r.shared.pending,c===null)break;p=c,c=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(u===null&&(d=h),r.baseState=d,r.firstBaseUpdate=m,r.lastBaseUpdate=u,t=r.shared.interleaved,t!==null){r=t;do i|=r.lane,r=r.next;while(r!==t)}else l===null&&(r.shared.lanes=0);hr|=i,s.lanes=i,s.memoizedState=h}}function Df(s,t,a){if(s=t.effects,t.effects=null,s!==null)for(t=0;t<s.length;t++){var n=s[t],r=n.callback;if(r!==null){if(n.callback=null,n=a,typeof r!="function")throw Error(de(191,r));r.call(n)}}}var Hi={},Ma=qn(Hi),Pi=qn(Hi),Ti=qn(Hi);function rr(s){if(s===Hi)throw Error(de(174));return s}function Mu(s,t){switch(cs(Ti,t),cs(Pi,s),cs(Ma,Hi),s=t.nodeType,s){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$m(null,"");break;default:s=s===8?t.parentNode:t,t=s.namespaceURI||null,s=s.tagName,t=$m(t,s)}us(Ma),cs(Ma,t)}function dl(){us(Ma),us(Pi),us(Ti)}function tv(s){rr(Ti.current);var t=rr(Ma.current),a=$m(t,s.type);t!==a&&(cs(Pi,s),cs(Ma,a))}function Pu(s){Pi.current===s&&(us(Ma),us(Pi))}var vs=qn(0);function ud(s){for(var t=s;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jo=[];function Tu(){for(var s=0;s<Jo.length;s++)Jo[s]._workInProgressVersionPrimary=null;Jo.length=0}var $c=an.ReactCurrentDispatcher,em=an.ReactCurrentBatchConfig,ur=0,ys=null,Ls=null,$s=null,hd=!1,di=!1,Di=0,cS=0;function et(){throw Error(de(321))}function Du(s,t){if(t===null)return!1;for(var a=0;a<t.length&&a<s.length;a++)if(!da(s[a],t[a]))return!1;return!0}function Ru(s,t,a,n,r,l){if(ur=l,ys=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$c.current=s===null||s.memoizedState===null?xS:uS,s=a(n,r),di){l=0;do{if(di=!1,Di=0,25<=l)throw Error(de(301));l+=1,$s=Ls=null,t.updateQueue=null,$c.current=hS,s=a(n,r)}while(di)}if($c.current=fd,t=Ls!==null&&Ls.next!==null,ur=0,$s=Ls=ys=null,hd=!1,t)throw Error(de(300));return s}function Eu(){var s=Di!==0;return Di=0,s}function ja(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $s===null?ys.memoizedState=$s=s:$s=$s.next=s,$s}function Yt(){if(Ls===null){var s=ys.alternate;s=s!==null?s.memoizedState:null}else s=Ls.next;var t=$s===null?ys.memoizedState:$s.next;if(t!==null)$s=t,Ls=s;else{if(s===null)throw Error(de(310));Ls=s,s={memoizedState:Ls.memoizedState,baseState:Ls.baseState,baseQueue:Ls.baseQueue,queue:Ls.queue,next:null},$s===null?ys.memoizedState=$s=s:$s=$s.next=s}return $s}function Ri(s,t){return typeof t=="function"?t(s):t}function sm(s){var t=Yt(),a=t.queue;if(a===null)throw Error(de(311));a.lastRenderedReducer=s;var n=Ls,r=n.baseQueue,l=a.pending;if(l!==null){if(r!==null){var i=r.next;r.next=l.next,l.next=i}n.baseQueue=r=l,a.pending=null}if(r!==null){l=r.next,n=n.baseState;var c=i=null,d=null,m=l;do{var u=m.lane;if((ur&u)===u)d!==null&&(d=d.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),n=m.hasEagerState?m.eagerState:s(n,m.action);else{var h={lane:u,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};d===null?(c=d=h,i=n):d=d.next=h,ys.lanes|=u,hr|=u}m=m.next}while(m!==null&&m!==l);d===null?i=n:d.next=c,da(n,t.memoizedState)||(vt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=d,a.lastRenderedState=n}if(s=a.interleaved,s!==null){r=s;do l=r.lane,ys.lanes|=l,hr|=l,r=r.next;while(r!==s)}else r===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function tm(s){var t=Yt(),a=t.queue;if(a===null)throw Error(de(311));a.lastRenderedReducer=s;var n=a.dispatch,r=a.pending,l=t.memoizedState;if(r!==null){a.pending=null;var i=r=r.next;do l=s(l,i.action),i=i.next;while(i!==r);da(l,t.memoizedState)||(vt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),a.lastRenderedState=l}return[l,n]}function av(){}function nv(s,t){var a=ys,n=Yt(),r=t(),l=!da(n.memoizedState,r);if(l&&(n.memoizedState=r,vt=!0),n=n.queue,Au(iv.bind(null,a,n,s),[s]),n.getSnapshot!==t||l||$s!==null&&$s.memoizedState.tag&1){if(a.flags|=2048,Ei(9,lv.bind(null,a,n,r,t),void 0,null),Ws===null)throw Error(de(349));ur&30||rv(a,t,r)}return r}function rv(s,t,a){s.flags|=16384,s={getSnapshot:t,value:a},t=ys.updateQueue,t===null?(t={lastEffect:null,stores:null},ys.updateQueue=t,t.stores=[s]):(a=t.stores,a===null?t.stores=[s]:a.push(s))}function lv(s,t,a,n){t.value=a,t.getSnapshot=n,cv(t)&&dv(s)}function iv(s,t,a){return a(function(){cv(t)&&dv(s)})}function cv(s){var t=s.getSnapshot;s=s.value;try{var a=t();return!da(s,a)}catch{return!0}}function dv(s){var t=Za(s,1);t!==null&&ca(t,s,1,-1)}function Rf(s){var t=ja();return typeof s=="function"&&(s=s()),t.memoizedState=t.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:s},t.queue=s,s=s.dispatch=mS.bind(null,ys,s),[t.memoizedState,s]}function Ei(s,t,a,n){return s={tag:s,create:t,destroy:a,deps:n,next:null},t=ys.updateQueue,t===null?(t={lastEffect:null,stores:null},ys.updateQueue=t,t.lastEffect=s.next=s):(a=t.lastEffect,a===null?t.lastEffect=s.next=s:(n=a.next,a.next=s,s.next=n,t.lastEffect=s)),s}function ov(){return Yt().memoizedState}function Bc(s,t,a,n){var r=ja();ys.flags|=s,r.memoizedState=Ei(1|t,a,void 0,n===void 0?null:n)}function Ud(s,t,a,n){var r=Yt();n=n===void 0?null:n;var l=void 0;if(Ls!==null){var i=Ls.memoizedState;if(l=i.destroy,n!==null&&Du(n,i.deps)){r.memoizedState=Ei(t,a,l,n);return}}ys.flags|=s,r.memoizedState=Ei(1|t,a,l,n)}function Ef(s,t){return Bc(8390656,8,s,t)}function Au(s,t){return Ud(2048,8,s,t)}function mv(s,t){return Ud(4,2,s,t)}function xv(s,t){return Ud(4,4,s,t)}function uv(s,t){if(typeof t=="function")return s=s(),t(s),function(){t(null)};if(t!=null)return s=s(),t.current=s,function(){t.current=null}}function hv(s,t,a){return a=a!=null?a.concat([s]):null,Ud(4,4,uv.bind(null,t,s),a)}function Iu(){}function fv(s,t){var a=Yt();t=t===void 0?null:t;var n=a.memoizedState;return n!==null&&t!==null&&Du(t,n[1])?n[0]:(a.memoizedState=[s,t],s)}function pv(s,t){var a=Yt();t=t===void 0?null:t;var n=a.memoizedState;return n!==null&&t!==null&&Du(t,n[1])?n[0]:(s=s(),a.memoizedState=[s,t],s)}function jv(s,t,a){return ur&21?(da(a,t)||(a=w0(),ys.lanes|=a,hr|=a,s.baseState=!0),t):(s.baseState&&(s.baseState=!1,vt=!0),s.memoizedState=a)}function dS(s,t){var a=ns;ns=a!==0&&4>a?a:4,s(!0);var n=em.transition;em.transition={};try{s(!1),t()}finally{ns=a,em.transition=n}}function gv(){return Yt().memoizedState}function oS(s,t,a){var n=Tn(s);if(a={lane:n,action:a,hasEagerState:!1,eagerState:null,next:null},vv(s))Nv(t,a);else if(a=ev(s,t,a,n),a!==null){var r=dt();ca(a,s,n,r),yv(a,t,n)}}function mS(s,t,a){var n=Tn(s),r={lane:n,action:a,hasEagerState:!1,eagerState:null,next:null};if(vv(s))Nv(t,r);else{var l=s.alternate;if(s.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,c=l(i,a);if(r.hasEagerState=!0,r.eagerState=c,da(c,i)){var d=t.interleaved;d===null?(r.next=r,Cu(t)):(r.next=d.next,d.next=r),t.interleaved=r;return}}catch{}finally{}a=ev(s,t,r,n),a!==null&&(r=dt(),ca(a,s,n,r),yv(a,t,n))}}function vv(s){var t=s.alternate;return s===ys||t!==null&&t===ys}function Nv(s,t){di=hd=!0;var a=s.pending;a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t}function yv(s,t,a){if(a&4194240){var n=t.lanes;n&=s.pendingLanes,a|=n,t.lanes=a,mu(s,a)}}var fd={readContext:Gt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},xS={readContext:Gt,useCallback:function(s,t){return ja().memoizedState=[s,t===void 0?null:t],s},useContext:Gt,useEffect:Ef,useImperativeHandle:function(s,t,a){return a=a!=null?a.concat([s]):null,Bc(4194308,4,uv.bind(null,t,s),a)},useLayoutEffect:function(s,t){return Bc(4194308,4,s,t)},useInsertionEffect:function(s,t){return Bc(4,2,s,t)},useMemo:function(s,t){var a=ja();return t=t===void 0?null:t,s=s(),a.memoizedState=[s,t],s},useReducer:function(s,t,a){var n=ja();return t=a!==void 0?a(t):t,n.memoizedState=n.baseState=t,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:t},n.queue=s,s=s.dispatch=oS.bind(null,ys,s),[n.memoizedState,s]},useRef:function(s){var t=ja();return s={current:s},t.memoizedState=s},useState:Rf,useDebugValue:Iu,useDeferredValue:function(s){return ja().memoizedState=s},useTransition:function(){var s=Rf(!1),t=s[0];return s=dS.bind(null,s[1]),ja().memoizedState=s,[t,s]},useMutableSource:function(){},useSyncExternalStore:function(s,t,a){var n=ys,r=ja();if(js){if(a===void 0)throw Error(de(407));a=a()}else{if(a=t(),Ws===null)throw Error(de(349));ur&30||rv(n,t,a)}r.memoizedState=a;var l={value:a,getSnapshot:t};return r.queue=l,Ef(iv.bind(null,n,l,s),[s]),n.flags|=2048,Ei(9,lv.bind(null,n,l,a,t),void 0,null),a},useId:function(){var s=ja(),t=Ws.identifierPrefix;if(js){var a=qa,n=Ua;a=(n&~(1<<32-ia(n)-1)).toString(32)+a,t=":"+t+"R"+a,a=Di++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=cS++,t=":"+t+"r"+a.toString(32)+":";return s.memoizedState=t},unstable_isNewReconciler:!1},uS={readContext:Gt,useCallback:fv,useContext:Gt,useEffect:Au,useImperativeHandle:hv,useInsertionEffect:mv,useLayoutEffect:xv,useMemo:pv,useReducer:sm,useRef:ov,useState:function(){return sm(Ri)},useDebugValue:Iu,useDeferredValue:function(s){var t=Yt();return jv(t,Ls.memoizedState,s)},useTransition:function(){var s=sm(Ri)[0],t=Yt().memoizedState;return[s,t]},useMutableSource:av,useSyncExternalStore:nv,useId:gv,unstable_isNewReconciler:!1},hS={readContext:Gt,useCallback:fv,useContext:Gt,useEffect:Au,useImperativeHandle:hv,useInsertionEffect:mv,useLayoutEffect:xv,useMemo:pv,useReducer:tm,useRef:ov,useState:function(){return tm(Ri)},useDebugValue:Iu,useDeferredValue:function(s){var t=Yt();return Ls===null?t.memoizedState=s:jv(t,Ls.memoizedState,s)},useTransition:function(){var s=tm(Ri)[0],t=Yt().memoizedState;return[s,t]},useMutableSource:av,useSyncExternalStore:nv,useId:gv,unstable_isNewReconciler:!1};function ea(s,t){if(s&&s.defaultProps){t=ws({},t),s=s.defaultProps;for(var a in s)t[a]===void 0&&(t[a]=s[a]);return t}return t}function ix(s,t,a,n){t=s.memoizedState,a=a(n,t),a=a==null?t:ws({},t,a),s.memoizedState=a,s.lanes===0&&(s.updateQueue.baseState=a)}var qd={isMounted:function(s){return(s=s._reactInternals)?wr(s)===s:!1},enqueueSetState:function(s,t,a){s=s._reactInternals;var n=dt(),r=Tn(s),l=Ya(n,r);l.payload=t,a!=null&&(l.callback=a),t=Mn(s,l,r),t!==null&&(ca(t,s,r,n),Fc(t,s,r))},enqueueReplaceState:function(s,t,a){s=s._reactInternals;var n=dt(),r=Tn(s),l=Ya(n,r);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=Mn(s,l,r),t!==null&&(ca(t,s,r,n),Fc(t,s,r))},enqueueForceUpdate:function(s,t){s=s._reactInternals;var a=dt(),n=Tn(s),r=Ya(a,n);r.tag=2,t!=null&&(r.callback=t),t=Mn(s,r,n),t!==null&&(ca(t,s,n,a),Fc(t,s,n))}};function Af(s,t,a,n,r,l,i){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(n,l,i):t.prototype&&t.prototype.isPureReactComponent?!Si(a,n)||!Si(r,l):!0}function wv(s,t,a){var n=!1,r=Fn,l=t.contextType;return typeof l=="object"&&l!==null?l=Gt(l):(r=wt(t)?mr:lt.current,n=t.contextTypes,l=(n=n!=null)?ll(s,r):Fn),t=new t(a,l),s.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qd,s.stateNode=t,t._reactInternals=s,n&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=r,s.__reactInternalMemoizedMaskedChildContext=l),t}function If(s,t,a,n){s=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==s&&qd.enqueueReplaceState(t,t.state,null)}function cx(s,t,a,n){var r=s.stateNode;r.props=a,r.state=s.memoizedState,r.refs={},ku(s);var l=t.contextType;typeof l=="object"&&l!==null?r.context=Gt(l):(l=wt(t)?mr:lt.current,r.context=ll(s,l)),r.state=s.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(ix(s,t,l,a),r.state=s.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&qd.enqueueReplaceState(r,r.state,null),xd(s,a,r,n),r.state=s.memoizedState),typeof r.componentDidMount=="function"&&(s.flags|=4194308)}function ol(s,t){try{var a="",n=t;do a+=W2(n),n=n.return;while(n);var r=a}catch(l){r=`
Error generating stack: `+l.message+`
`+l.stack}return{value:s,source:t,stack:r,digest:null}}function am(s,t,a){return{value:s,source:null,stack:a??null,digest:t??null}}function dx(s,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var fS=typeof WeakMap=="function"?WeakMap:Map;function bv(s,t,a){a=Ya(-1,a),a.tag=3,a.payload={element:null};var n=t.value;return a.callback=function(){jd||(jd=!0,vx=n),dx(s,t)},a}function Sv(s,t,a){a=Ya(-1,a),a.tag=3;var n=s.type.getDerivedStateFromError;if(typeof n=="function"){var r=t.value;a.payload=function(){return n(r)},a.callback=function(){dx(s,t)}}var l=s.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(a.callback=function(){dx(s,t),typeof n!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),a}function Of(s,t,a){var n=s.pingCache;if(n===null){n=s.pingCache=new fS;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(a)||(r.add(a),s=TS.bind(null,s,t,a),t.then(s,s))}function _f(s){do{var t;if((t=s.tag===13)&&(t=s.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return s;s=s.return}while(s!==null);return null}function Lf(s,t,a,n,r){return s.mode&1?(s.flags|=65536,s.lanes=r,s):(s===t?s.flags|=65536:(s.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=Ya(-1,1),t.tag=2,Mn(a,t,1))),a.lanes|=1),s)}var pS=an.ReactCurrentOwner,vt=!1;function ct(s,t,a,n){t.child=s===null?J0(t,null,a,n):cl(t,s.child,a,n)}function zf(s,t,a,n,r){a=a.render;var l=t.ref;return Xr(t,r),n=Ru(s,t,a,n,l,r),a=Eu(),s!==null&&!vt?(t.updateQueue=s.updateQueue,t.flags&=-2053,s.lanes&=~r,Ja(s,t,r)):(js&&a&&vu(t),t.flags|=1,ct(s,t,n,r),t.child)}function Ff(s,t,a,n,r){if(s===null){var l=a.type;return typeof l=="function"&&!Wu(l)&&l.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=l,Cv(s,t,l,n,r)):(s=qc(a.type,null,n,t,t.mode,r),s.ref=t.ref,s.return=t,t.child=s)}if(l=s.child,!(s.lanes&r)){var i=l.memoizedProps;if(a=a.compare,a=a!==null?a:Si,a(i,n)&&s.ref===t.ref)return Ja(s,t,r)}return t.flags|=1,s=Dn(l,n),s.ref=t.ref,s.return=t,t.child=s}function Cv(s,t,a,n,r){if(s!==null){var l=s.memoizedProps;if(Si(l,n)&&s.ref===t.ref)if(vt=!1,t.pendingProps=n=l,(s.lanes&r)!==0)s.flags&131072&&(vt=!0);else return t.lanes=s.lanes,Ja(s,t,r)}return ox(s,t,a,n,r)}function kv(s,t,a){var n=t.pendingProps,r=n.children,l=s!==null?s.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},cs(Ur,kt),kt|=a;else{if(!(a&1073741824))return s=l!==null?l.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:s,cachePool:null,transitions:null},t.updateQueue=null,cs(Ur,kt),kt|=s,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:a,cs(Ur,kt),kt|=n}else l!==null?(n=l.baseLanes|a,t.memoizedState=null):n=a,cs(Ur,kt),kt|=n;return ct(s,t,r,a),t.child}function Mv(s,t){var a=t.ref;(s===null&&a!==null||s!==null&&s.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function ox(s,t,a,n,r){var l=wt(a)?mr:lt.current;return l=ll(t,l),Xr(t,r),a=Ru(s,t,a,n,l,r),n=Eu(),s!==null&&!vt?(t.updateQueue=s.updateQueue,t.flags&=-2053,s.lanes&=~r,Ja(s,t,r)):(js&&n&&vu(t),t.flags|=1,ct(s,t,a,r),t.child)}function $f(s,t,a,n,r){if(wt(a)){var l=!0;id(t)}else l=!1;if(Xr(t,r),t.stateNode===null)Wc(s,t),wv(t,a,n),cx(t,a,n,r),n=!0;else if(s===null){var i=t.stateNode,c=t.memoizedProps;i.props=c;var d=i.context,m=a.contextType;typeof m=="object"&&m!==null?m=Gt(m):(m=wt(a)?mr:lt.current,m=ll(t,m));var u=a.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==n||d!==m)&&If(t,i,n,m),jn=!1;var p=t.memoizedState;i.state=p,xd(t,n,i,r),d=t.memoizedState,c!==n||p!==d||yt.current||jn?(typeof u=="function"&&(ix(t,a,u,n),d=t.memoizedState),(c=jn||Af(t,a,c,n,p,d,m))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),i.props=n,i.state=d,i.context=m,n=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,sv(s,t),c=t.memoizedProps,m=t.type===t.elementType?c:ea(t.type,c),i.props=m,h=t.pendingProps,p=i.context,d=a.contextType,typeof d=="object"&&d!==null?d=Gt(d):(d=wt(a)?mr:lt.current,d=ll(t,d));var g=a.getDerivedStateFromProps;(u=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==h||p!==d)&&If(t,i,n,d),jn=!1,p=t.memoizedState,i.state=p,xd(t,n,i,r);var b=t.memoizedState;c!==h||p!==b||yt.current||jn?(typeof g=="function"&&(ix(t,a,g,n),b=t.memoizedState),(m=jn||Af(t,a,m,n,p,b,d)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===s.memoizedProps&&p===s.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===s.memoizedProps&&p===s.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=d,n=m):(typeof i.componentDidUpdate!="function"||c===s.memoizedProps&&p===s.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===s.memoizedProps&&p===s.memoizedState||(t.flags|=1024),n=!1)}return mx(s,t,a,n,l,r)}function mx(s,t,a,n,r,l){Mv(s,t);var i=(t.flags&128)!==0;if(!n&&!i)return r&&Cf(t,a,!1),Ja(s,t,l);n=t.stateNode,pS.current=t;var c=i&&typeof a.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,s!==null&&i?(t.child=cl(t,s.child,null,l),t.child=cl(t,null,c,l)):ct(s,t,c,l),t.memoizedState=n.state,r&&Cf(t,a,!0),t.child}function Pv(s){var t=s.stateNode;t.pendingContext?Sf(s,t.pendingContext,t.pendingContext!==t.context):t.context&&Sf(s,t.context,!1),Mu(s,t.containerInfo)}function Bf(s,t,a,n,r){return il(),yu(r),t.flags|=256,ct(s,t,a,n),t.child}var xx={dehydrated:null,treeContext:null,retryLane:0};function ux(s){return{baseLanes:s,cachePool:null,transitions:null}}function Tv(s,t,a){var n=t.pendingProps,r=vs.current,l=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=s!==null&&s.memoizedState===null?!1:(r&2)!==0),c?(l=!0,t.flags&=-129):(s===null||s.memoizedState!==null)&&(r|=1),cs(vs,r&1),s===null)return rx(t),s=t.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(t.mode&1?s.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,s=n.fallback,l?(n=t.mode,l=t.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Yd(i,n,0,null),s=cr(s,n,a,null),l.return=t,s.return=t,l.sibling=s,t.child=l,t.child.memoizedState=ux(a),t.memoizedState=xx,s):Ou(t,i));if(r=s.memoizedState,r!==null&&(c=r.dehydrated,c!==null))return jS(s,t,i,n,c,r,a);if(l){l=n.fallback,i=t.mode,r=s.child,c=r.sibling;var d={mode:"hidden",children:n.children};return!(i&1)&&t.child!==r?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=Dn(r,d),n.subtreeFlags=r.subtreeFlags&14680064),c!==null?l=Dn(c,l):(l=cr(l,i,a,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,i=s.child.memoizedState,i=i===null?ux(a):{baseLanes:i.baseLanes|a,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=s.childLanes&~a,t.memoizedState=xx,n}return l=s.child,s=l.sibling,n=Dn(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=a),n.return=t,n.sibling=null,s!==null&&(a=t.deletions,a===null?(t.deletions=[s],t.flags|=16):a.push(s)),t.child=n,t.memoizedState=null,n}function Ou(s,t){return t=Yd({mode:"visible",children:t},s.mode,0,null),t.return=s,s.child=t}function gc(s,t,a,n){return n!==null&&yu(n),cl(t,s.child,null,a),s=Ou(t,t.pendingProps.children),s.flags|=2,t.memoizedState=null,s}function jS(s,t,a,n,r,l,i){if(a)return t.flags&256?(t.flags&=-257,n=am(Error(de(422))),gc(s,t,i,n)):t.memoizedState!==null?(t.child=s.child,t.flags|=128,null):(l=n.fallback,r=t.mode,n=Yd({mode:"visible",children:n.children},r,0,null),l=cr(l,r,i,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&cl(t,s.child,null,i),t.child.memoizedState=ux(i),t.memoizedState=xx,l);if(!(t.mode&1))return gc(s,t,i,null);if(r.data==="$!"){if(n=r.nextSibling&&r.nextSibling.dataset,n)var c=n.dgst;return n=c,l=Error(de(419)),n=am(l,n,void 0),gc(s,t,i,n)}if(c=(i&s.childLanes)!==0,vt||c){if(n=Ws,n!==null){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(n.suspendedLanes|i)?0:r,r!==0&&r!==l.retryLane&&(l.retryLane=r,Za(s,r),ca(n,s,r,-1))}return Bu(),n=am(Error(de(421))),gc(s,t,i,n)}return r.data==="$?"?(t.flags|=128,t.child=s.child,t=DS.bind(null,s),r._reactRetry=t,null):(s=l.treeContext,Tt=kn(r.nextSibling),Et=t,js=!0,ta=null,s!==null&&(Vt[Ut++]=Ua,Vt[Ut++]=qa,Vt[Ut++]=xr,Ua=s.id,qa=s.overflow,xr=t),t=Ou(t,n.children),t.flags|=4096,t)}function Wf(s,t,a){s.lanes|=t;var n=s.alternate;n!==null&&(n.lanes|=t),lx(s.return,t,a)}function nm(s,t,a,n,r){var l=s.memoizedState;l===null?s.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=a,l.tailMode=r)}function Dv(s,t,a){var n=t.pendingProps,r=n.revealOrder,l=n.tail;if(ct(s,t,n.children,a),n=vs.current,n&2)n=n&1|2,t.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=t.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Wf(s,a,t);else if(s.tag===19)Wf(s,a,t);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}n&=1}if(cs(vs,n),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(a=t.child,r=null;a!==null;)s=a.alternate,s!==null&&ud(s)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),nm(t,!1,r,a,l);break;case"backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(s=r.alternate,s!==null&&ud(s)===null){t.child=r;break}s=r.sibling,r.sibling=a,a=r,r=s}nm(t,!0,a,null,l);break;case"together":nm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wc(s,t){!(t.mode&1)&&s!==null&&(s.alternate=null,t.alternate=null,t.flags|=2)}function Ja(s,t,a){if(s!==null&&(t.dependencies=s.dependencies),hr|=t.lanes,!(a&t.childLanes))return null;if(s!==null&&t.child!==s.child)throw Error(de(153));if(t.child!==null){for(s=t.child,a=Dn(s,s.pendingProps),t.child=a,a.return=t;s.sibling!==null;)s=s.sibling,a=a.sibling=Dn(s,s.pendingProps),a.return=t;a.sibling=null}return t.child}function gS(s,t,a){switch(t.tag){case 3:Pv(t),il();break;case 5:tv(t);break;case 1:wt(t.type)&&id(t);break;case 4:Mu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,r=t.memoizedProps.value;cs(od,n._currentValue),n._currentValue=r;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(cs(vs,vs.current&1),t.flags|=128,null):a&t.child.childLanes?Tv(s,t,a):(cs(vs,vs.current&1),s=Ja(s,t,a),s!==null?s.sibling:null);cs(vs,vs.current&1);break;case 19:if(n=(a&t.childLanes)!==0,s.flags&128){if(n)return Dv(s,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),cs(vs,vs.current),n)break;return null;case 22:case 23:return t.lanes=0,kv(s,t,a)}return Ja(s,t,a)}var Rv,hx,Ev,Av;Rv=function(s,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};hx=function(){};Ev=function(s,t,a,n){var r=s.memoizedProps;if(r!==n){s=t.stateNode,rr(Ma.current);var l=null;switch(a){case"input":r=_m(s,r),n=_m(s,n),l=[];break;case"select":r=ws({},r,{value:void 0}),n=ws({},n,{value:void 0}),l=[];break;case"textarea":r=Fm(s,r),n=Fm(s,n),l=[];break;default:typeof r.onClick!="function"&&typeof n.onClick=="function"&&(s.onclick=rd)}Bm(a,n);var i;a=null;for(m in r)if(!n.hasOwnProperty(m)&&r.hasOwnProperty(m)&&r[m]!=null)if(m==="style"){var c=r[m];for(i in c)c.hasOwnProperty(i)&&(a||(a={}),a[i]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(ji.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in n){var d=n[m];if(c=r!=null?r[m]:void 0,n.hasOwnProperty(m)&&d!==c&&(d!=null||c!=null))if(m==="style")if(c){for(i in c)!c.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(a||(a={}),a[i]="");for(i in d)d.hasOwnProperty(i)&&c[i]!==d[i]&&(a||(a={}),a[i]=d[i])}else a||(l||(l=[]),l.push(m,a)),a=d;else m==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(l=l||[]).push(m,d)):m==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(m,""+d):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(ji.hasOwnProperty(m)?(d!=null&&m==="onScroll"&&ms("scroll",s),l||c===d||(l=[])):(l=l||[]).push(m,d))}a&&(l=l||[]).push("style",a);var m=l;(t.updateQueue=m)&&(t.flags|=4)}};Av=function(s,t,a,n){a!==n&&(t.flags|=4)};function Hl(s,t){if(!js)switch(s.tailMode){case"hidden":t=s.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?s.tail=null:a.sibling=null;break;case"collapsed":a=s.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||s.tail===null?s.tail=null:s.tail.sibling=null:n.sibling=null}}function st(s){var t=s.alternate!==null&&s.alternate.child===s.child,a=0,n=0;if(t)for(var r=s.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags&14680064,n|=r.flags&14680064,r.return=s,r=r.sibling;else for(r=s.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=s,r=r.sibling;return s.subtreeFlags|=n,s.childLanes=a,t}function vS(s,t,a){var n=t.pendingProps;switch(Nu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return wt(t.type)&&ld(),st(t),null;case 3:return n=t.stateNode,dl(),us(yt),us(lt),Tu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(s===null||s.child===null)&&(pc(t)?t.flags|=4:s===null||s.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ta!==null&&(wx(ta),ta=null))),hx(s,t),st(t),null;case 5:Pu(t);var r=rr(Ti.current);if(a=t.type,s!==null&&t.stateNode!=null)Ev(s,t,a,n,r),s.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(de(166));return st(t),null}if(s=rr(Ma.current),pc(t)){n=t.stateNode,a=t.type;var l=t.memoizedProps;switch(n[va]=t,n[Mi]=l,s=(t.mode&1)!==0,a){case"dialog":ms("cancel",n),ms("close",n);break;case"iframe":case"object":case"embed":ms("load",n);break;case"video":case"audio":for(r=0;r<ei.length;r++)ms(ei[r],n);break;case"source":ms("error",n);break;case"img":case"image":case"link":ms("error",n),ms("load",n);break;case"details":ms("toggle",n);break;case"input":Qh(n,l),ms("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},ms("invalid",n);break;case"textarea":Zh(n,l),ms("invalid",n)}Bm(a,l),r=null;for(var i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="children"?typeof c=="string"?n.textContent!==c&&(l.suppressHydrationWarning!==!0&&fc(n.textContent,c,s),r=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&fc(n.textContent,c,s),r=["children",""+c]):ji.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&ms("scroll",n)}switch(a){case"input":ic(n),Xh(n,l,!0);break;case"textarea":ic(n),Jh(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=rd)}n=r,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=r.nodeType===9?r:r.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=i0(a)),s==="http://www.w3.org/1999/xhtml"?a==="script"?(s=i.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof n.is=="string"?s=i.createElement(a,{is:n.is}):(s=i.createElement(a),a==="select"&&(i=s,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):s=i.createElementNS(s,a),s[va]=t,s[Mi]=n,Rv(s,t,!1,!1),t.stateNode=s;e:{switch(i=Wm(a,n),a){case"dialog":ms("cancel",s),ms("close",s),r=n;break;case"iframe":case"object":case"embed":ms("load",s),r=n;break;case"video":case"audio":for(r=0;r<ei.length;r++)ms(ei[r],s);r=n;break;case"source":ms("error",s),r=n;break;case"img":case"image":case"link":ms("error",s),ms("load",s),r=n;break;case"details":ms("toggle",s),r=n;break;case"input":Qh(s,n),r=_m(s,n),ms("invalid",s);break;case"option":r=n;break;case"select":s._wrapperState={wasMultiple:!!n.multiple},r=ws({},n,{value:void 0}),ms("invalid",s);break;case"textarea":Zh(s,n),r=Fm(s,n),ms("invalid",s);break;default:r=n}Bm(a,r),c=r;for(l in c)if(c.hasOwnProperty(l)){var d=c[l];l==="style"?o0(s,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&c0(s,d)):l==="children"?typeof d=="string"?(a!=="textarea"||d!=="")&&gi(s,d):typeof d=="number"&&gi(s,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ji.hasOwnProperty(l)?d!=null&&l==="onScroll"&&ms("scroll",s):d!=null&&ru(s,l,d,i))}switch(a){case"input":ic(s),Xh(s,n,!1);break;case"textarea":ic(s),Jh(s);break;case"option":n.value!=null&&s.setAttribute("value",""+zn(n.value));break;case"select":s.multiple=!!n.multiple,l=n.value,l!=null?Gr(s,!!n.multiple,l,!1):n.defaultValue!=null&&Gr(s,!!n.multiple,n.defaultValue,!0);break;default:typeof r.onClick=="function"&&(s.onclick=rd)}switch(a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(s&&t.stateNode!=null)Av(s,t,s.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(de(166));if(a=rr(Ti.current),rr(Ma.current),pc(t)){if(n=t.stateNode,a=t.memoizedProps,n[va]=t,(l=n.nodeValue!==a)&&(s=Et,s!==null))switch(s.tag){case 3:fc(n.nodeValue,a,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&fc(n.nodeValue,a,(s.mode&1)!==0)}l&&(t.flags|=4)}else n=(a.nodeType===9?a:a.ownerDocument).createTextNode(n),n[va]=t,t.stateNode=n}return st(t),null;case 13:if(us(vs),n=t.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(js&&Tt!==null&&t.mode&1&&!(t.flags&128))X0(),il(),t.flags|=98560,l=!1;else if(l=pc(t),n!==null&&n.dehydrated!==null){if(s===null){if(!l)throw Error(de(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(de(317));l[va]=t}else il(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),l=!1}else ta!==null&&(wx(ta),ta=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=a,t):(n=n!==null,n!==(s!==null&&s.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(s===null||vs.current&1?zs===0&&(zs=3):Bu())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return dl(),hx(s,t),s===null&&Ci(t.stateNode.containerInfo),st(t),null;case 10:return Su(t.type._context),st(t),null;case 17:return wt(t.type)&&ld(),st(t),null;case 19:if(us(vs),l=t.memoizedState,l===null)return st(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)Hl(l,!1);else{if(zs!==0||s!==null&&s.flags&128)for(s=t.child;s!==null;){if(i=ud(s),i!==null){for(t.flags|=128,Hl(l,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=a,a=t.child;a!==null;)l=a,s=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=s,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a=a.sibling;return cs(vs,vs.current&1|2),t.child}s=s.sibling}l.tail!==null&&Ps()>ml&&(t.flags|=128,n=!0,Hl(l,!1),t.lanes=4194304)}else{if(!n)if(s=ud(i),s!==null){if(t.flags|=128,n=!0,a=s.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),Hl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!js)return st(t),null}else 2*Ps()-l.renderingStartTime>ml&&a!==1073741824&&(t.flags|=128,n=!0,Hl(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(a=l.last,a!==null?a.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ps(),t.sibling=null,a=vs.current,cs(vs,n?a&1|2:a&1),t):(st(t),null);case 22:case 23:return $u(),n=t.memoizedState!==null,s!==null&&s.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?kt&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function NS(s,t){switch(Nu(t),t.tag){case 1:return wt(t.type)&&ld(),s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 3:return dl(),us(yt),us(lt),Tu(),s=t.flags,s&65536&&!(s&128)?(t.flags=s&-65537|128,t):null;case 5:return Pu(t),null;case 13:if(us(vs),s=t.memoizedState,s!==null&&s.dehydrated!==null){if(t.alternate===null)throw Error(de(340));il()}return s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 19:return us(vs),null;case 4:return dl(),null;case 10:return Su(t.type._context),null;case 22:case 23:return $u(),null;case 24:return null;default:return null}}var vc=!1,at=!1,yS=typeof WeakSet=="function"?WeakSet:Set,je=null;function Vr(s,t){var a=s.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(n){Ss(s,t,n)}else a.current=null}function fx(s,t,a){try{a()}catch(n){Ss(s,t,n)}}var Vf=!1;function wS(s,t){if(Zm=td,s=z0(),gu(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var r=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var i=0,c=-1,d=-1,m=0,u=0,h=s,p=null;s:for(;;){for(var g;h!==a||r!==0&&h.nodeType!==3||(c=i+r),h!==l||n!==0&&h.nodeType!==3||(d=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===s)break s;if(p===a&&++m===r&&(c=i),p===l&&++u===n&&(d=i),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}a=c===-1||d===-1?null:{start:c,end:d}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jm={focusedElem:s,selectionRange:a},td=!1,je=t;je!==null;)if(t=je,s=t.child,(t.subtreeFlags&1028)!==0&&s!==null)s.return=t,je=s;else for(;je!==null;){t=je;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var N=b.memoizedProps,j=b.memoizedState,x=t.stateNode,f=x.getSnapshotBeforeUpdate(t.elementType===t.type?N:ea(t.type,N),j);x.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(D){Ss(t,t.return,D)}if(s=t.sibling,s!==null){s.return=t.return,je=s;break}je=t.return}return b=Vf,Vf=!1,b}function oi(s,t,a){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&s)===s){var l=r.destroy;r.destroy=void 0,l!==void 0&&fx(t,a,l)}r=r.next}while(r!==n)}}function Hd(s,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&s)===s){var n=a.create;a.destroy=n()}a=a.next}while(a!==t)}}function px(s){var t=s.ref;if(t!==null){var a=s.stateNode;switch(s.tag){case 5:s=a;break;default:s=a}typeof t=="function"?t(s):t.current=s}}function Iv(s){var t=s.alternate;t!==null&&(s.alternate=null,Iv(t)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(t=s.stateNode,t!==null&&(delete t[va],delete t[Mi],delete t[tx],delete t[nS],delete t[rS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ov(s){return s.tag===5||s.tag===3||s.tag===4}function Uf(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ov(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function jx(s,t,a){var n=s.tag;if(n===5||n===6)s=s.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(s,t):a.insertBefore(s,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(s,a)):(t=a,t.appendChild(s)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=rd));else if(n!==4&&(s=s.child,s!==null))for(jx(s,t,a),s=s.sibling;s!==null;)jx(s,t,a),s=s.sibling}function gx(s,t,a){var n=s.tag;if(n===5||n===6)s=s.stateNode,t?a.insertBefore(s,t):a.appendChild(s);else if(n!==4&&(s=s.child,s!==null))for(gx(s,t,a),s=s.sibling;s!==null;)gx(s,t,a),s=s.sibling}var qs=null,sa=!1;function on(s,t,a){for(a=a.child;a!==null;)_v(s,t,a),a=a.sibling}function _v(s,t,a){if(ka&&typeof ka.onCommitFiberUnmount=="function")try{ka.onCommitFiberUnmount(zd,a)}catch{}switch(a.tag){case 5:at||Vr(a,t);case 6:var n=qs,r=sa;qs=null,on(s,t,a),qs=n,sa=r,qs!==null&&(sa?(s=qs,a=a.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):qs.removeChild(a.stateNode));break;case 18:qs!==null&&(sa?(s=qs,a=a.stateNode,s.nodeType===8?Xo(s.parentNode,a):s.nodeType===1&&Xo(s,a),wi(s)):Xo(qs,a.stateNode));break;case 4:n=qs,r=sa,qs=a.stateNode.containerInfo,sa=!0,on(s,t,a),qs=n,sa=r;break;case 0:case 11:case 14:case 15:if(!at&&(n=a.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){r=n=n.next;do{var l=r,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&fx(a,t,i),r=r.next}while(r!==n)}on(s,t,a);break;case 1:if(!at&&(Vr(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=a.memoizedProps,n.state=a.memoizedState,n.componentWillUnmount()}catch(c){Ss(a,t,c)}on(s,t,a);break;case 21:on(s,t,a);break;case 22:a.mode&1?(at=(n=at)||a.memoizedState!==null,on(s,t,a),at=n):on(s,t,a);break;default:on(s,t,a)}}function qf(s){var t=s.updateQueue;if(t!==null){s.updateQueue=null;var a=s.stateNode;a===null&&(a=s.stateNode=new yS),t.forEach(function(n){var r=RS.bind(null,s,n);a.has(n)||(a.add(n),n.then(r,r))})}}function Zt(s,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var r=a[n];try{var l=s,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 5:qs=c.stateNode,sa=!1;break e;case 3:qs=c.stateNode.containerInfo,sa=!0;break e;case 4:qs=c.stateNode.containerInfo,sa=!0;break e}c=c.return}if(qs===null)throw Error(de(160));_v(l,i,r),qs=null,sa=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(m){Ss(r,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lv(t,s),t=t.sibling}function Lv(s,t){var a=s.alternate,n=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Zt(t,s),pa(s),n&4){try{oi(3,s,s.return),Hd(3,s)}catch(N){Ss(s,s.return,N)}try{oi(5,s,s.return)}catch(N){Ss(s,s.return,N)}}break;case 1:Zt(t,s),pa(s),n&512&&a!==null&&Vr(a,a.return);break;case 5:if(Zt(t,s),pa(s),n&512&&a!==null&&Vr(a,a.return),s.flags&32){var r=s.stateNode;try{gi(r,"")}catch(N){Ss(s,s.return,N)}}if(n&4&&(r=s.stateNode,r!=null)){var l=s.memoizedProps,i=a!==null?a.memoizedProps:l,c=s.type,d=s.updateQueue;if(s.updateQueue=null,d!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&r0(r,l),Wm(c,i);var m=Wm(c,l);for(i=0;i<d.length;i+=2){var u=d[i],h=d[i+1];u==="style"?o0(r,h):u==="dangerouslySetInnerHTML"?c0(r,h):u==="children"?gi(r,h):ru(r,u,h,m)}switch(c){case"input":Lm(r,l);break;case"textarea":l0(r,l);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!l.multiple;var g=l.value;g!=null?Gr(r,!!l.multiple,g,!1):p!==!!l.multiple&&(l.defaultValue!=null?Gr(r,!!l.multiple,l.defaultValue,!0):Gr(r,!!l.multiple,l.multiple?[]:"",!1))}r[Mi]=l}catch(N){Ss(s,s.return,N)}}break;case 6:if(Zt(t,s),pa(s),n&4){if(s.stateNode===null)throw Error(de(162));r=s.stateNode,l=s.memoizedProps;try{r.nodeValue=l}catch(N){Ss(s,s.return,N)}}break;case 3:if(Zt(t,s),pa(s),n&4&&a!==null&&a.memoizedState.isDehydrated)try{wi(t.containerInfo)}catch(N){Ss(s,s.return,N)}break;case 4:Zt(t,s),pa(s);break;case 13:Zt(t,s),pa(s),r=s.child,r.flags&8192&&(l=r.memoizedState!==null,r.stateNode.isHidden=l,!l||r.alternate!==null&&r.alternate.memoizedState!==null||(zu=Ps())),n&4&&qf(s);break;case 22:if(u=a!==null&&a.memoizedState!==null,s.mode&1?(at=(m=at)||u,Zt(t,s),at=m):Zt(t,s),pa(s),n&8192){if(m=s.memoizedState!==null,(s.stateNode.isHidden=m)&&!u&&s.mode&1)for(je=s,u=s.child;u!==null;){for(h=je=u;je!==null;){switch(p=je,g=p.child,p.tag){case 0:case 11:case 14:case 15:oi(4,p,p.return);break;case 1:Vr(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,a=p.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(N){Ss(n,a,N)}}break;case 5:Vr(p,p.return);break;case 22:if(p.memoizedState!==null){Gf(h);continue}}g!==null?(g.return=p,je=g):Gf(h)}u=u.sibling}e:for(u=null,h=s;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,m?(l=r.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=h.stateNode,d=h.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=d0("display",i))}catch(N){Ss(s,s.return,N)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=m?"":h.memoizedProps}catch(N){Ss(s,s.return,N)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===s)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Zt(t,s),pa(s),n&4&&qf(s);break;case 21:break;default:Zt(t,s),pa(s)}}function pa(s){var t=s.flags;if(t&2){try{e:{for(var a=s.return;a!==null;){if(Ov(a)){var n=a;break e}a=a.return}throw Error(de(160))}switch(n.tag){case 5:var r=n.stateNode;n.flags&32&&(gi(r,""),n.flags&=-33);var l=Uf(s);gx(s,l,r);break;case 3:case 4:var i=n.stateNode.containerInfo,c=Uf(s);jx(s,c,i);break;default:throw Error(de(161))}}catch(d){Ss(s,s.return,d)}s.flags&=-3}t&4096&&(s.flags&=-4097)}function bS(s,t,a){je=s,zv(s)}function zv(s,t,a){for(var n=(s.mode&1)!==0;je!==null;){var r=je,l=r.child;if(r.tag===22&&n){var i=r.memoizedState!==null||vc;if(!i){var c=r.alternate,d=c!==null&&c.memoizedState!==null||at;c=vc;var m=at;if(vc=i,(at=d)&&!m)for(je=r;je!==null;)i=je,d=i.child,i.tag===22&&i.memoizedState!==null?Yf(r):d!==null?(d.return=i,je=d):Yf(r);for(;l!==null;)je=l,zv(l),l=l.sibling;je=r,vc=c,at=m}Hf(s)}else r.subtreeFlags&8772&&l!==null?(l.return=r,je=l):Hf(s)}}function Hf(s){for(;je!==null;){var t=je;if(t.flags&8772){var a=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||Hd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!at)if(a===null)n.componentDidMount();else{var r=t.elementType===t.type?a.memoizedProps:ea(t.type,a.memoizedProps);n.componentDidUpdate(r,a.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Df(t,l,n);break;case 3:var i=t.updateQueue;if(i!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}Df(t,i,a)}break;case 5:var c=t.stateNode;if(a===null&&t.flags&4){a=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&a.focus();break;case"img":d.src&&(a.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var u=m.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&wi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}at||t.flags&512&&px(t)}catch(p){Ss(t,t.return,p)}}if(t===s){je=null;break}if(a=t.sibling,a!==null){a.return=t.return,je=a;break}je=t.return}}function Gf(s){for(;je!==null;){var t=je;if(t===s){je=null;break}var a=t.sibling;if(a!==null){a.return=t.return,je=a;break}je=t.return}}function Yf(s){for(;je!==null;){var t=je;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{Hd(4,t)}catch(d){Ss(t,a,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var r=t.return;try{n.componentDidMount()}catch(d){Ss(t,r,d)}}var l=t.return;try{px(t)}catch(d){Ss(t,l,d)}break;case 5:var i=t.return;try{px(t)}catch(d){Ss(t,i,d)}}}catch(d){Ss(t,t.return,d)}if(t===s){je=null;break}var c=t.sibling;if(c!==null){c.return=t.return,je=c;break}je=t.return}}var SS=Math.ceil,pd=an.ReactCurrentDispatcher,_u=an.ReactCurrentOwner,Ht=an.ReactCurrentBatchConfig,Ze=0,Ws=null,As=null,Ys=0,kt=0,Ur=qn(0),zs=0,Ai=null,hr=0,Gd=0,Lu=0,mi=null,gt=null,zu=0,ml=1/0,Wa=null,jd=!1,vx=null,Pn=null,Nc=!1,yn=null,gd=0,xi=0,Nx=null,Vc=-1,Uc=0;function dt(){return Ze&6?Ps():Vc!==-1?Vc:Vc=Ps()}function Tn(s){return s.mode&1?Ze&2&&Ys!==0?Ys&-Ys:iS.transition!==null?(Uc===0&&(Uc=w0()),Uc):(s=ns,s!==0||(s=window.event,s=s===void 0?16:T0(s.type)),s):1}function ca(s,t,a,n){if(50<xi)throw xi=0,Nx=null,Error(de(185));Vi(s,a,n),(!(Ze&2)||s!==Ws)&&(s===Ws&&(!(Ze&2)&&(Gd|=a),zs===4&&vn(s,Ys)),bt(s,n),a===1&&Ze===0&&!(t.mode&1)&&(ml=Ps()+500,Vd&&Hn()))}function bt(s,t){var a=s.callbackNode;i4(s,t);var n=sd(s,s===Ws?Ys:0);if(n===0)a!==null&&tf(a),s.callbackNode=null,s.callbackPriority=0;else if(t=n&-n,s.callbackPriority!==t){if(a!=null&&tf(a),t===1)s.tag===0?lS(Kf.bind(null,s)):Y0(Kf.bind(null,s)),tS(function(){!(Ze&6)&&Hn()}),a=null;else{switch(b0(n)){case 1:a=ou;break;case 4:a=N0;break;case 16:a=ed;break;case 536870912:a=y0;break;default:a=ed}a=Hv(a,Fv.bind(null,s))}s.callbackPriority=t,s.callbackNode=a}}function Fv(s,t){if(Vc=-1,Uc=0,Ze&6)throw Error(de(327));var a=s.callbackNode;if(Zr()&&s.callbackNode!==a)return null;var n=sd(s,s===Ws?Ys:0);if(n===0)return null;if(n&30||n&s.expiredLanes||t)t=vd(s,n);else{t=n;var r=Ze;Ze|=2;var l=Bv();(Ws!==s||Ys!==t)&&(Wa=null,ml=Ps()+500,ir(s,t));do try{MS();break}catch(c){$v(s,c)}while(!0);bu(),pd.current=l,Ze=r,As!==null?t=0:(Ws=null,Ys=0,t=zs)}if(t!==0){if(t===2&&(r=Gm(s),r!==0&&(n=r,t=yx(s,r))),t===1)throw a=Ai,ir(s,0),vn(s,n),bt(s,Ps()),a;if(t===6)vn(s,n);else{if(r=s.current.alternate,!(n&30)&&!CS(r)&&(t=vd(s,n),t===2&&(l=Gm(s),l!==0&&(n=l,t=yx(s,l))),t===1))throw a=Ai,ir(s,0),vn(s,n),bt(s,Ps()),a;switch(s.finishedWork=r,s.finishedLanes=n,t){case 0:case 1:throw Error(de(345));case 2:er(s,gt,Wa);break;case 3:if(vn(s,n),(n&130023424)===n&&(t=zu+500-Ps(),10<t)){if(sd(s,0)!==0)break;if(r=s.suspendedLanes,(r&n)!==n){dt(),s.pingedLanes|=s.suspendedLanes&r;break}s.timeoutHandle=sx(er.bind(null,s,gt,Wa),t);break}er(s,gt,Wa);break;case 4:if(vn(s,n),(n&4194240)===n)break;for(t=s.eventTimes,r=-1;0<n;){var i=31-ia(n);l=1<<i,i=t[i],i>r&&(r=i),n&=~l}if(n=r,n=Ps()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*SS(n/1960))-n,10<n){s.timeoutHandle=sx(er.bind(null,s,gt,Wa),n);break}er(s,gt,Wa);break;case 5:er(s,gt,Wa);break;default:throw Error(de(329))}}}return bt(s,Ps()),s.callbackNode===a?Fv.bind(null,s):null}function yx(s,t){var a=mi;return s.current.memoizedState.isDehydrated&&(ir(s,t).flags|=256),s=vd(s,t),s!==2&&(t=gt,gt=a,t!==null&&wx(t)),s}function wx(s){gt===null?gt=s:gt.push.apply(gt,s)}function CS(s){for(var t=s;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var n=0;n<a.length;n++){var r=a[n],l=r.getSnapshot;r=r.value;try{if(!da(l(),r))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vn(s,t){for(t&=~Lu,t&=~Gd,s.suspendedLanes|=t,s.pingedLanes&=~t,s=s.expirationTimes;0<t;){var a=31-ia(t),n=1<<a;s[a]=-1,t&=~n}}function Kf(s){if(Ze&6)throw Error(de(327));Zr();var t=sd(s,0);if(!(t&1))return bt(s,Ps()),null;var a=vd(s,t);if(s.tag!==0&&a===2){var n=Gm(s);n!==0&&(t=n,a=yx(s,n))}if(a===1)throw a=Ai,ir(s,0),vn(s,t),bt(s,Ps()),a;if(a===6)throw Error(de(345));return s.finishedWork=s.current.alternate,s.finishedLanes=t,er(s,gt,Wa),bt(s,Ps()),null}function Fu(s,t){var a=Ze;Ze|=1;try{return s(t)}finally{Ze=a,Ze===0&&(ml=Ps()+500,Vd&&Hn())}}function fr(s){yn!==null&&yn.tag===0&&!(Ze&6)&&Zr();var t=Ze;Ze|=1;var a=Ht.transition,n=ns;try{if(Ht.transition=null,ns=1,s)return s()}finally{ns=n,Ht.transition=a,Ze=t,!(Ze&6)&&Hn()}}function $u(){kt=Ur.current,us(Ur)}function ir(s,t){s.finishedWork=null,s.finishedLanes=0;var a=s.timeoutHandle;if(a!==-1&&(s.timeoutHandle=-1,sS(a)),As!==null)for(a=As.return;a!==null;){var n=a;switch(Nu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ld();break;case 3:dl(),us(yt),us(lt),Tu();break;case 5:Pu(n);break;case 4:dl();break;case 13:us(vs);break;case 19:us(vs);break;case 10:Su(n.type._context);break;case 22:case 23:$u()}a=a.return}if(Ws=s,As=s=Dn(s.current,null),Ys=kt=t,zs=0,Ai=null,Lu=Gd=hr=0,gt=mi=null,nr!==null){for(t=0;t<nr.length;t++)if(a=nr[t],n=a.interleaved,n!==null){a.interleaved=null;var r=n.next,l=a.pending;if(l!==null){var i=l.next;l.next=r,n.next=i}a.pending=n}nr=null}return s}function $v(s,t){do{var a=As;try{if(bu(),$c.current=fd,hd){for(var n=ys.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}hd=!1}if(ur=0,$s=Ls=ys=null,di=!1,Di=0,_u.current=null,a===null||a.return===null){zs=1,Ai=t,As=null;break}e:{var l=s,i=a.return,c=a,d=t;if(t=Ys,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=d,u=c,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=_f(i);if(g!==null){g.flags&=-257,Lf(g,i,c,l,t),g.mode&1&&Of(l,m,t),t=g,d=m;var b=t.updateQueue;if(b===null){var N=new Set;N.add(d),t.updateQueue=N}else b.add(d);break e}else{if(!(t&1)){Of(l,m,t),Bu();break e}d=Error(de(426))}}else if(js&&c.mode&1){var j=_f(i);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Lf(j,i,c,l,t),yu(ol(d,c));break e}}l=d=ol(d,c),zs!==4&&(zs=2),mi===null?mi=[l]:mi.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var x=bv(l,d,t);Tf(l,x);break e;case 1:c=d;var f=l.type,w=l.stateNode;if(!(l.flags&128)&&(typeof f.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Pn===null||!Pn.has(w)))){l.flags|=65536,t&=-t,l.lanes|=t;var D=Sv(l,c,t);Tf(l,D);break e}}l=l.return}while(l!==null)}Vv(a)}catch(y){t=y,As===a&&a!==null&&(As=a=a.return);continue}break}while(!0)}function Bv(){var s=pd.current;return pd.current=fd,s===null?fd:s}function Bu(){(zs===0||zs===3||zs===2)&&(zs=4),Ws===null||!(hr&268435455)&&!(Gd&268435455)||vn(Ws,Ys)}function vd(s,t){var a=Ze;Ze|=2;var n=Bv();(Ws!==s||Ys!==t)&&(Wa=null,ir(s,t));do try{kS();break}catch(r){$v(s,r)}while(!0);if(bu(),Ze=a,pd.current=n,As!==null)throw Error(de(261));return Ws=null,Ys=0,zs}function kS(){for(;As!==null;)Wv(As)}function MS(){for(;As!==null&&!Z2();)Wv(As)}function Wv(s){var t=qv(s.alternate,s,kt);s.memoizedProps=s.pendingProps,t===null?Vv(s):As=t,_u.current=null}function Vv(s){var t=s;do{var a=t.alternate;if(s=t.return,t.flags&32768){if(a=NS(a,t),a!==null){a.flags&=32767,As=a;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{zs=6,As=null;return}}else if(a=vS(a,t,kt),a!==null){As=a;return}if(t=t.sibling,t!==null){As=t;return}As=t=s}while(t!==null);zs===0&&(zs=5)}function er(s,t,a){var n=ns,r=Ht.transition;try{Ht.transition=null,ns=1,PS(s,t,a,n)}finally{Ht.transition=r,ns=n}return null}function PS(s,t,a,n){do Zr();while(yn!==null);if(Ze&6)throw Error(de(327));a=s.finishedWork;var r=s.finishedLanes;if(a===null)return null;if(s.finishedWork=null,s.finishedLanes=0,a===s.current)throw Error(de(177));s.callbackNode=null,s.callbackPriority=0;var l=a.lanes|a.childLanes;if(c4(s,l),s===Ws&&(As=Ws=null,Ys=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Nc||(Nc=!0,Hv(ed,function(){return Zr(),null})),l=(a.flags&15990)!==0,a.subtreeFlags&15990||l){l=Ht.transition,Ht.transition=null;var i=ns;ns=1;var c=Ze;Ze|=4,_u.current=null,wS(s,a),Lv(a,s),Y4(Jm),td=!!Zm,Jm=Zm=null,s.current=a,bS(a),J2(),Ze=c,ns=i,Ht.transition=l}else s.current=a;if(Nc&&(Nc=!1,yn=s,gd=r),l=s.pendingLanes,l===0&&(Pn=null),t4(a.stateNode),bt(s,Ps()),t!==null)for(n=s.onRecoverableError,a=0;a<t.length;a++)r=t[a],n(r.value,{componentStack:r.stack,digest:r.digest});if(jd)throw jd=!1,s=vx,vx=null,s;return gd&1&&s.tag!==0&&Zr(),l=s.pendingLanes,l&1?s===Nx?xi++:(xi=0,Nx=s):xi=0,Hn(),null}function Zr(){if(yn!==null){var s=b0(gd),t=Ht.transition,a=ns;try{if(Ht.transition=null,ns=16>s?16:s,yn===null)var n=!1;else{if(s=yn,yn=null,gd=0,Ze&6)throw Error(de(331));var r=Ze;for(Ze|=4,je=s.current;je!==null;){var l=je,i=l.child;if(je.flags&16){var c=l.deletions;if(c!==null){for(var d=0;d<c.length;d++){var m=c[d];for(je=m;je!==null;){var u=je;switch(u.tag){case 0:case 11:case 15:oi(8,u,l)}var h=u.child;if(h!==null)h.return=u,je=h;else for(;je!==null;){u=je;var p=u.sibling,g=u.return;if(Iv(u),u===m){je=null;break}if(p!==null){p.return=g,je=p;break}je=g}}}var b=l.alternate;if(b!==null){var N=b.child;if(N!==null){b.child=null;do{var j=N.sibling;N.sibling=null,N=j}while(N!==null)}}je=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,je=i;else e:for(;je!==null;){if(l=je,l.flags&2048)switch(l.tag){case 0:case 11:case 15:oi(9,l,l.return)}var x=l.sibling;if(x!==null){x.return=l.return,je=x;break e}je=l.return}}var f=s.current;for(je=f;je!==null;){i=je;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,je=w;else e:for(i=f;je!==null;){if(c=je,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Hd(9,c)}}catch(y){Ss(c,c.return,y)}if(c===i){je=null;break e}var D=c.sibling;if(D!==null){D.return=c.return,je=D;break e}je=c.return}}if(Ze=r,Hn(),ka&&typeof ka.onPostCommitFiberRoot=="function")try{ka.onPostCommitFiberRoot(zd,s)}catch{}n=!0}return n}finally{ns=a,Ht.transition=t}}return!1}function Qf(s,t,a){t=ol(a,t),t=bv(s,t,1),s=Mn(s,t,1),t=dt(),s!==null&&(Vi(s,1,t),bt(s,t))}function Ss(s,t,a){if(s.tag===3)Qf(s,s,a);else for(;t!==null;){if(t.tag===3){Qf(t,s,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Pn===null||!Pn.has(n))){s=ol(a,s),s=Sv(t,s,1),t=Mn(t,s,1),s=dt(),t!==null&&(Vi(t,1,s),bt(t,s));break}}t=t.return}}function TS(s,t,a){var n=s.pingCache;n!==null&&n.delete(t),t=dt(),s.pingedLanes|=s.suspendedLanes&a,Ws===s&&(Ys&a)===a&&(zs===4||zs===3&&(Ys&130023424)===Ys&&500>Ps()-zu?ir(s,0):Lu|=a),bt(s,t)}function Uv(s,t){t===0&&(s.mode&1?(t=oc,oc<<=1,!(oc&130023424)&&(oc=4194304)):t=1);var a=dt();s=Za(s,t),s!==null&&(Vi(s,t,a),bt(s,a))}function DS(s){var t=s.memoizedState,a=0;t!==null&&(a=t.retryLane),Uv(s,a)}function RS(s,t){var a=0;switch(s.tag){case 13:var n=s.stateNode,r=s.memoizedState;r!==null&&(a=r.retryLane);break;case 19:n=s.stateNode;break;default:throw Error(de(314))}n!==null&&n.delete(t),Uv(s,a)}var qv;qv=function(s,t,a){if(s!==null)if(s.memoizedProps!==t.pendingProps||yt.current)vt=!0;else{if(!(s.lanes&a)&&!(t.flags&128))return vt=!1,gS(s,t,a);vt=!!(s.flags&131072)}else vt=!1,js&&t.flags&1048576&&K0(t,dd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Wc(s,t),s=t.pendingProps;var r=ll(t,lt.current);Xr(t,a),r=Ru(null,t,n,s,r,a);var l=Eu();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(n)?(l=!0,id(t)):l=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,ku(t),r.updater=qd,t.stateNode=r,r._reactInternals=t,cx(t,n,s,a),t=mx(null,t,n,!0,l,a)):(t.tag=0,js&&l&&vu(t),ct(null,t,r,a),t=t.child),t;case 16:n=t.elementType;e:{switch(Wc(s,t),s=t.pendingProps,r=n._init,n=r(n._payload),t.type=n,r=t.tag=AS(n),s=ea(n,s),r){case 0:t=ox(null,t,n,s,a);break e;case 1:t=$f(null,t,n,s,a);break e;case 11:t=zf(null,t,n,s,a);break e;case 14:t=Ff(null,t,n,ea(n.type,s),a);break e}throw Error(de(306,n,""))}return t;case 0:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:ea(n,r),ox(s,t,n,r,a);case 1:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:ea(n,r),$f(s,t,n,r,a);case 3:e:{if(Pv(t),s===null)throw Error(de(387));n=t.pendingProps,l=t.memoizedState,r=l.element,sv(s,t),xd(t,n,null,a);var i=t.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){r=ol(Error(de(423)),t),t=Bf(s,t,n,a,r);break e}else if(n!==r){r=ol(Error(de(424)),t),t=Bf(s,t,n,a,r);break e}else for(Tt=kn(t.stateNode.containerInfo.firstChild),Et=t,js=!0,ta=null,a=J0(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(il(),n===r){t=Ja(s,t,a);break e}ct(s,t,n,a)}t=t.child}return t;case 5:return tv(t),s===null&&rx(t),n=t.type,r=t.pendingProps,l=s!==null?s.memoizedProps:null,i=r.children,ex(n,r)?i=null:l!==null&&ex(n,l)&&(t.flags|=32),Mv(s,t),ct(s,t,i,a),t.child;case 6:return s===null&&rx(t),null;case 13:return Tv(s,t,a);case 4:return Mu(t,t.stateNode.containerInfo),n=t.pendingProps,s===null?t.child=cl(t,null,n,a):ct(s,t,n,a),t.child;case 11:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:ea(n,r),zf(s,t,n,r,a);case 7:return ct(s,t,t.pendingProps,a),t.child;case 8:return ct(s,t,t.pendingProps.children,a),t.child;case 12:return ct(s,t,t.pendingProps.children,a),t.child;case 10:e:{if(n=t.type._context,r=t.pendingProps,l=t.memoizedProps,i=r.value,cs(od,n._currentValue),n._currentValue=i,l!==null)if(da(l.value,i)){if(l.children===r.children&&!yt.current){t=Ja(s,t,a);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){i=l.child;for(var d=c.firstContext;d!==null;){if(d.context===n){if(l.tag===1){d=Ya(-1,a&-a),d.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var u=m.pending;u===null?d.next=d:(d.next=u.next,u.next=d),m.pending=d}}l.lanes|=a,d=l.alternate,d!==null&&(d.lanes|=a),lx(l.return,a,t),c.lanes|=a;break}d=d.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(de(341));i.lanes|=a,c=i.alternate,c!==null&&(c.lanes|=a),lx(i,a,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}ct(s,t,r.children,a),t=t.child}return t;case 9:return r=t.type,n=t.pendingProps.children,Xr(t,a),r=Gt(r),n=n(r),t.flags|=1,ct(s,t,n,a),t.child;case 14:return n=t.type,r=ea(n,t.pendingProps),r=ea(n.type,r),Ff(s,t,n,r,a);case 15:return Cv(s,t,t.type,t.pendingProps,a);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:ea(n,r),Wc(s,t),t.tag=1,wt(n)?(s=!0,id(t)):s=!1,Xr(t,a),wv(t,n,r),cx(t,n,r,a),mx(null,t,n,!0,s,a);case 19:return Dv(s,t,a);case 22:return kv(s,t,a)}throw Error(de(156,t.tag))};function Hv(s,t){return v0(s,t)}function ES(s,t,a,n){this.tag=s,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(s,t,a,n){return new ES(s,t,a,n)}function Wu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function AS(s){if(typeof s=="function")return Wu(s)?1:0;if(s!=null){if(s=s.$$typeof,s===iu)return 11;if(s===cu)return 14}return 2}function Dn(s,t){var a=s.alternate;return a===null?(a=qt(s.tag,t,s.key,s.mode),a.elementType=s.elementType,a.type=s.type,a.stateNode=s.stateNode,a.alternate=s,s.alternate=a):(a.pendingProps=t,a.type=s.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=s.flags&14680064,a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=s.sibling,a.index=s.index,a.ref=s.ref,a}function qc(s,t,a,n,r,l){var i=2;if(n=s,typeof s=="function")Wu(s)&&(i=1);else if(typeof s=="string")i=5;else e:switch(s){case Ir:return cr(a.children,r,l,t);case lu:i=8,r|=8;break;case Em:return s=qt(12,a,t,r|2),s.elementType=Em,s.lanes=l,s;case Am:return s=qt(13,a,t,r),s.elementType=Am,s.lanes=l,s;case Im:return s=qt(19,a,t,r),s.elementType=Im,s.lanes=l,s;case t0:return Yd(a,r,l,t);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case e0:i=10;break e;case s0:i=9;break e;case iu:i=11;break e;case cu:i=14;break e;case pn:i=16,n=null;break e}throw Error(de(130,s==null?s:typeof s,""))}return t=qt(i,a,t,r),t.elementType=s,t.type=n,t.lanes=l,t}function cr(s,t,a,n){return s=qt(7,s,n,t),s.lanes=a,s}function Yd(s,t,a,n){return s=qt(22,s,n,t),s.elementType=t0,s.lanes=a,s.stateNode={isHidden:!1},s}function rm(s,t,a){return s=qt(6,s,null,t),s.lanes=a,s}function lm(s,t,a){return t=qt(4,s.children!==null?s.children:[],s.key,t),t.lanes=a,t.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},t}function IS(s,t,a,n,r){this.tag=t,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$o(0),this.expirationTimes=$o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Vu(s,t,a,n,r,l,i,c,d){return s=new IS(s,t,a,c,d),t===1?(t=1,l===!0&&(t|=8)):t=0,l=qt(3,null,null,t),s.current=l,l.stateNode=s,l.memoizedState={element:n,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ku(l),s}function OS(s,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:n==null?null:""+n,children:s,containerInfo:t,implementation:a}}function Gv(s){if(!s)return Fn;s=s._reactInternals;e:{if(wr(s)!==s||s.tag!==1)throw Error(de(170));var t=s;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(de(171))}if(s.tag===1){var a=s.type;if(wt(a))return G0(s,a,t)}return t}function Yv(s,t,a,n,r,l,i,c,d){return s=Vu(a,n,!0,s,r,l,i,c,d),s.context=Gv(null),a=s.current,n=dt(),r=Tn(a),l=Ya(n,r),l.callback=t??null,Mn(a,l,r),s.current.lanes=r,Vi(s,r,n),bt(s,n),s}function Kd(s,t,a,n){var r=t.current,l=dt(),i=Tn(r);return a=Gv(a),t.context===null?t.context=a:t.pendingContext=a,t=Ya(l,i),t.payload={element:s},n=n===void 0?null:n,n!==null&&(t.callback=n),s=Mn(r,t,i),s!==null&&(ca(s,r,i,l),Fc(s,r,i)),i}function Nd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Xf(s,t){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var a=s.retryLane;s.retryLane=a!==0&&a<t?a:t}}function Uu(s,t){Xf(s,t),(s=s.alternate)&&Xf(s,t)}function _S(){return null}var Kv=typeof reportError=="function"?reportError:function(s){console.error(s)};function qu(s){this._internalRoot=s}Qd.prototype.render=qu.prototype.render=function(s){var t=this._internalRoot;if(t===null)throw Error(de(409));Kd(s,t,null,null)};Qd.prototype.unmount=qu.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var t=s.containerInfo;fr(function(){Kd(null,s,null,null)}),t[Xa]=null}};function Qd(s){this._internalRoot=s}Qd.prototype.unstable_scheduleHydration=function(s){if(s){var t=k0();s={blockedOn:null,target:s,priority:t};for(var a=0;a<gn.length&&t!==0&&t<gn[a].priority;a++);gn.splice(a,0,s),a===0&&P0(s)}};function Hu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Xd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Zf(){}function LS(s,t,a,n,r){if(r){if(typeof n=="function"){var l=n;n=function(){var m=Nd(i);l.call(m)}}var i=Yv(t,n,s,0,null,!1,!1,"",Zf);return s._reactRootContainer=i,s[Xa]=i.current,Ci(s.nodeType===8?s.parentNode:s),fr(),i}for(;r=s.lastChild;)s.removeChild(r);if(typeof n=="function"){var c=n;n=function(){var m=Nd(d);c.call(m)}}var d=Vu(s,0,!1,null,null,!1,!1,"",Zf);return s._reactRootContainer=d,s[Xa]=d.current,Ci(s.nodeType===8?s.parentNode:s),fr(function(){Kd(t,d,a,n)}),d}function Zd(s,t,a,n,r){var l=a._reactRootContainer;if(l){var i=l;if(typeof r=="function"){var c=r;r=function(){var d=Nd(i);c.call(d)}}Kd(t,i,s,r)}else i=LS(a,t,s,r,n);return Nd(i)}S0=function(s){switch(s.tag){case 3:var t=s.stateNode;if(t.current.memoizedState.isDehydrated){var a=Jl(t.pendingLanes);a!==0&&(mu(t,a|1),bt(t,Ps()),!(Ze&6)&&(ml=Ps()+500,Hn()))}break;case 13:fr(function(){var n=Za(s,1);if(n!==null){var r=dt();ca(n,s,1,r)}}),Uu(s,1)}};xu=function(s){if(s.tag===13){var t=Za(s,134217728);if(t!==null){var a=dt();ca(t,s,134217728,a)}Uu(s,134217728)}};C0=function(s){if(s.tag===13){var t=Tn(s),a=Za(s,t);if(a!==null){var n=dt();ca(a,s,t,n)}Uu(s,t)}};k0=function(){return ns};M0=function(s,t){var a=ns;try{return ns=s,t()}finally{ns=a}};Um=function(s,t,a){switch(t){case"input":if(Lm(s,a),t=a.name,a.type==="radio"&&t!=null){for(a=s;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==s&&n.form===s.form){var r=Wd(n);if(!r)throw Error(de(90));n0(n),Lm(n,r)}}}break;case"textarea":l0(s,a);break;case"select":t=a.value,t!=null&&Gr(s,!!a.multiple,t,!1)}};u0=Fu;h0=fr;var zS={usingClientEntryPoint:!1,Events:[qi,zr,Wd,m0,x0,Fu]},Gl={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FS={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=j0(s),s===null?null:s.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||_S,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{zd=yc.inject(FS),ka=yc}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zS;Ft.createPortal=function(s,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hu(t))throw Error(de(200));return OS(s,t,null,a)};Ft.createRoot=function(s,t){if(!Hu(s))throw Error(de(299));var a=!1,n="",r=Kv;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Vu(s,1,!1,null,null,a,!1,n,r),s[Xa]=t.current,Ci(s.nodeType===8?s.parentNode:s),new qu(t)};Ft.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var t=s._reactInternals;if(t===void 0)throw typeof s.render=="function"?Error(de(188)):(s=Object.keys(s).join(","),Error(de(268,s)));return s=j0(t),s=s===null?null:s.stateNode,s};Ft.flushSync=function(s){return fr(s)};Ft.hydrate=function(s,t,a){if(!Xd(t))throw Error(de(200));return Zd(null,s,t,!0,a)};Ft.hydrateRoot=function(s,t,a){if(!Hu(s))throw Error(de(405));var n=a!=null&&a.hydratedSources||null,r=!1,l="",i=Kv;if(a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onRecoverableError!==void 0&&(i=a.onRecoverableError)),t=Yv(t,null,s,1,a??null,r,!1,l,i),s[Xa]=t.current,Ci(s),n)for(s=0;s<n.length;s++)a=n[s],r=a._getVersion,r=r(a._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[a,r]:t.mutableSourceEagerHydrationData.push(a,r);return new Qd(t)};Ft.render=function(s,t,a){if(!Xd(t))throw Error(de(200));return Zd(null,s,t,!1,a)};Ft.unmountComponentAtNode=function(s){if(!Xd(s))throw Error(de(40));return s._reactRootContainer?(fr(function(){Zd(null,null,s,!1,function(){s._reactRootContainer=null,s[Xa]=null})}),!0):!1};Ft.unstable_batchedUpdates=Fu;Ft.unstable_renderSubtreeIntoContainer=function(s,t,a,n){if(!Xd(a))throw Error(de(200));if(s==null||s._reactInternals===void 0)throw Error(de(38));return Zd(s,t,a,!1,n)};Ft.version="18.3.1-next-f1338f8080-20240426";function Qv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qv)}catch(s){console.error(s)}}Qv(),Qg.exports=Ft;var kl=Qg.exports;const $S=zg(kl);var Jf=kl;Dm.createRoot=Jf.createRoot,Dm.hydrateRoot=Jf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ii(){return Ii=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(s[n]=a[n])}return s},Ii.apply(this,arguments)}var wn;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(wn||(wn={}));const ep="popstate";function BS(s){s===void 0&&(s={});function t(n,r){let{pathname:l,search:i,hash:c}=n.location;return bx("",{pathname:l,search:i,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function a(n,r){return typeof r=="string"?r:yd(r)}return VS(t,a,null,s)}function Rs(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Xv(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WS(){return Math.random().toString(36).substr(2,8)}function sp(s,t){return{usr:s.state,key:s.key,idx:t}}function bx(s,t,a,n){return a===void 0&&(a=null),Ii({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof t=="string"?Ml(t):t,{state:a,key:t&&t.key||n||WS()})}function yd(s){let{pathname:t="/",search:a="",hash:n=""}=s;return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ml(s){let t={};if(s){let a=s.indexOf("#");a>=0&&(t.hash=s.substr(a),s=s.substr(0,a));let n=s.indexOf("?");n>=0&&(t.search=s.substr(n),s=s.substr(0,n)),s&&(t.pathname=s)}return t}function VS(s,t,a,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:l=!1}=n,i=r.history,c=wn.Pop,d=null,m=u();m==null&&(m=0,i.replaceState(Ii({},i.state,{idx:m}),""));function u(){return(i.state||{idx:null}).idx}function h(){c=wn.Pop;let j=u(),x=j==null?null:j-m;m=j,d&&d({action:c,location:N.location,delta:x})}function p(j,x){c=wn.Push;let f=bx(N.location,j,x);m=u()+1;let w=sp(f,m),D=N.createHref(f);try{i.pushState(w,"",D)}catch(y){if(y instanceof DOMException&&y.name==="DataCloneError")throw y;r.location.assign(D)}l&&d&&d({action:c,location:N.location,delta:1})}function g(j,x){c=wn.Replace;let f=bx(N.location,j,x);m=u();let w=sp(f,m),D=N.createHref(f);i.replaceState(w,"",D),l&&d&&d({action:c,location:N.location,delta:0})}function b(j){let x=r.location.origin!=="null"?r.location.origin:r.location.href,f=typeof j=="string"?j:yd(j);return f=f.replace(/ $/,"%20"),Rs(x,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,x)}let N={get action(){return c},get location(){return s(r,i)},listen(j){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(ep,h),d=j,()=>{r.removeEventListener(ep,h),d=null}},createHref(j){return t(r,j)},createURL:b,encodeLocation(j){let x=b(j);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:g,go(j){return i.go(j)}};return N}var tp;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(tp||(tp={}));function US(s,t,a){return a===void 0&&(a="/"),qS(s,t,a)}function qS(s,t,a,n){let r=typeof t=="string"?Ml(t):t,l=Gu(r.pathname||"/",a);if(l==null)return null;let i=Zv(s);HS(i);let c=null;for(let d=0;c==null&&d<i.length;++d){let m=n5(l);c=s5(i[d],m)}return c}function Zv(s,t,a,n){t===void 0&&(t=[]),a===void 0&&(a=[]),n===void 0&&(n="");let r=(l,i,c)=>{let d={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};d.relativePath.startsWith("/")&&(Rs(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let m=Rn([n,d.relativePath]),u=a.concat(d);l.children&&l.children.length>0&&(Rs(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Zv(l.children,t,u,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:JS(m,l.index),routesMeta:u})};return s.forEach((l,i)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))r(l,i);else for(let d of Jv(l.path))r(l,i,d)}),t}function Jv(s){let t=s.split("/");if(t.length===0)return[];let[a,...n]=t,r=a.endsWith("?"),l=a.replace(/\?$/,"");if(n.length===0)return r?[l,""]:[l];let i=Jv(n.join("/")),c=[];return c.push(...i.map(d=>d===""?l:[l,d].join("/"))),r&&c.push(...i),c.map(d=>s.startsWith("/")&&d===""?"/":d)}function HS(s){s.sort((t,a)=>t.score!==a.score?a.score-t.score:e5(t.routesMeta.map(n=>n.childrenIndex),a.routesMeta.map(n=>n.childrenIndex)))}const GS=/^:[\w-]+$/,YS=3,KS=2,QS=1,XS=10,ZS=-2,ap=s=>s==="*";function JS(s,t){let a=s.split("/"),n=a.length;return a.some(ap)&&(n+=ZS),t&&(n+=KS),a.filter(r=>!ap(r)).reduce((r,l)=>r+(GS.test(l)?YS:l===""?QS:XS),n)}function e5(s,t){return s.length===t.length&&s.slice(0,-1).every((n,r)=>n===t[r])?s[s.length-1]-t[t.length-1]:0}function s5(s,t,a){let{routesMeta:n}=s,r={},l="/",i=[];for(let c=0;c<n.length;++c){let d=n[c],m=c===n.length-1,u=l==="/"?t:t.slice(l.length)||"/",h=t5({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},u),p=d.route;if(!h)return null;Object.assign(r,h.params),i.push({params:r,pathname:Rn([l,h.pathname]),pathnameBase:c5(Rn([l,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(l=Rn([l,h.pathnameBase]))}return i}function t5(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[a,n]=a5(s.path,s.caseSensitive,s.end),r=t.match(a);if(!r)return null;let l=r[0],i=l.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:n.reduce((m,u,h)=>{let{paramName:p,isOptional:g}=u;if(p==="*"){let N=c[h]||"";i=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const b=c[h];return g&&!b?m[p]=void 0:m[p]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:i,pattern:s}}function a5(s,t,a){t===void 0&&(t=!1),a===void 0&&(a=!0),Xv(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let n=[],r="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(n.push({paramName:"*"}),r+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":s!==""&&s!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function n5(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xv(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),s}}function Gu(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=s.charAt(a);return n&&n!=="/"?null:s.slice(a)||"/"}function r5(s,t){t===void 0&&(t="/");let{pathname:a,search:n="",hash:r=""}=typeof s=="string"?Ml(s):s;return{pathname:a?a.startsWith("/")?a:l5(a,t):t,search:d5(n),hash:o5(r)}}function l5(s,t){let a=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(r=>{r===".."?a.length>1&&a.pop():r!=="."&&a.push(r)}),a.length>1?a.join("/"):"/"}function im(s,t,a,n){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i5(s){return s.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function Yu(s,t){let a=i5(s);return t?a.map((n,r)=>r===a.length-1?n.pathname:n.pathnameBase):a.map(n=>n.pathnameBase)}function Ku(s,t,a,n){n===void 0&&(n=!1);let r;typeof s=="string"?r=Ml(s):(r=Ii({},s),Rs(!r.pathname||!r.pathname.includes("?"),im("?","pathname","search",r)),Rs(!r.pathname||!r.pathname.includes("#"),im("#","pathname","hash",r)),Rs(!r.search||!r.search.includes("#"),im("#","search","hash",r)));let l=s===""||r.pathname==="",i=l?"/":r.pathname,c;if(i==null)c=a;else{let h=t.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}c=h>=0?t[h]:"/"}let d=r5(r,c),m=i&&i!=="/"&&i.endsWith("/"),u=(l||i===".")&&a.endsWith("/");return!d.pathname.endsWith("/")&&(m||u)&&(d.pathname+="/"),d}const Rn=s=>s.join("/").replace(/\/\/+/g,"/"),c5=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),d5=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,o5=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function m5(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const eN=["post","put","patch","delete"];new Set(eN);const x5=["get",...eN];new Set(x5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oi(){return Oi=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(s[n]=a[n])}return s},Oi.apply(this,arguments)}const Qu=o.createContext(null),u5=o.createContext(null),Gn=o.createContext(null),Jd=o.createContext(null),Yn=o.createContext({outlet:null,matches:[],isDataRoute:!1}),sN=o.createContext(null);function h5(s,t){let{relative:a}=t===void 0?{}:t;Pl()||Rs(!1);let{basename:n,navigator:r}=o.useContext(Gn),{hash:l,pathname:i,search:c}=aN(s,{relative:a}),d=i;return n!=="/"&&(d=i==="/"?n:Rn([n,i])),r.createHref({pathname:d,search:c,hash:l})}function Pl(){return o.useContext(Jd)!=null}function nn(){return Pl()||Rs(!1),o.useContext(Jd).location}function tN(s){o.useContext(Gn).static||o.useLayoutEffect(s)}function Qe(){let{isDataRoute:s}=o.useContext(Yn);return s?M5():f5()}function f5(){Pl()||Rs(!1);let s=o.useContext(Qu),{basename:t,future:a,navigator:n}=o.useContext(Gn),{matches:r}=o.useContext(Yn),{pathname:l}=nn(),i=JSON.stringify(Yu(r,a.v7_relativeSplatPath)),c=o.useRef(!1);return tN(()=>{c.current=!0}),o.useCallback(function(m,u){if(u===void 0&&(u={}),!c.current)return;if(typeof m=="number"){n.go(m);return}let h=Ku(m,JSON.parse(i),l,u.relative==="path");s==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Rn([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,i,l,s])}function aN(s,t){let{relative:a}=t===void 0?{}:t,{future:n}=o.useContext(Gn),{matches:r}=o.useContext(Yn),{pathname:l}=nn(),i=JSON.stringify(Yu(r,n.v7_relativeSplatPath));return o.useMemo(()=>Ku(s,JSON.parse(i),l,a==="path"),[s,i,l,a])}function p5(s,t){return j5(s,t)}function j5(s,t,a,n){Pl()||Rs(!1);let{navigator:r}=o.useContext(Gn),{matches:l}=o.useContext(Yn),i=l[l.length-1],c=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let m=nn(),u;if(t){var h;let j=typeof t=="string"?Ml(t):t;d==="/"||(h=j.pathname)!=null&&h.startsWith(d)||Rs(!1),u=j}else u=m;let p=u.pathname||"/",g=p;if(d!=="/"){let j=d.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=US(s,{pathname:g}),N=w5(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:Rn([d,r.encodeLocation?r.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?d:Rn([d,r.encodeLocation?r.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,a,n);return t&&N?o.createElement(Jd.Provider,{value:{location:Oi({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:wn.Pop}},N):N}function g5(){let s=k5(),t=m5(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),a=s instanceof Error?s.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),a?o.createElement("pre",{style:r},a):null,null)}const v5=o.createElement(g5,null);class N5 extends o.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){console.error("React Router caught the following error during render",t,a)}render(){return this.state.error!==void 0?o.createElement(Yn.Provider,{value:this.props.routeContext},o.createElement(sN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function y5(s){let{routeContext:t,match:a,children:n}=s,r=o.useContext(Qu);return r&&r.static&&r.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=a.route.id),o.createElement(Yn.Provider,{value:t},n)}function w5(s,t,a,n){var r;if(t===void 0&&(t=[]),a===void 0&&(a=null),n===void 0&&(n=null),s==null){var l;if(!a)return null;if(a.errors)s=a.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!a.initialized&&a.matches.length>0)s=a.matches;else return null}let i=s,c=(r=a)==null?void 0:r.errors;if(c!=null){let u=i.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);u>=0||Rs(!1),i=i.slice(0,Math.min(i.length,u+1))}let d=!1,m=-1;if(a&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(m=u),h.route.id){let{loaderData:p,errors:g}=a,b=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){d=!0,m>=0?i=i.slice(0,m+1):i=[i[0]];break}}}return i.reduceRight((u,h,p)=>{let g,b=!1,N=null,j=null;a&&(g=c&&h.route.id?c[h.route.id]:void 0,N=h.route.errorElement||v5,d&&(m<0&&p===0?(P5("route-fallback"),b=!0,j=null):m===p&&(b=!0,j=h.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,p+1)),f=()=>{let w;return g?w=N:b?w=j:h.route.Component?w=o.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,o.createElement(y5,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:a!=null},children:w})};return a&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?o.createElement(N5,{location:a.location,revalidation:a.revalidation,component:N,error:g,children:f(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):f()},null)}var nN=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(nN||{}),rN=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(rN||{});function b5(s){let t=o.useContext(Qu);return t||Rs(!1),t}function S5(s){let t=o.useContext(u5);return t||Rs(!1),t}function C5(s){let t=o.useContext(Yn);return t||Rs(!1),t}function lN(s){let t=C5(),a=t.matches[t.matches.length-1];return a.route.id||Rs(!1),a.route.id}function k5(){var s;let t=o.useContext(sN),a=S5(),n=lN();return t!==void 0?t:(s=a.errors)==null?void 0:s[n]}function M5(){let{router:s}=b5(nN.UseNavigateStable),t=lN(rN.UseNavigateStable),a=o.useRef(!1);return tN(()=>{a.current=!0}),o.useCallback(function(r,l){l===void 0&&(l={}),a.current&&(typeof r=="number"?s.navigate(r):s.navigate(r,Oi({fromRouteId:t},l)))},[s,t])}const np={};function P5(s,t,a){np[s]||(np[s]=!0)}function T5(s,t){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function St(s){let{to:t,replace:a,state:n,relative:r}=s;Pl()||Rs(!1);let{future:l,static:i}=o.useContext(Gn),{matches:c}=o.useContext(Yn),{pathname:d}=nn(),m=Qe(),u=Ku(t,Yu(c,l.v7_relativeSplatPath),d,r==="path"),h=JSON.stringify(u);return o.useEffect(()=>m(JSON.parse(h),{replace:a,state:n,relative:r}),[m,h,r,a,n]),null}function Q(s){Rs(!1)}function D5(s){let{basename:t="/",children:a=null,location:n,navigationType:r=wn.Pop,navigator:l,static:i=!1,future:c}=s;Pl()&&Rs(!1);let d=t.replace(/^\/*/,"/"),m=o.useMemo(()=>({basename:d,navigator:l,static:i,future:Oi({v7_relativeSplatPath:!1},c)}),[d,c,l,i]);typeof n=="string"&&(n=Ml(n));let{pathname:u="/",search:h="",hash:p="",state:g=null,key:b="default"}=n,N=o.useMemo(()=>{let j=Gu(u,d);return j==null?null:{location:{pathname:j,search:h,hash:p,state:g,key:b},navigationType:r}},[d,u,h,p,g,b,r]);return N==null?null:o.createElement(Gn.Provider,{value:m},o.createElement(Jd.Provider,{children:a,value:N}))}function R5(s){let{children:t,location:a}=s;return p5(Sx(t),a)}new Promise(()=>{});function Sx(s,t){t===void 0&&(t=[]);let a=[];return o.Children.forEach(s,(n,r)=>{if(!o.isValidElement(n))return;let l=[...t,r];if(n.type===o.Fragment){a.push.apply(a,Sx(n.props.children,l));return}n.type!==Q&&Rs(!1),!n.props.index||!n.props.children||Rs(!1);let i={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Sx(n.props.children,l)),a.push(i)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cx(){return Cx=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(s[n]=a[n])}return s},Cx.apply(this,arguments)}function E5(s,t){if(s==null)return{};var a={},n=Object.keys(s),r,l;for(l=0;l<n.length;l++)r=n[l],!(t.indexOf(r)>=0)&&(a[r]=s[r]);return a}function A5(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function I5(s,t){return s.button===0&&(!t||t==="_self")&&!A5(s)}function kx(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((t,a)=>{let n=s[a];return t.concat(Array.isArray(n)?n.map(r=>[a,r]):[[a,n]])},[]))}function O5(s,t){let a=kx(s);return t&&t.forEach((n,r)=>{a.has(r)||t.getAll(r).forEach(l=>{a.append(r,l)})}),a}const _5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],L5="6";try{window.__reactRouterVersion=L5}catch{}const z5="startTransition",rp=tu[z5];function F5(s){let{basename:t,children:a,future:n,window:r}=s,l=o.useRef();l.current==null&&(l.current=BS({window:r,v5Compat:!0}));let i=l.current,[c,d]=o.useState({action:i.action,location:i.location}),{v7_startTransition:m}=n||{},u=o.useCallback(h=>{m&&rp?rp(()=>d(h)):d(h)},[d,m]);return o.useLayoutEffect(()=>i.listen(u),[i,u]),o.useEffect(()=>T5(n),[n]),o.createElement(D5,{basename:t,children:a,location:c.location,navigationType:c.action,navigator:i,future:n})}const $5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,be=o.forwardRef(function(t,a){let{onClick:n,relative:r,reloadDocument:l,replace:i,state:c,target:d,to:m,preventScrollReset:u,viewTransition:h}=t,p=E5(t,_5),{basename:g}=o.useContext(Gn),b,N=!1;if(typeof m=="string"&&B5.test(m)&&(b=m,$5))try{let w=new URL(window.location.href),D=m.startsWith("//")?new URL(w.protocol+m):new URL(m),y=Gu(D.pathname,g);D.origin===w.origin&&y!=null?m=y+D.search+D.hash:N=!0}catch{}let j=h5(m,{relative:r}),x=W5(m,{replace:i,state:c,target:d,preventScrollReset:u,relative:r,viewTransition:h});function f(w){n&&n(w),w.defaultPrevented||x(w)}return o.createElement("a",Cx({},p,{href:b||j,onClick:N||l?n:f,ref:a,target:d}))});var lp;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(lp||(lp={}));var ip;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(ip||(ip={}));function W5(s,t){let{target:a,replace:n,state:r,preventScrollReset:l,relative:i,viewTransition:c}=t===void 0?{}:t,d=Qe(),m=nn(),u=aN(s,{relative:i});return o.useCallback(h=>{if(I5(h,a)){h.preventDefault();let p=n!==void 0?n:yd(m)===yd(u);d(s,{replace:p,state:r,preventScrollReset:l,relative:i,viewTransition:c})}},[m,d,u,n,r,a,s,l,i,c])}function V5(s){let t=o.useRef(kx(s)),a=o.useRef(!1),n=nn(),r=o.useMemo(()=>O5(n.search,a.current?null:t.current),[n.search]),l=Qe(),i=o.useCallback((c,d)=>{const m=kx(typeof c=="function"?c(r):c);a.current=!0,l("?"+m,d)},[l,r]);return[r,i]}const qr={student:["view_dashboard","view_courses","submit_reports","view_grades","participate_meetings","use_messaging","view_resources"],professor:["view_dashboard","manage_courses","grade_students","view_student_progress","schedule_meetings","access_analytics","manage_materials","conduct_defense","export_reports"],secretary:["view_dashboard","manage_evaluations","coordinate_schedules","manage_expert_groups","process_appeals","generate_reports","manage_notifications","batch_operations"],admin:["full_access","manage_users","system_configuration","view_all_data","security_management","backup_restore"]},kr={student:{id:"test-student-1",email:"zhangsan@hust.edu.cn",name:"张三",studentId:"D202377777",role:"student",department:"机械科学与工程学院",phone:"13800138000",isActive:!0,permissions:qr.student,lastLogin:new Date},professor:{id:"test-professor-1",email:"li.prof@hust.edu.cn",name:"李教授",role:"professor",department:"机械科学与工程学院",phone:"13800138001",isActive:!0,permissions:qr.professor,lastLogin:new Date},secretary:{id:"test-secretary-1",email:"chen.sec@hust.edu.cn",name:"陈秘书",role:"secretary",department:"机械科学与工程学院",phone:"13800138002",isActive:!0,permissions:qr.secretary,lastLogin:new Date},admin:{id:"test-admin-1",email:"wang.admin@hust.edu.cn",name:"王主任",role:"admin",department:"机械科学与工程学院",phone:"13800138003",isActive:!0,permissions:qr.admin,lastLogin:new Date}},iN=o.createContext(void 0),rs=()=>{const s=o.useContext(iN);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},U5=({children:s})=>{const[t,a]=o.useState(null),[n,r]=o.useState(!0),l=nn(),i=Qe(),c=!0,d="student";o.useEffect(()=>{{const x=new URLSearchParams(l.search),f=x.get("role"),w=f||d;if(kr[w]&&(a(kr[w]),localStorage.setItem("user",JSON.stringify(kr[w])),r(!1),f)){x.delete("role");const D=x.toString();i({pathname:l.pathname,search:D?`?${D}`:""},{replace:!0})}}},[c,l.search,i,l.pathname,d]);const j={user:t,login:async(x,f)=>(r(!0),new Promise(w=>{setTimeout(()=>{if(x&&f.length>=6){const D=x.includes("admin")?"admin":x.includes("prof")?"professor":x.includes("sec")?"secretary":"student",y={id:Date.now().toString(),email:x,name:x.split("@")[0],role:D,department:"机械科学与工程学院",isActive:!0,permissions:qr[D]||qr.student,lastLogin:new Date};a(y),localStorage.setItem("user",JSON.stringify(y)),r(!1),w(!0)}else r(!1),w(!1)},1e3)})),register:async x=>(r(!0),new Promise(f=>{setTimeout(()=>{f(!0),r(!1)},2e3)})),logout:()=>{a(null),localStorage.removeItem("user")},isLoading:n,isTestMode:c,switchRole:x=>{kr[x]&&(a(kr[x]),localStorage.setItem("user",JSON.stringify(kr[x])))},hasPermission:x=>t?t.permissions.includes("full_access")?!0:t.permissions.includes(x):!1,hasRole:x=>t?t.role===x:!1,updateProfile:async x=>t?(r(!0),new Promise(f=>{setTimeout(()=>{const w={...t,...x};a(w),localStorage.setItem("user",JSON.stringify(w)),r(!1),f(!0)},1e3)})):!1};return e.jsx(iN.Provider,{value:j,children:s})};function cp(s,t){if(typeof s=="function")return s(t);s!=null&&(s.current=t)}function cN(...s){return t=>{let a=!1;const n=s.map(r=>{const l=cp(r,t);return!a&&typeof l=="function"&&(a=!0),l});if(a)return()=>{for(let r=0;r<n.length;r++){const l=n[r];typeof l=="function"?l():cp(s[r],null)}}}}function Oe(...s){return o.useCallback(cN(...s),s)}function pr(s){const t=H5(s),a=o.forwardRef((n,r)=>{const{children:l,...i}=n,c=o.Children.toArray(l),d=c.find(Y5);if(d){const m=d.props.children,u=c.map(h=>h===d?o.Children.count(m)>1?o.Children.only(null):o.isValidElement(m)?m.props.children:null:h);return e.jsx(t,{...i,ref:r,children:o.isValidElement(m)?o.cloneElement(m,void 0,u):null})}return e.jsx(t,{...i,ref:r,children:l})});return a.displayName=`${s}.Slot`,a}var q5=pr("Slot");function H5(s){const t=o.forwardRef((a,n)=>{const{children:r,...l}=a;if(o.isValidElement(r)){const i=Q5(r),c=K5(l,r.props);return r.type!==o.Fragment&&(c.ref=n?cN(n,i):i),o.cloneElement(r,c)}return o.Children.count(r)>1?o.Children.only(null):null});return t.displayName=`${s}.SlotClone`,t}var G5=Symbol("radix.slottable");function Y5(s){return o.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===G5}function K5(s,t){const a={...t};for(const n in t){const r=s[n],l=t[n];/^on[A-Z]/.test(n)?r&&l?a[n]=(...c)=>{const d=l(...c);return r(...c),d}:r&&(a[n]=r):n==="style"?a[n]={...r,...l}:n==="className"&&(a[n]=[r,l].filter(Boolean).join(" "))}return{...s,...a}}function Q5(s){var n,r;let t=(n=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:n.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?s.ref:(t=(r=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:r.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?s.props.ref:s.props.ref||s.ref)}function dN(s){var t,a,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var r=s.length;for(t=0;t<r;t++)s[t]&&(a=dN(s[t]))&&(n&&(n+=" "),n+=a)}else for(a in s)s[a]&&(n&&(n+=" "),n+=a);return n}function oN(){for(var s,t,a=0,n="",r=arguments.length;a<r;a++)(s=arguments[a])&&(t=dN(s))&&(n&&(n+=" "),n+=t);return n}const dp=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,op=oN,eo=(s,t)=>a=>{var n;if((t==null?void 0:t.variants)==null)return op(s,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:r,defaultVariants:l}=t,i=Object.keys(r).map(m=>{const u=a==null?void 0:a[m],h=l==null?void 0:l[m];if(u===null)return null;const p=dp(u)||dp(h);return r[m][p]}),c=a&&Object.entries(a).reduce((m,u)=>{let[h,p]=u;return p===void 0||(m[h]=p),m},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((m,u)=>{let{class:h,className:p,...g}=u;return Object.entries(g).every(b=>{let[N,j]=b;return Array.isArray(j)?j.includes({...l,...c}[N]):{...l,...c}[N]===j})?[...m,h,p]:m},[]);return op(s,i,d,a==null?void 0:a.class,a==null?void 0:a.className)},Xu="-",X5=s=>{const t=J5(s),{conflictingClassGroups:a,conflictingClassGroupModifiers:n}=s;return{getClassGroupId:i=>{const c=i.split(Xu);return c[0]===""&&c.length!==1&&c.shift(),mN(c,t)||Z5(i)},getConflictingClassGroupIds:(i,c)=>{const d=a[i]||[];return c&&n[i]?[...d,...n[i]]:d}}},mN=(s,t)=>{var i;if(s.length===0)return t.classGroupId;const a=s[0],n=t.nextPart.get(a),r=n?mN(s.slice(1),n):void 0;if(r)return r;if(t.validators.length===0)return;const l=s.join(Xu);return(i=t.validators.find(({validator:c})=>c(l)))==null?void 0:i.classGroupId},mp=/^\[(.+)\]$/,Z5=s=>{if(mp.test(s)){const t=mp.exec(s)[1],a=t==null?void 0:t.substring(0,t.indexOf(":"));if(a)return"arbitrary.."+a}},J5=s=>{const{theme:t,prefix:a}=s,n={nextPart:new Map,validators:[]};return sC(Object.entries(s.classGroups),a).forEach(([l,i])=>{Mx(i,n,l,t)}),n},Mx=(s,t,a,n)=>{s.forEach(r=>{if(typeof r=="string"){const l=r===""?t:xp(t,r);l.classGroupId=a;return}if(typeof r=="function"){if(eC(r)){Mx(r(n),t,a,n);return}t.validators.push({validator:r,classGroupId:a});return}Object.entries(r).forEach(([l,i])=>{Mx(i,xp(t,l),a,n)})})},xp=(s,t)=>{let a=s;return t.split(Xu).forEach(n=>{a.nextPart.has(n)||a.nextPart.set(n,{nextPart:new Map,validators:[]}),a=a.nextPart.get(n)}),a},eC=s=>s.isThemeGetter,sC=(s,t)=>t?s.map(([a,n])=>{const r=n.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([i,c])=>[t+i,c])):l);return[a,r]}):s,tC=s=>{if(s<1)return{get:()=>{},set:()=>{}};let t=0,a=new Map,n=new Map;const r=(l,i)=>{a.set(l,i),t++,t>s&&(t=0,n=a,a=new Map)};return{get(l){let i=a.get(l);if(i!==void 0)return i;if((i=n.get(l))!==void 0)return r(l,i),i},set(l,i){a.has(l)?a.set(l,i):r(l,i)}}},xN="!",aC=s=>{const{separator:t,experimentalParseClassName:a}=s,n=t.length===1,r=t[0],l=t.length,i=c=>{const d=[];let m=0,u=0,h;for(let j=0;j<c.length;j++){let x=c[j];if(m===0){if(x===r&&(n||c.slice(j,j+l)===t)){d.push(c.slice(u,j)),u=j+l;continue}if(x==="/"){h=j;continue}}x==="["?m++:x==="]"&&m--}const p=d.length===0?c:c.substring(u),g=p.startsWith(xN),b=g?p.substring(1):p,N=h&&h>u?h-u:void 0;return{modifiers:d,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:N}};return a?c=>a({className:c,parseClassName:i}):i},nC=s=>{if(s.length<=1)return s;const t=[];let a=[];return s.forEach(n=>{n[0]==="["?(t.push(...a.sort(),n),a=[]):a.push(n)}),t.push(...a.sort()),t},rC=s=>({cache:tC(s.cacheSize),parseClassName:aC(s),...X5(s)}),lC=/\s+/,iC=(s,t)=>{const{parseClassName:a,getClassGroupId:n,getConflictingClassGroupIds:r}=t,l=[],i=s.trim().split(lC);let c="";for(let d=i.length-1;d>=0;d-=1){const m=i[d],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=a(m);let b=!!g,N=n(b?p.substring(0,g):p);if(!N){if(!b){c=m+(c.length>0?" "+c:c);continue}if(N=n(p),!N){c=m+(c.length>0?" "+c:c);continue}b=!1}const j=nC(u).join(":"),x=h?j+xN:j,f=x+N;if(l.includes(f))continue;l.push(f);const w=r(N,b);for(let D=0;D<w.length;++D){const y=w[D];l.push(x+y)}c=m+(c.length>0?" "+c:c)}return c};function cC(){let s=0,t,a,n="";for(;s<arguments.length;)(t=arguments[s++])&&(a=uN(t))&&(n&&(n+=" "),n+=a);return n}const uN=s=>{if(typeof s=="string")return s;let t,a="";for(let n=0;n<s.length;n++)s[n]&&(t=uN(s[n]))&&(a&&(a+=" "),a+=t);return a};function dC(s,...t){let a,n,r,l=i;function i(d){const m=t.reduce((u,h)=>h(u),s());return a=rC(m),n=a.cache.get,r=a.cache.set,l=c,c(d)}function c(d){const m=n(d);if(m)return m;const u=iC(d,a);return r(d,u),u}return function(){return l(cC.apply(null,arguments))}}const os=s=>{const t=a=>a[s]||[];return t.isThemeGetter=!0,t},hN=/^\[(?:([a-z-]+):)?(.+)\]$/i,oC=/^\d+\/\d+$/,mC=new Set(["px","full","screen"]),xC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$a=s=>Jr(s)||mC.has(s)||oC.test(s),mn=s=>Tl(s,"length",SC),Jr=s=>!!s&&!Number.isNaN(Number(s)),cm=s=>Tl(s,"number",Jr),Yl=s=>!!s&&Number.isInteger(Number(s)),jC=s=>s.endsWith("%")&&Jr(s.slice(0,-1)),_e=s=>hN.test(s),xn=s=>xC.test(s),gC=new Set(["length","size","percentage"]),vC=s=>Tl(s,gC,fN),NC=s=>Tl(s,"position",fN),yC=new Set(["image","url"]),wC=s=>Tl(s,yC,kC),bC=s=>Tl(s,"",CC),Kl=()=>!0,Tl=(s,t,a)=>{const n=hN.exec(s);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):a(n[2]):!1},SC=s=>uC.test(s)&&!hC.test(s),fN=()=>!1,CC=s=>fC.test(s),kC=s=>pC.test(s),MC=()=>{const s=os("colors"),t=os("spacing"),a=os("blur"),n=os("brightness"),r=os("borderColor"),l=os("borderRadius"),i=os("borderSpacing"),c=os("borderWidth"),d=os("contrast"),m=os("grayscale"),u=os("hueRotate"),h=os("invert"),p=os("gap"),g=os("gradientColorStops"),b=os("gradientColorStopPositions"),N=os("inset"),j=os("margin"),x=os("opacity"),f=os("padding"),w=os("saturate"),D=os("scale"),y=os("sepia"),T=os("skew"),v=os("space"),P=os("translate"),k=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",_e,t],z=()=>[_e,t],I=()=>["",$a,mn],F=()=>["auto",Jr,_e],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],A=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",_e],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Jr,_e];return{cacheSize:500,separator:":",theme:{colors:[Kl],spacing:[$a,mn],blur:["none","",xn,_e],brightness:G(),borderColor:[s],borderRadius:["none","","full",xn,_e],borderSpacing:z(),borderWidth:I(),contrast:G(),grayscale:q(),hueRotate:G(),invert:q(),gap:z(),gradientColorStops:[s],gradientColorStopPositions:[jC,mn],inset:M(),margin:M(),opacity:G(),padding:z(),saturate:G(),scale:G(),sepia:q(),skew:G(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[xn]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),_e]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yl,_e]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",Yl,_e]}],"grid-cols":[{"grid-cols":[Kl]}],"col-start-end":[{col:["auto",{span:["full",Yl,_e]},_e]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Kl]}],"row-start-end":[{row:["auto",{span:[Yl,_e]},_e]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[v]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[v]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,t]}],"min-w":[{"min-w":[_e,t,"min","max","fit"]}],"max-w":[{"max-w":[_e,t,"none","full","min","max","fit","prose",{screen:[xn]},xn]}],h:[{h:[_e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",xn,mn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cm]}],"font-family":[{font:[Kl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Jr,cm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$a,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$a,mn]}],"underline-offset":[{"underline-offset":["auto",$a,_e]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),NC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wC]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:B()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[$a,_e]}],"outline-w":[{outline:[$a,mn]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[$a,mn]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",xn,bC]}],"shadow-color":[{shadow:[Kl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...A(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":A()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",xn,_e]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[y]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Yl,_e]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[$a,mn,cm]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},PC=dC(MC);function X(...s){return PC(oN(s))}const Px=eo("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-300 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg hover:shadow-primary/20",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md hover:shadow-lg hover:shadow-destructive/20",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md hover:border-primary/30",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground hover:shadow-sm",link:"text-primary underline-offset-4 hover:underline",premium:"btn-premium bg-gradient-to-r from-primary via-primary-light to-secondary-accent text-white shadow-lg hover:shadow-xl hover:shadow-primary/30 hover:scale-105",glass:"btn-glass bg-white/10 text-white border border-white/20 backdrop-blur-md shadow-lg hover:bg-white/20 hover:border-white/30 hover:shadow-xl",gradient:"btn-gradient bg-gradient-to-r from-primary to-secondary-accent text-white shadow-lg hover:shadow-xl hover:from-primary-light hover:to-secondary-accent-light",glow:"btn-glow bg-primary text-primary-foreground shadow-lg hover:shadow-xl hover:shadow-primary/40 hover:scale-105",neumorphic:"bg-background shadow-[8px_8px_16px_rgba(0,0,0,0.1),-8px_-8px_16px_rgba(255,255,255,0.8)] hover:shadow-[4px_4px_8px_rgba(0,0,0,0.15),-4px_-4px_8px_rgba(255,255,255,0.9)] dark:shadow-[8px_8px_16px_rgba(0,0,0,0.3),-8px_-8px_16px_rgba(255,255,255,0.02)] dark:hover:shadow-[4px_4px_8px_rgba(0,0,0,0.4),-4px_-4px_8px_rgba(255,255,255,0.04)]",aurora:"gradient-aurora text-white shadow-lg hover:shadow-xl animate-pulse hover:animate-none"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3 text-xs",lg:"h-12 rounded-xl px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10","icon-sm":"h-8 w-8","icon-lg":"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),S=o.forwardRef(({className:s,variant:t,size:a,asChild:n=!1,...r},l)=>{const i=n?q5:"button";return e.jsx(i,{className:X(Px({variant:t,size:a,className:s})),ref:l,...r})});S.displayName="Button";function ve(s,t,{checkForDefaultPrevented:a=!0}={}){return function(r){if(s==null||s(r),a===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function TC(s,t){const a=o.createContext(t),n=l=>{const{children:i,...c}=l,d=o.useMemo(()=>c,Object.values(c));return e.jsx(a.Provider,{value:d,children:i})};n.displayName=s+"Provider";function r(l){const i=o.useContext(a);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${s}\``)}return[n,r]}function Ct(s,t=[]){let a=[];function n(l,i){const c=o.createContext(i),d=a.length;a=[...a,i];const m=h=>{var x;const{scope:p,children:g,...b}=h,N=((x=p==null?void 0:p[s])==null?void 0:x[d])||c,j=o.useMemo(()=>b,Object.values(b));return e.jsx(N.Provider,{value:j,children:g})};m.displayName=l+"Provider";function u(h,p){var N;const g=((N=p==null?void 0:p[s])==null?void 0:N[d])||c,b=o.useContext(g);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${l}\``)}return[m,u]}const r=()=>{const l=a.map(i=>o.createContext(i));return function(c){const d=(c==null?void 0:c[s])||l;return o.useMemo(()=>({[`__scope${s}`]:{...c,[s]:d}}),[c,d])}};return r.scopeName=s,[n,DC(r,...t)]}function DC(...s){const t=s[0];if(s.length===1)return t;const a=()=>{const n=s.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(l){const i=n.reduce((c,{useScope:d,scopeName:m})=>{const h=d(l)[`__scope${m}`];return{...c,...h}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return a.scopeName=t.scopeName,a}var Is=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{},RC=tu[" useId ".trim().toString()]||(()=>{}),EC=0;function Ka(s){const[t,a]=o.useState(RC());return Is(()=>{a(n=>n??String(EC++))},[s]),t?`radix-${t}`:""}var AC=tu[" useInsertionEffect ".trim().toString()]||Is;function Da({prop:s,defaultProp:t,onChange:a=()=>{},caller:n}){const[r,l,i]=IC({defaultProp:t,onChange:a}),c=s!==void 0,d=c?s:r;{const u=o.useRef(s!==void 0);o.useEffect(()=>{const h=u.current;h!==c&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=c},[c,n])}const m=o.useCallback(u=>{var h;if(c){const p=OC(u)?u(s):u;p!==s&&((h=i.current)==null||h.call(i,p))}else l(u)},[c,s,l,i]);return[d,m]}function IC({defaultProp:s,onChange:t}){const[a,n]=o.useState(s),r=o.useRef(a),l=o.useRef(t);return AC(()=>{l.current=t},[t]),o.useEffect(()=>{var i;r.current!==a&&((i=l.current)==null||i.call(l,a),r.current=a)},[a,r]),[a,n,l]}function OC(s){return typeof s=="function"}var _C=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ye=_C.reduce((s,t)=>{const a=pr(`Primitive.${t}`),n=o.forwardRef((r,l)=>{const{asChild:i,...c}=r,d=i?a:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...c,ref:l})});return n.displayName=`Primitive.${t}`,{...s,[t]:n}},{});function LC(s,t){s&&kl.flushSync(()=>s.dispatchEvent(t))}function nt(s){const t=o.useRef(s);return o.useEffect(()=>{t.current=s}),o.useMemo(()=>(...a)=>{var n;return(n=t.current)==null?void 0:n.call(t,...a)},[])}function zC(s,t=globalThis==null?void 0:globalThis.document){const a=nt(s);o.useEffect(()=>{const n=r=>{r.key==="Escape"&&a(r)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[a,t])}var FC="DismissableLayer",Tx="dismissableLayer.update",$C="dismissableLayer.pointerDownOutside",BC="dismissableLayer.focusOutside",up,pN=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),so=o.forwardRef((s,t)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:l,onInteractOutside:i,onDismiss:c,...d}=s,m=o.useContext(pN),[u,h]=o.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=o.useState({}),b=Oe(t,v=>h(v)),N=Array.from(m.layers),[j]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),x=N.indexOf(j),f=u?N.indexOf(u):-1,w=m.layersWithOutsidePointerEventsDisabled.size>0,D=f>=x,y=UC(v=>{const P=v.target,k=[...m.branches].some(C=>C.contains(P));!D||k||(r==null||r(v),i==null||i(v),v.defaultPrevented||c==null||c())},p),T=qC(v=>{const P=v.target;[...m.branches].some(C=>C.contains(P))||(l==null||l(v),i==null||i(v),v.defaultPrevented||c==null||c())},p);return zC(v=>{f===m.layers.size-1&&(n==null||n(v),!v.defaultPrevented&&c&&(v.preventDefault(),c()))},p),o.useEffect(()=>{if(u)return a&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(up=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(u)),m.layers.add(u),hp(),()=>{a&&m.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=up)}},[u,p,a,m]),o.useEffect(()=>()=>{u&&(m.layers.delete(u),m.layersWithOutsidePointerEventsDisabled.delete(u),hp())},[u,m]),o.useEffect(()=>{const v=()=>g({});return document.addEventListener(Tx,v),()=>document.removeEventListener(Tx,v)},[]),e.jsx(ye.div,{...d,ref:b,style:{pointerEvents:w?D?"auto":"none":void 0,...s.style},onFocusCapture:ve(s.onFocusCapture,T.onFocusCapture),onBlurCapture:ve(s.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ve(s.onPointerDownCapture,y.onPointerDownCapture)})});so.displayName=FC;var WC="DismissableLayerBranch",VC=o.forwardRef((s,t)=>{const a=o.useContext(pN),n=o.useRef(null),r=Oe(t,n);return o.useEffect(()=>{const l=n.current;if(l)return a.branches.add(l),()=>{a.branches.delete(l)}},[a.branches]),e.jsx(ye.div,{...s,ref:r})});VC.displayName=WC;function UC(s,t=globalThis==null?void 0:globalThis.document){const a=nt(s),n=o.useRef(!1),r=o.useRef(()=>{});return o.useEffect(()=>{const l=c=>{if(c.target&&!n.current){let d=function(){jN($C,a,m,{discrete:!0})};const m={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=d,t.addEventListener("click",r.current,{once:!0})):d()}else t.removeEventListener("click",r.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",l),t.removeEventListener("click",r.current)}},[t,a]),{onPointerDownCapture:()=>n.current=!0}}function qC(s,t=globalThis==null?void 0:globalThis.document){const a=nt(s),n=o.useRef(!1);return o.useEffect(()=>{const r=l=>{l.target&&!n.current&&jN(BC,a,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,a]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function hp(){const s=new CustomEvent(Tx);document.dispatchEvent(s)}function jN(s,t,a,{discrete:n}){const r=a.originalEvent.target,l=new CustomEvent(s,{bubbles:!1,cancelable:!0,detail:a});t&&r.addEventListener(s,t,{once:!0}),n?LC(r,l):r.dispatchEvent(l)}var dm="focusScope.autoFocusOnMount",om="focusScope.autoFocusOnUnmount",fp={bubbles:!1,cancelable:!0},HC="FocusScope",to=o.forwardRef((s,t)=>{const{loop:a=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:l,...i}=s,[c,d]=o.useState(null),m=nt(r),u=nt(l),h=o.useRef(null),p=Oe(t,N=>d(N)),g=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(n){let N=function(w){if(g.paused||!c)return;const D=w.target;c.contains(D)?h.current=D:fn(h.current,{select:!0})},j=function(w){if(g.paused||!c)return;const D=w.relatedTarget;D!==null&&(c.contains(D)||fn(h.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const y of w)y.removedNodes.length>0&&fn(c)};document.addEventListener("focusin",N),document.addEventListener("focusout",j);const f=new MutationObserver(x);return c&&f.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",j),f.disconnect()}}},[n,c,g.paused]),o.useEffect(()=>{if(c){jp.add(g);const N=document.activeElement;if(!c.contains(N)){const x=new CustomEvent(dm,fp);c.addEventListener(dm,m),c.dispatchEvent(x),x.defaultPrevented||(GC(ZC(gN(c)),{select:!0}),document.activeElement===N&&fn(c))}return()=>{c.removeEventListener(dm,m),setTimeout(()=>{const x=new CustomEvent(om,fp);c.addEventListener(om,u),c.dispatchEvent(x),x.defaultPrevented||fn(N??document.body,{select:!0}),c.removeEventListener(om,u),jp.remove(g)},0)}}},[c,m,u,g]);const b=o.useCallback(N=>{if(!a&&!n||g.paused)return;const j=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,x=document.activeElement;if(j&&x){const f=N.currentTarget,[w,D]=YC(f);w&&D?!N.shiftKey&&x===D?(N.preventDefault(),a&&fn(w,{select:!0})):N.shiftKey&&x===w&&(N.preventDefault(),a&&fn(D,{select:!0})):x===f&&N.preventDefault()}},[a,n,g.paused]);return e.jsx(ye.div,{tabIndex:-1,...i,ref:p,onKeyDown:b})});to.displayName=HC;function GC(s,{select:t=!1}={}){const a=document.activeElement;for(const n of s)if(fn(n,{select:t}),document.activeElement!==a)return}function YC(s){const t=gN(s),a=pp(t,s),n=pp(t.reverse(),s);return[a,n]}function gN(s){const t=[],a=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)t.push(a.currentNode);return t}function pp(s,t){for(const a of s)if(!KC(a,{upTo:t}))return a}function KC(s,{upTo:t}){if(getComputedStyle(s).visibility==="hidden")return!0;for(;s;){if(t!==void 0&&s===t)return!1;if(getComputedStyle(s).display==="none")return!0;s=s.parentElement}return!1}function QC(s){return s instanceof HTMLInputElement&&"select"in s}function fn(s,{select:t=!1}={}){if(s&&s.focus){const a=document.activeElement;s.focus({preventScroll:!0}),s!==a&&QC(s)&&t&&s.select()}}var jp=XC();function XC(){let s=[];return{add(t){const a=s[0];t!==a&&(a==null||a.pause()),s=gp(s,t),s.unshift(t)},remove(t){var a;s=gp(s,t),(a=s[0])==null||a.resume()}}}function gp(s,t){const a=[...s],n=a.indexOf(t);return n!==-1&&a.splice(n,1),a}function ZC(s){return s.filter(t=>t.tagName!=="A")}var JC="Portal",ao=o.forwardRef((s,t)=>{var c;const{container:a,...n}=s,[r,l]=o.useState(!1);Is(()=>l(!0),[]);const i=a||r&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return i?$S.createPortal(e.jsx(ye.div,{...n,ref:t}),i):null});ao.displayName=JC;function ek(s,t){return o.useReducer((a,n)=>t[a][n]??a,s)}var Bt=s=>{const{present:t,children:a}=s,n=sk(t),r=typeof a=="function"?a({present:n.isPresent}):o.Children.only(a),l=Oe(n.ref,tk(r));return typeof a=="function"||n.isPresent?o.cloneElement(r,{ref:l}):null};Bt.displayName="Presence";function sk(s){const[t,a]=o.useState(),n=o.useRef(null),r=o.useRef(s),l=o.useRef("none"),i=s?"mounted":"unmounted",[c,d]=ek(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const m=wc(n.current);l.current=c==="mounted"?m:"none"},[c]),Is(()=>{const m=n.current,u=r.current;if(u!==s){const p=l.current,g=wc(m);s?d("MOUNT"):g==="none"||(m==null?void 0:m.display)==="none"?d("UNMOUNT"):d(u&&p!==g?"ANIMATION_OUT":"UNMOUNT"),r.current=s}},[s,d]),Is(()=>{if(t){let m;const u=t.ownerDocument.defaultView??window,h=g=>{const N=wc(n.current).includes(g.animationName);if(g.target===t&&N&&(d("ANIMATION_END"),!r.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",m=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},p=g=>{g.target===t&&(l.current=wc(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(m),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:o.useCallback(m=>{n.current=m?getComputedStyle(m):null,a(m)},[])}}function wc(s){return(s==null?void 0:s.animationName)||"none"}function tk(s){var n,r;let t=(n=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:n.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?s.ref:(t=(r=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:r.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?s.props.ref:s.props.ref||s.ref)}var mm=0;function Zu(){o.useEffect(()=>{const s=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",s[0]??vp()),document.body.insertAdjacentElement("beforeend",s[1]??vp()),mm++,()=>{mm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),mm--}},[])}function vp(){const s=document.createElement("span");return s.setAttribute("data-radix-focus-guard",""),s.tabIndex=0,s.style.outline="none",s.style.opacity="0",s.style.position="fixed",s.style.pointerEvents="none",s}var Na=function(){return Na=Object.assign||function(t){for(var a,n=1,r=arguments.length;n<r;n++){a=arguments[n];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},Na.apply(this,arguments)};function vN(s,t){var a={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(a[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(a[n[r]]=s[n[r]]);return a}function ak(s,t,a){if(a||arguments.length===2)for(var n=0,r=t.length,l;n<r;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return s.concat(l||Array.prototype.slice.call(t))}var Hc="right-scroll-bar-position",Gc="width-before-scroll-bar",nk="with-scroll-bars-hidden",rk="--removed-body-scroll-bar-size";function xm(s,t){return typeof s=="function"?s(t):s&&(s.current=t),s}function lk(s,t){var a=o.useState(function(){return{value:s,callback:t,facade:{get current(){return a.value},set current(n){var r=a.value;r!==n&&(a.value=n,a.callback(n,r))}}}})[0];return a.callback=t,a.facade}var ik=typeof window<"u"?o.useLayoutEffect:o.useEffect,Np=new WeakMap;function ck(s,t){var a=lk(null,function(n){return s.forEach(function(r){return xm(r,n)})});return ik(function(){var n=Np.get(a);if(n){var r=new Set(n),l=new Set(s),i=a.current;r.forEach(function(c){l.has(c)||xm(c,null)}),l.forEach(function(c){r.has(c)||xm(c,i)})}Np.set(a,s)},[s]),a}function dk(s){return s}function ok(s,t){t===void 0&&(t=dk);var a=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:s},useMedium:function(l){var i=t(l,n);return a.push(i),function(){a=a.filter(function(c){return c!==i})}},assignSyncMedium:function(l){for(n=!0;a.length;){var i=a;a=[],i.forEach(l)}a={push:function(c){return l(c)},filter:function(){return a}}},assignMedium:function(l){n=!0;var i=[];if(a.length){var c=a;a=[],c.forEach(l),i=a}var d=function(){var u=i;i=[],u.forEach(l)},m=function(){return Promise.resolve().then(d)};m(),a={push:function(u){i.push(u),m()},filter:function(u){return i=i.filter(u),a}}}};return r}function mk(s){s===void 0&&(s={});var t=ok(null);return t.options=Na({async:!0,ssr:!1},s),t}var NN=function(s){var t=s.sideCar,a=vN(s,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return o.createElement(n,Na({},a))};NN.isSideCarExport=!0;function xk(s,t){return s.useMedium(t),NN}var yN=mk(),um=function(){},no=o.forwardRef(function(s,t){var a=o.useRef(null),n=o.useState({onScrollCapture:um,onWheelCapture:um,onTouchMoveCapture:um}),r=n[0],l=n[1],i=s.forwardProps,c=s.children,d=s.className,m=s.removeScrollBar,u=s.enabled,h=s.shards,p=s.sideCar,g=s.noRelative,b=s.noIsolation,N=s.inert,j=s.allowPinchZoom,x=s.as,f=x===void 0?"div":x,w=s.gapMode,D=vN(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),y=p,T=ck([a,t]),v=Na(Na({},D),r);return o.createElement(o.Fragment,null,u&&o.createElement(y,{sideCar:yN,removeScrollBar:m,shards:h,noRelative:g,noIsolation:b,inert:N,setCallbacks:l,allowPinchZoom:!!j,lockRef:a,gapMode:w}),i?o.cloneElement(o.Children.only(c),Na(Na({},v),{ref:T})):o.createElement(f,Na({},v,{className:d,ref:T}),c))});no.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};no.classNames={fullWidth:Gc,zeroRight:Hc};var uk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hk(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var t=uk();return t&&s.setAttribute("nonce",t),s}function fk(s,t){s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}function pk(s){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(s)}var jk=function(){var s=0,t=null;return{add:function(a){s==0&&(t=hk())&&(fk(t,a),pk(t)),s++},remove:function(){s--,!s&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},gk=function(){var s=jk();return function(t,a){o.useEffect(function(){return s.add(t),function(){s.remove()}},[t&&a])}},wN=function(){var s=gk(),t=function(a){var n=a.styles,r=a.dynamic;return s(n,r),null};return t},vk={left:0,top:0,right:0,gap:0},hm=function(s){return parseInt(s||"",10)||0},Nk=function(s){var t=window.getComputedStyle(document.body),a=t[s==="padding"?"paddingLeft":"marginLeft"],n=t[s==="padding"?"paddingTop":"marginTop"],r=t[s==="padding"?"paddingRight":"marginRight"];return[hm(a),hm(n),hm(r)]},yk=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return vk;var t=Nk(s),a=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-a+t[2]-t[0])}},wk=wN(),el="data-scroll-locked",bk=function(s,t,a,n){var r=s.left,l=s.top,i=s.right,c=s.gap;return a===void 0&&(a="margin"),`
  .`.concat(nk,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(el,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),a==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),a==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hc,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Gc,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Hc," .").concat(Hc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Gc," .").concat(Gc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(el,`] {
    `).concat(rk,": ").concat(c,`px;
  }
`)},yp=function(){var s=parseInt(document.body.getAttribute(el)||"0",10);return isFinite(s)?s:0},Sk=function(){o.useEffect(function(){return document.body.setAttribute(el,(yp()+1).toString()),function(){var s=yp()-1;s<=0?document.body.removeAttribute(el):document.body.setAttribute(el,s.toString())}},[])},Ck=function(s){var t=s.noRelative,a=s.noImportant,n=s.gapMode,r=n===void 0?"margin":n;Sk();var l=o.useMemo(function(){return yk(r)},[r]);return o.createElement(wk,{styles:bk(l,!t,r,a?"":"!important")})},Dx=!1;if(typeof window<"u")try{var bc=Object.defineProperty({},"passive",{get:function(){return Dx=!0,!0}});window.addEventListener("test",bc,bc),window.removeEventListener("test",bc,bc)}catch{Dx=!1}var Mr=Dx?{passive:!1}:!1,kk=function(s){return s.tagName==="TEXTAREA"},bN=function(s,t){if(!(s instanceof Element))return!1;var a=window.getComputedStyle(s);return a[t]!=="hidden"&&!(a.overflowY===a.overflowX&&!kk(s)&&a[t]==="visible")},Mk=function(s){return bN(s,"overflowY")},Pk=function(s){return bN(s,"overflowX")},wp=function(s,t){var a=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=SN(s,n);if(r){var l=CN(s,n),i=l[1],c=l[2];if(i>c)return!0}n=n.parentNode}while(n&&n!==a.body);return!1},Tk=function(s){var t=s.scrollTop,a=s.scrollHeight,n=s.clientHeight;return[t,a,n]},Dk=function(s){var t=s.scrollLeft,a=s.scrollWidth,n=s.clientWidth;return[t,a,n]},SN=function(s,t){return s==="v"?Mk(t):Pk(t)},CN=function(s,t){return s==="v"?Tk(t):Dk(t)},Rk=function(s,t){return s==="h"&&t==="rtl"?-1:1},Ek=function(s,t,a,n,r){var l=Rk(s,window.getComputedStyle(t).direction),i=l*n,c=a.target,d=t.contains(c),m=!1,u=i>0,h=0,p=0;do{if(!c)break;var g=CN(s,c),b=g[0],N=g[1],j=g[2],x=N-j-l*b;(b||x)&&SN(s,c)&&(h+=x,p+=b);var f=c.parentNode;c=f&&f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?f.host:f}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(u&&Math.abs(h)<1||!u&&Math.abs(p)<1)&&(m=!0),m},Sc=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},bp=function(s){return[s.deltaX,s.deltaY]},Sp=function(s){return s&&"current"in s?s.current:s},Ak=function(s,t){return s[0]===t[0]&&s[1]===t[1]},Ik=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},Ok=0,Pr=[];function _k(s){var t=o.useRef([]),a=o.useRef([0,0]),n=o.useRef(),r=o.useState(Ok++)[0],l=o.useState(wN)[0],i=o.useRef(s);o.useEffect(function(){i.current=s},[s]),o.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(r));var N=ak([s.lockRef.current],(s.shards||[]).map(Sp),!0).filter(Boolean);return N.forEach(function(j){return j.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),N.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(r))})}}},[s.inert,s.lockRef.current,s.shards]);var c=o.useCallback(function(N,j){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!i.current.allowPinchZoom;var x=Sc(N),f=a.current,w="deltaX"in N?N.deltaX:f[0]-x[0],D="deltaY"in N?N.deltaY:f[1]-x[1],y,T=N.target,v=Math.abs(w)>Math.abs(D)?"h":"v";if("touches"in N&&v==="h"&&T.type==="range")return!1;var P=wp(v,T);if(!P)return!0;if(P?y=v:(y=v==="v"?"h":"v",P=wp(v,T)),!P)return!1;if(!n.current&&"changedTouches"in N&&(w||D)&&(n.current=y),!y)return!0;var k=n.current||y;return Ek(k,j,N,k==="h"?w:D)},[]),d=o.useCallback(function(N){var j=N;if(!(!Pr.length||Pr[Pr.length-1]!==l)){var x="deltaY"in j?bp(j):Sc(j),f=t.current.filter(function(y){return y.name===j.type&&(y.target===j.target||j.target===y.shadowParent)&&Ak(y.delta,x)})[0];if(f&&f.should){j.cancelable&&j.preventDefault();return}if(!f){var w=(i.current.shards||[]).map(Sp).filter(Boolean).filter(function(y){return y.contains(j.target)}),D=w.length>0?c(j,w[0]):!i.current.noIsolation;D&&j.cancelable&&j.preventDefault()}}},[]),m=o.useCallback(function(N,j,x,f){var w={name:N,delta:j,target:x,should:f,shadowParent:Lk(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(D){return D!==w})},1)},[]),u=o.useCallback(function(N){a.current=Sc(N),n.current=void 0},[]),h=o.useCallback(function(N){m(N.type,bp(N),N.target,c(N,s.lockRef.current))},[]),p=o.useCallback(function(N){m(N.type,Sc(N),N.target,c(N,s.lockRef.current))},[]);o.useEffect(function(){return Pr.push(l),s.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",d,Mr),document.addEventListener("touchmove",d,Mr),document.addEventListener("touchstart",u,Mr),function(){Pr=Pr.filter(function(N){return N!==l}),document.removeEventListener("wheel",d,Mr),document.removeEventListener("touchmove",d,Mr),document.removeEventListener("touchstart",u,Mr)}},[]);var g=s.removeScrollBar,b=s.inert;return o.createElement(o.Fragment,null,b?o.createElement(l,{styles:Ik(r)}):null,g?o.createElement(Ck,{noRelative:s.noRelative,gapMode:s.gapMode}):null)}function Lk(s){for(var t=null;s!==null;)s instanceof ShadowRoot&&(t=s.host,s=s.host),s=s.parentNode;return t}const zk=xk(yN,_k);var ro=o.forwardRef(function(s,t){return o.createElement(no,Na({},s,{ref:t,sideCar:zk}))});ro.classNames=no.classNames;var Fk=function(s){if(typeof document>"u")return null;var t=Array.isArray(s)?s[0]:s;return t.ownerDocument.body},Tr=new WeakMap,Cc=new WeakMap,kc={},fm=0,kN=function(s){return s&&(s.host||kN(s.parentNode))},$k=function(s,t){return t.map(function(a){if(s.contains(a))return a;var n=kN(a);return n&&s.contains(n)?n:(console.error("aria-hidden",a,"in not contained inside",s,". Doing nothing"),null)}).filter(function(a){return!!a})},Bk=function(s,t,a,n){var r=$k(t,Array.isArray(s)?s:[s]);kc[a]||(kc[a]=new WeakMap);var l=kc[a],i=[],c=new Set,d=new Set(r),m=function(h){!h||c.has(h)||(c.add(h),m(h.parentNode))};r.forEach(m);var u=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(p){if(c.has(p))u(p);else try{var g=p.getAttribute(n),b=g!==null&&g!=="false",N=(Tr.get(p)||0)+1,j=(l.get(p)||0)+1;Tr.set(p,N),l.set(p,j),i.push(p),N===1&&b&&Cc.set(p,!0),j===1&&p.setAttribute(a,"true"),b||p.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return u(t),c.clear(),fm++,function(){i.forEach(function(h){var p=Tr.get(h)-1,g=l.get(h)-1;Tr.set(h,p),l.set(h,g),p||(Cc.has(h)||h.removeAttribute(n),Cc.delete(h)),g||h.removeAttribute(a)}),fm--,fm||(Tr=new WeakMap,Tr=new WeakMap,Cc=new WeakMap,kc={})}},Ju=function(s,t,a){a===void 0&&(a="data-aria-hidden");var n=Array.from(Array.isArray(s)?s:[s]),r=Fk(s);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live], script"))),Bk(n,r,a,"aria-hidden")):function(){return null}},lo="Dialog",[MN,EA]=Ct(lo),[Wk,ha]=MN(lo),PN=s=>{const{__scopeDialog:t,children:a,open:n,defaultOpen:r,onOpenChange:l,modal:i=!0}=s,c=o.useRef(null),d=o.useRef(null),[m,u]=Da({prop:n,defaultProp:r??!1,onChange:l,caller:lo});return e.jsx(Wk,{scope:t,triggerRef:c,contentRef:d,contentId:Ka(),titleId:Ka(),descriptionId:Ka(),open:m,onOpenChange:u,onOpenToggle:o.useCallback(()=>u(h=>!h),[u]),modal:i,children:a})};PN.displayName=lo;var TN="DialogTrigger",DN=o.forwardRef((s,t)=>{const{__scopeDialog:a,...n}=s,r=ha(TN,a),l=Oe(t,r.triggerRef);return e.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":th(r.open),...n,ref:l,onClick:ve(s.onClick,r.onOpenToggle)})});DN.displayName=TN;var eh="DialogPortal",[Vk,RN]=MN(eh,{forceMount:void 0}),EN=s=>{const{__scopeDialog:t,forceMount:a,children:n,container:r}=s,l=ha(eh,t);return e.jsx(Vk,{scope:t,forceMount:a,children:o.Children.map(n,i=>e.jsx(Bt,{present:a||l.open,children:e.jsx(ao,{asChild:!0,container:r,children:i})}))})};EN.displayName=eh;var wd="DialogOverlay",AN=o.forwardRef((s,t)=>{const a=RN(wd,s.__scopeDialog),{forceMount:n=a.forceMount,...r}=s,l=ha(wd,s.__scopeDialog);return l.modal?e.jsx(Bt,{present:n||l.open,children:e.jsx(qk,{...r,ref:t})}):null});AN.displayName=wd;var Uk=pr("DialogOverlay.RemoveScroll"),qk=o.forwardRef((s,t)=>{const{__scopeDialog:a,...n}=s,r=ha(wd,a);return e.jsx(ro,{as:Uk,allowPinchZoom:!0,shards:[r.contentRef],children:e.jsx(ye.div,{"data-state":th(r.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),jr="DialogContent",IN=o.forwardRef((s,t)=>{const a=RN(jr,s.__scopeDialog),{forceMount:n=a.forceMount,...r}=s,l=ha(jr,s.__scopeDialog);return e.jsx(Bt,{present:n||l.open,children:l.modal?e.jsx(Hk,{...r,ref:t}):e.jsx(Gk,{...r,ref:t})})});IN.displayName=jr;var Hk=o.forwardRef((s,t)=>{const a=ha(jr,s.__scopeDialog),n=o.useRef(null),r=Oe(t,a.contentRef,n);return o.useEffect(()=>{const l=n.current;if(l)return Ju(l)},[]),e.jsx(ON,{...s,ref:r,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(s.onCloseAutoFocus,l=>{var i;l.preventDefault(),(i=a.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ve(s.onPointerDownOutside,l=>{const i=l.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&l.preventDefault()}),onFocusOutside:ve(s.onFocusOutside,l=>l.preventDefault())})}),Gk=o.forwardRef((s,t)=>{const a=ha(jr,s.__scopeDialog),n=o.useRef(!1),r=o.useRef(!1);return e.jsx(ON,{...s,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var i,c;(i=s.onCloseAutoFocus)==null||i.call(s,l),l.defaultPrevented||(n.current||(c=a.triggerRef.current)==null||c.focus(),l.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:l=>{var d,m;(d=s.onInteractOutside)==null||d.call(s,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const i=l.target;((m=a.triggerRef.current)==null?void 0:m.contains(i))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&r.current&&l.preventDefault()}})}),ON=o.forwardRef((s,t)=>{const{__scopeDialog:a,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:l,...i}=s,c=ha(jr,a),d=o.useRef(null),m=Oe(t,d);return Zu(),e.jsxs(e.Fragment,{children:[e.jsx(to,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:l,children:e.jsx(so,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":th(c.open),...i,ref:m,onDismiss:()=>c.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Yk,{titleId:c.titleId}),e.jsx(Qk,{contentRef:d,descriptionId:c.descriptionId})]})]})}),sh="DialogTitle",_N=o.forwardRef((s,t)=>{const{__scopeDialog:a,...n}=s,r=ha(sh,a);return e.jsx(ye.h2,{id:r.titleId,...n,ref:t})});_N.displayName=sh;var LN="DialogDescription",zN=o.forwardRef((s,t)=>{const{__scopeDialog:a,...n}=s,r=ha(LN,a);return e.jsx(ye.p,{id:r.descriptionId,...n,ref:t})});zN.displayName=LN;var FN="DialogClose",$N=o.forwardRef((s,t)=>{const{__scopeDialog:a,...n}=s,r=ha(FN,a);return e.jsx(ye.button,{type:"button",...n,ref:t,onClick:ve(s.onClick,()=>r.onOpenChange(!1))})});$N.displayName=FN;function th(s){return s?"open":"closed"}var BN="DialogTitleWarning",[AA,WN]=TC(BN,{contentName:jr,titleName:sh,docsSlug:"dialog"}),Yk=({titleId:s})=>{const t=WN(BN),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return o.useEffect(()=>{s&&(document.getElementById(s)||console.error(a))},[a,s]),null},Kk="DialogDescriptionWarning",Qk=({contentRef:s,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${WN(Kk).contentName}}.`;return o.useEffect(()=>{var l;const r=(l=s.current)==null?void 0:l.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,s,t]),null},Xk=PN,Zk=DN,Jk=EN,VN=AN,UN=IN,qN=_N,HN=zN,e3=$N;/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GN=(...s)=>s.filter((t,a,n)=>!!t&&n.indexOf(t)===a).join(" ");/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var t3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=o.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:r="",children:l,iconNode:i,...c},d)=>o.createElement("svg",{ref:d,...t3,width:t,height:t,stroke:s,strokeWidth:n?Number(a)*24/Number(t):a,className:GN("lucide",r),...c},[...i.map(([m,u])=>o.createElement(m,u)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=(s,t)=>{const a=o.forwardRef(({className:n,...r},l)=>o.createElement(a3,{ref:l,iconNode:t,className:GN(`lucide-${s3(s)}`,n),...r}));return a.displayName=`${s}`,a};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=K("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=K("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=K("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=K("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=K("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=K("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=K("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=K("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=K("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=K("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=K("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=K("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=K("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=K("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=K("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=K("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=K("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=K("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=K("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=K("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=K("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=K("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=K("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=K("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=K("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=K("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=K("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=K("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=K("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=K("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=K("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=K("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=K("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=K("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=K("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=K("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=K("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=K("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=K("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=K("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=K("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=K("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=K("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=K("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=K("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=K("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=K("Ear",[["path",{d:"M6 8.5a6.5 6.5 0 1 1 13 0c0 6-6 6-6 10a3.5 3.5 0 1 1-7 0",key:"1dfaln"}],["path",{d:"M15 8.5a2.5 2.5 0 0 0-5 0v1a2 2 0 1 1 0 4",key:"1qnva7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=K("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=K("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=K("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=K("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=K("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=K("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=K("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=K("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=K("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=K("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=K("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=K("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=K("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=K("FolderArchive",[["circle",{cx:"15",cy:"19",r:"2",key:"u2pros"}],["path",{d:"M20.9 19.8A2 2 0 0 0 22 18V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h5.1",key:"1jj40k"}],["path",{d:"M15 11v-1",key:"cntcp"}],["path",{d:"M15 17v-2",key:"1279jj"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=K("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=K("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=K("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=K("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=K("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=K("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=K("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=K("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=K("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=K("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=K("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=K("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=K("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=K("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=K("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=K("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=K("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=K("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=K("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=K("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=K("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=K("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=K("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=K("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=K("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=K("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=K("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=K("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=K("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=K("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=K("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=K("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=K("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=K("MemoryStick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=K("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=K("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=K("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=K("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=K("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=K("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=K("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=K("MonitorOff",[["path",{d:"M17 17H4a2 2 0 0 1-2-2V5c0-1.5 1-2 1-2",key:"k0q8oc"}],["path",{d:"M22 15V5a2 2 0 0 0-2-2H9",key:"cp1ac0"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=K("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=K("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=K("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=K("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=K("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=K("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=K("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=K("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=K("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=K("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=K("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=K("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=K("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=K("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=K("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=K("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=K("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=K("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=K("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=K("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=K("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=K("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=K("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=K("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=K("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=K("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=K("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=K("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=K("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=K("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=K("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=K("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=K("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=K("SquareKanban",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=K("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=K("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=K("StarHalf",[["path",{d:"M12 17.8 5.8 21 7 14.1 2 9.3l7-1L12 2",key:"nare05"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=K("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=K("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=K("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=K("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=K("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=K("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=K("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=K("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=K("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=K("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=K("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=K("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=K("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=K("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=K("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=K("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=K("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=K("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=K("UserSearch",[["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}],["path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2",key:"3bnktk"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=K("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=K("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=K("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=K("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=K("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=K("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=K("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=K("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=K("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=K("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=K("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=K("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),xh=Xk,uh=Zk,X3=Jk,jy=o.forwardRef(({className:s,...t},a)=>e.jsx(VN,{className:X("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t,ref:a}));jy.displayName=VN.displayName;const Z3=eo("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),uo=o.forwardRef(({side:s="right",className:t,children:a,...n},r)=>e.jsxs(X3,{children:[e.jsx(jy,{}),e.jsxs(UN,{ref:r,className:X(Z3({side:s}),t),...n,children:[a,e.jsxs(e3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(Lt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));uo.displayName=UN.displayName;const J3=o.forwardRef(({className:s,...t},a)=>e.jsx(qN,{ref:a,className:X("text-lg font-semibold text-foreground",s),...t}));J3.displayName=qN.displayName;const e6=o.forwardRef(({className:s,...t},a)=>e.jsx(HN,{ref:a,className:X("text-sm text-muted-foreground",s),...t}));e6.displayName=HN.displayName;const Pe=()=>{const{user:s,logout:t}=rs();return e.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs(be,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center",children:e.jsx(Es,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-xl font-semibold text-gray-900",children:"科研实验班管理平台"})]})}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[e.jsx(be,{to:"/",className:"text-gray-700 hover:text-primary transition-colors",children:"首页"}),e.jsxs("div",{className:"relative group",children:[e.jsx("span",{className:"text-gray-700 hover:text-primary transition-colors cursor-pointer",children:"实验室轮转"}),e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[e.jsx(be,{to:"/lab-rotation/preparation/course-publish",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"前期筹备阶段"}),e.jsx(be,{to:"/lab-rotation/matching/student-preference",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"双选匹配阶段"}),e.jsx(be,{to:"/lab-rotation/management/task-publishing",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"过程管理阶段"}),e.jsx(be,{to:"/lab-rotation/verification/poster-designer",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"成果验收阶段"}),e.jsx(be,{to:"/lab-rotation/grading/multidimensional-scoring",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"成绩评定阶段"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("span",{className:"text-gray-700 hover:text-primary transition-colors cursor-pointer",children:"综合素质评价"}),e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[e.jsx(be,{to:"/quality-assessment/preparation/evaluation-plan-publishing",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"评价准备阶段"}),e.jsx(be,{to:"/quality-assessment/collection/information-collection-form",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"信息采集阶段"}),e.jsx(be,{to:"/quality-assessment/evaluation/dimensional-scoring",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"多维度评价阶段"}),e.jsx(be,{to:"/quality-assessment/calculation/automatic-calculation-engine",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"综合核算阶段"}),e.jsx(be,{to:"/quality-assessment/application/grade-announcement",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"结果应用阶段"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("span",{className:"text-gray-700 hover:text-primary transition-colors cursor-pointer",children:"数据中心"}),e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[e.jsx(be,{to:"/data/data-analysis-center",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"数据分析中心"}),e.jsx(be,{to:"/data/realtime-data-dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"实时数据看板"}),e.jsx(be,{to:"/data/predictive-analytics",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"预测分析"}),e.jsx(be,{to:"/system/automatic-report-generator",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"报告生成"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("span",{className:"text-gray-700 hover:text-primary transition-colors cursor-pointer",children:"系统管理"}),e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[e.jsx(be,{to:"/admin/user-management",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"用户管理"}),e.jsx(be,{to:"/system/notification-center",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"通知中心"}),e.jsx(be,{to:"/system/batch-operations",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"批量操作"}),e.jsx(be,{to:"/ai/ai-teaching-assistant",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"AI助手"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[s?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[e.jsxs("div",{className:"text-sm text-right",children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-gray-500 text-xs",children:s.role==="student"?"学生":s.role==="professor"?"教师":"管理员"})]}),e.jsxs(S,{variant:"ghost",size:"sm",onClick:t,children:[e.jsx(ul,{className:"w-4 h-4 mr-2"}),"退出"]})]})}):e.jsx(be,{to:"/login",children:e.jsx(S,{size:"sm",children:"登录"})}),e.jsxs(xh,{children:[e.jsx(uh,{asChild:!0,children:e.jsx(S,{variant:"ghost",size:"sm",className:"md:hidden",children:e.jsx(ch,{className:"w-5 h-5"})})}),e.jsx(uo,{side:"right",className:"w-[300px] sm:w-[400px]",children:e.jsxs("nav",{className:"flex flex-col space-y-4 mt-6",children:[e.jsx(be,{to:"/",className:"text-lg font-medium text-gray-700 hover:text-primary transition-colors px-2 py-1",children:"首页"}),e.jsxs("div",{className:"px-2 py-1",children:[e.jsx("div",{className:"text-lg font-medium text-gray-700 mb-2",children:"实验室轮转"}),e.jsxs("div",{className:"ml-4 space-y-1",children:[e.jsx(be,{to:"/lab-rotation/preparation/course-publish",className:"block text-sm text-gray-600 hover:text-primary py-1",children:"前期筹备阶段"}),e.jsx(be,{to:"/lab-rotation/matching/student-preference",className:"block text-sm text-gray-600 hover:text-primary py-1",children:"双选匹配阶段"}),e.jsx(be,{to:"/lab-rotation/management/task-publishing",className:"block text-sm text-gray-600 hover:text-primary py-1",children:"过程管理阶段"}),e.jsx(be,{to:"/lab-rotation/verification/poster-designer",className:"block text-sm text-gray-600 hover:text-primary py-1",children:"成果验收阶段"}),e.jsx(be,{to:"/lab-rotation/grading/multidimensional-scoring",className:"block text-sm text-gray-600 hover:text-primary py-1",children:"成绩评定阶段"})]})]}),e.jsxs("div",{className:"px-2 py-1",children:[e.jsx("div",{className:"text-lg font-medium text-gray-700 mb-2",children:"综合素质评价"}),e.jsxs("div",{className:"ml-4 space-y-1",children:[e.jsx(be,{to:"/quality-assessment/preparation/evaluation-plan-publishing",className:"block text-sm text-gray-600 hover:text-primary py-1",children:"评价准备阶段"}),e.jsx(be,{to:"/quality-assessment/collection/information-collection-form",className:"block text-sm text-gray-600 hover:text-primary py-1",children:"信息采集阶段"}),e.jsx(be,{to:"/quality-assessment/evaluation/dimensional-scoring",className:"block text-sm text-gray-600 hover:text-primary py-1",children:"多维度评价阶段"}),e.jsx(be,{to:"/quality-assessment/calculation/automatic-calculation-engine",className:"block text-sm text-gray-600 hover:text-primary py-1",children:"综合核算阶段"}),e.jsx(be,{to:"/quality-assessment/application/grade-announcement",className:"block text-sm text-gray-600 hover:text-primary py-1",children:"结果应用阶段"})]})]}),e.jsxs("div",{className:"px-2 py-1",children:[e.jsx("div",{className:"text-lg font-medium text-gray-700 mb-2",children:"数据中心"}),e.jsxs("div",{className:"ml-4 space-y-1",children:[e.jsx(be,{to:"/data/data-analysis-center",className:"block text-sm text-gray-600 hover:text-primary py-1",children:"数据分析中心"}),e.jsx(be,{to:"/data/realtime-data-dashboard",className:"block text-sm text-gray-600 hover:text-primary py-1",children:"实时数据看板"}),e.jsx(be,{to:"/data/predictive-analytics",className:"block text-sm text-gray-600 hover:text-primary py-1",children:"预测分析"})]})]}),e.jsxs("div",{className:"px-2 py-1",children:[e.jsx("div",{className:"text-lg font-medium text-gray-700 mb-2",children:"系统管理"}),e.jsxs("div",{className:"ml-4 space-y-1",children:[e.jsx(be,{to:"/admin/user-management",className:"block text-sm text-gray-600 hover:text-primary py-1",children:"用户管理"}),e.jsx(be,{to:"/system/notification-center",className:"block text-sm text-gray-600 hover:text-primary py-1",children:"通知中心"}),e.jsx(be,{to:"/system/batch-operations",className:"block text-sm text-gray-600 hover:text-primary py-1",children:"批量操作"})]})]}),e.jsx("div",{className:"border-t pt-4 mt-4",children:s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-2 py-3 mb-3 bg-gray-50 rounded-md",children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.role==="student"?"学生":s.role==="professor"?"教师":"管理员"})]}),e.jsxs(S,{onClick:t,variant:"outline",className:"w-full",children:[e.jsx(ul,{className:"w-4 h-4 mr-2"}),"退出登录"]})]}):e.jsx(be,{to:"/login",className:"block",children:e.jsx(S,{variant:"outline",className:"w-full",children:"登录"})})})]})})]})]})]})})})},Te=()=>e.jsx("footer",{className:"bg-gray-50 border-t border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center",children:e.jsx(Es,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-xl font-semibold text-gray-900",children:"华中科技大学机械学院"})]}),e.jsx("p",{className:"text-gray-600 mb-4 max-w-md",children:"机械科学与工程学院本科科研实验班管理平台，为学生提供全方位的课程管理、实验室轮转和进度跟踪服务。"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(dr,{className:"w-4 h-4 mr-2"}),"湖北省武汉市洪山区珞喻路1037号"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(oo,{className:"w-4 h-4 mr-2"}),"027-87542417"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(hl,{className:"w-4 h-4 mr-2"}),"mse@hust.edu.cn"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-4",children:"平台功能"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(be,{to:"/courses",className:"text-gray-600 hover:text-primary transition-colors",children:"课程管理"})}),e.jsx("li",{children:e.jsx(be,{to:"/labs",className:"text-gray-600 hover:text-primary transition-colors",children:"实验室轮转"})}),e.jsx("li",{children:e.jsx(be,{to:"/progress",className:"text-gray-600 hover:text-primary transition-colors",children:"进度跟踪"})}),e.jsx("li",{children:e.jsx(be,{to:"/evaluation",className:"text-gray-600 hover:text-primary transition-colors",children:"综合评价"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-4",children:"帮助支持"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(be,{to:"/help",className:"text-gray-600 hover:text-primary transition-colors",children:"帮助中心"})}),e.jsx("li",{children:e.jsx(be,{to:"/documentation",className:"text-gray-600 hover:text-primary transition-colors",children:"使用文档"})}),e.jsx("li",{children:e.jsx(be,{to:"/contact",className:"text-gray-600 hover:text-primary transition-colors",children:"联系我们"})}),e.jsx("li",{children:e.jsx(be,{to:"/about",className:"text-gray-600 hover:text-primary transition-colors",children:"关于我们"})})]})]})]}),e.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"© 2024 华中科技大学机械科学与工程学院 版权所有"}),e.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[e.jsx("a",{href:"http://mse.hust.edu.cn",className:"text-gray-500 hover:text-primary text-sm transition-colors",target:"_blank",rel:"noopener noreferrer",children:"学院主页"}),e.jsx("a",{href:"http://www.hust.edu.cn",className:"text-gray-500 hover:text-primary text-sm transition-colors",target:"_blank",rel:"noopener noreferrer",children:"学校主页"})]})]})})]})}),R=o.forwardRef(({className:s,variant:t="default",...a},n)=>e.jsx("div",{ref:n,className:X("rounded-xl border bg-card text-card-foreground transition-all duration-300 ease-out",{"shadow-sm hover:shadow-md":t==="default","card-premium bg-card/80 backdrop-blur-sm border-border/50 shadow-lg hover:shadow-xl hover:shadow-colored/20 hover:border-primary/20 hover:-translate-y-1":t==="premium","card-glass bg-white/10 backdrop-blur-md border-white/20 shadow-xl hover:shadow-2xl hover:bg-white/15":t==="glass","card-neumorphic bg-background shadow-[8px_8px_16px_rgba(0,0,0,0.1),-8px_-8px_16px_rgba(255,255,255,0.8)] hover:shadow-[4px_4px_8px_rgba(0,0,0,0.15),-4px_-4px_8px_rgba(255,255,255,0.9)] dark:shadow-[8px_8px_16px_rgba(0,0,0,0.3),-8px_-8px_16px_rgba(255,255,255,0.02)] dark:hover:shadow-[4px_4px_8px_rgba(0,0,0,0.4),-4px_-4px_8px_rgba(255,255,255,0.04)]":t==="neumorphic","shadow-lg hover:shadow-xl hover:shadow-primary/10 border-primary/10 hover:border-primary/20":t==="elevated","border-2 border-gradient shadow-md hover:shadow-lg":t==="bordered"},s),...a}));R.displayName="Card";const O=o.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:X("flex flex-col space-y-1.5 p-6",s),...t}));O.displayName="CardHeader";const L=o.forwardRef(({className:s,...t},a)=>e.jsx("h3",{ref:a,className:X("text-2xl font-semibold leading-none tracking-tight",s),...t}));L.displayName="CardTitle";const ds=o.forwardRef(({className:s,...t},a)=>e.jsx("p",{ref:a,className:X("text-sm text-muted-foreground",s),...t}));ds.displayName="CardDescription";const E=o.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:X("p-6 pt-0",s),...t}));E.displayName="CardContent";const s6=o.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:X("flex items-center p-6 pt-0",s),...t}));s6.displayName="CardFooter";const Ap=()=>{const s=[{icon:Es,title:"课程管理",description:"本科科研实验班课程规划、排课和资源管理",color:"bg-blue-500"},{icon:El,title:"实验室轮转",description:"优化实验室轮转安排，提升科研体验",color:"bg-green-500"},{icon:xs,title:"进度跟踪",description:"实时监控学生学习进度和学术成就",color:"bg-purple-500"},{icon:Ax,title:"综合评价",description:"公平透明的综合素质评价系统",color:"bg-orange-500"}],t=[{title:"学生",description:"查看课程、跟踪进度、管理实验室轮转",icon:Gi,action:"学生入口"},{title:"教师",description:"管理课程、评价学生、监督科研活动",icon:He,action:"教师入口"},{title:"管理员",description:"系统管理和全局监督",icon:Ax,action:"管理入口"}],a=[{label:"在读学生",value:"120+"},{label:"合作实验室",value:"25"},{label:"指导教师",value:"45"},{label:"培养成功率",value:"98%"}];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Pe,{}),e.jsx("section",{className:"hero-section text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-24",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl md:text-3xl mb-2",children:"华中科技大学机械科学与工程学院"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"本科科研实验班管理平台"})]}),e.jsx("p",{className:"text-lg md:text-xl mb-8 max-w-2xl mx-auto opacity-90",children:"为机械学院科研实验班提供全方位的课程管理、实验室轮转和进度跟踪服务"}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e.jsx(be,{to:"/login",children:e.jsxs(S,{size:"lg",variant:"secondary",className:"text-primary",children:["立即登录",e.jsx(Ex,{className:"ml-2 h-4 w-4"})]})})})]})})}),e.jsx("section",{className:"py-16 bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:a.map((n,r)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold text-primary mb-2",children:n.value}),e.jsx("div",{className:"text-gray-600",children:n.label})]},r))})})}),e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"平台功能"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"专为科研实验班设计的综合管理工具"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:s.map((n,r)=>{const l=n.icon;return e.jsxs(R,{className:"text-center hover:shadow-lg transition-shadow duration-200",children:[e.jsxs(O,{children:[e.jsx("div",{className:"mx-auto mb-4",children:e.jsx("div",{className:`w-16 h-16 ${n.color} rounded-lg flex items-center justify-center`,children:e.jsx(l,{className:"w-8 h-8 text-white"})})}),e.jsx(L,{className:"text-xl mb-2",children:n.title})]}),e.jsx(E,{children:e.jsx(ds,{className:"text-base leading-relaxed",children:n.description})})]},r)})})]})}),e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"快速入口"}),e.jsx("p",{className:"text-lg text-gray-600",children:"选择您的身份进入对应系统"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map((n,r)=>{const l=n.icon;return e.jsxs(R,{className:"text-center hover:shadow-lg transition-all duration-200 hover:scale-105",children:[e.jsxs(O,{children:[e.jsx("div",{className:"mx-auto mb-4",children:e.jsx("div",{className:"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(l,{className:"w-10 h-10 text-primary"})})}),e.jsx(L,{className:"text-2xl mb-2",children:n.title}),e.jsx(ds,{className:"text-base mb-6",children:n.description})]}),e.jsx(E,{children:e.jsx(be,{to:"/login",children:e.jsxs(S,{className:"w-full",children:[n.action,e.jsx(Ex,{className:"ml-2 h-4 w-4"})]})})})]},r)})})]})}),e.jsx(Te,{})]})},se=o.forwardRef(({className:s,type:t,...a},n)=>e.jsx("input",{type:t,className:X("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:n,...a}));se.displayName="Input";var t6="Label",gy=o.forwardRef((s,t)=>e.jsx(ye.label,{...s,ref:t,onMouseDown:a=>{var r;a.target.closest("button, input, select, textarea")||((r=s.onMouseDown)==null||r.call(s,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));gy.displayName=t6;var vy=gy;const a6=eo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),H=o.forwardRef(({className:s,...t},a)=>e.jsx(vy,{ref:a,className:X(a6(),s),...t}));H.displayName=vy.displayName;function Ki(s){const t=o.useRef({value:s,previous:s});return o.useMemo(()=>(t.current.value!==s&&(t.current.previous=t.current.value,t.current.value=s),t.current.previous),[s])}function Qi(s){const[t,a]=o.useState(void 0);return Is(()=>{if(s){a({width:s.offsetWidth,height:s.offsetHeight});const n=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const l=r[0];let i,c;if("borderBoxSize"in l){const d=l.borderBoxSize,m=Array.isArray(d)?d[0]:d;i=m.inlineSize,c=m.blockSize}else i=s.offsetWidth,c=s.offsetHeight;a({width:i,height:c})});return n.observe(s,{box:"border-box"}),()=>n.unobserve(s)}else a(void 0)},[s]),t}var ho="Checkbox",[n6,IA]=Ct(ho),[r6,hh]=n6(ho);function l6(s){const{__scopeCheckbox:t,checked:a,children:n,defaultChecked:r,disabled:l,form:i,name:c,onCheckedChange:d,required:m,value:u="on",internal_do_not_use_render:h}=s,[p,g]=Da({prop:a,defaultProp:r??!1,onChange:d,caller:ho}),[b,N]=o.useState(null),[j,x]=o.useState(null),f=o.useRef(!1),w=b?!!i||!!b.closest("form"):!0,D={checked:p,disabled:l,setChecked:g,control:b,setControl:N,name:c,form:i,value:u,hasConsumerStoppedPropagationRef:f,required:m,defaultChecked:In(r)?!1:r,isFormControl:w,bubbleInput:j,setBubbleInput:x};return e.jsx(r6,{scope:t,...D,children:i6(h)?h(D):n})}var Ny="CheckboxTrigger",yy=o.forwardRef(({__scopeCheckbox:s,onKeyDown:t,onClick:a,...n},r)=>{const{control:l,value:i,disabled:c,checked:d,required:m,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:b}=hh(Ny,s),N=Oe(r,u),j=o.useRef(d);return o.useEffect(()=>{const x=l==null?void 0:l.form;if(x){const f=()=>h(j.current);return x.addEventListener("reset",f),()=>x.removeEventListener("reset",f)}},[l,h]),e.jsx(ye.button,{type:"button",role:"checkbox","aria-checked":In(d)?"mixed":d,"aria-required":m,"data-state":ky(d),"data-disabled":c?"":void 0,disabled:c,value:i,...n,ref:N,onKeyDown:ve(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:ve(a,x=>{h(f=>In(f)?!0:!f),b&&g&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});yy.displayName=Ny;var fh=o.forwardRef((s,t)=>{const{__scopeCheckbox:a,name:n,checked:r,defaultChecked:l,required:i,disabled:c,value:d,onCheckedChange:m,form:u,...h}=s;return e.jsx(l6,{__scopeCheckbox:a,checked:r,defaultChecked:l,disabled:c,required:i,onCheckedChange:m,name:n,form:u,value:d,internal_do_not_use_render:({isFormControl:p})=>e.jsxs(e.Fragment,{children:[e.jsx(yy,{...h,ref:t,__scopeCheckbox:a}),p&&e.jsx(Cy,{__scopeCheckbox:a})]})})});fh.displayName=ho;var wy="CheckboxIndicator",by=o.forwardRef((s,t)=>{const{__scopeCheckbox:a,forceMount:n,...r}=s,l=hh(wy,a);return e.jsx(Bt,{present:n||In(l.checked)||l.checked===!0,children:e.jsx(ye.span,{"data-state":ky(l.checked),"data-disabled":l.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...s.style}})})});by.displayName=wy;var Sy="CheckboxBubbleInput",Cy=o.forwardRef(({__scopeCheckbox:s,...t},a)=>{const{control:n,hasConsumerStoppedPropagationRef:r,checked:l,defaultChecked:i,required:c,disabled:d,name:m,value:u,form:h,bubbleInput:p,setBubbleInput:g}=hh(Sy,s),b=Oe(a,g),N=Ki(l),j=Qi(n);o.useEffect(()=>{const f=p;if(!f)return;const w=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(w,"checked").set,T=!r.current;if(N!==l&&y){const v=new Event("click",{bubbles:T});f.indeterminate=In(l),y.call(f,In(l)?!1:l),f.dispatchEvent(v)}},[p,N,l,r]);const x=o.useRef(In(l)?!1:l);return e.jsx(ye.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??x.current,required:c,disabled:d,name:m,value:u,form:h,...t,tabIndex:-1,ref:b,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Cy.displayName=Sy;function i6(s){return typeof s=="function"}function In(s){return s==="indeterminate"}function ky(s){return In(s)?"indeterminate":s?"checked":"unchecked"}const Ae=o.forwardRef(({className:s,...t},a)=>e.jsx(fh,{ref:a,className:X("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:e.jsx(by,{className:X("flex items-center justify-center text-current"),children:e.jsx(Dl,{className:"h-4 w-4"})})}));Ae.displayName=fh.displayName;const c6=()=>{const[s,t]=o.useState({email:"",password:"",rememberMe:!1}),[a,n]=o.useState(!1),[r,l]=o.useState(!1),[i,c]=o.useState(""),d=Qe(),{login:m}=rs(),u=async p=>{p.preventDefault(),l(!0),c("");try{await m(s.email,s.password)?d("/dashboard"):c("邮箱或密码错误，请重试。")}catch{c("登录失败，请重试。")}finally{l(!1)}},h=p=>{const{name:g,value:b}=p.target;t(N=>({...N,[g]:b}))};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-primary rounded-lg flex items-center justify-center",children:e.jsx(Es,{className:"w-7 h-7 text-white"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"科研实验班管理平台"}),e.jsx("p",{className:"text-gray-600",children:"华中科技大学机械科学与工程学院"})]}),e.jsxs(R,{className:"shadow-lg border-0",children:[e.jsxs(O,{className:"space-y-1 pb-6",children:[e.jsx(L,{className:"text-2xl font-semibold text-center",children:"欢迎登录"}),e.jsx(ds,{className:"text-center",children:"请输入您的账号信息"})]}),e.jsxs(E,{children:[i&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:i}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"email",children:"邮箱/学号"}),e.jsx(se,{id:"email",name:"email",type:"email",placeholder:"请输入邮箱或学号",value:s.email,onChange:h,required:!0,className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"password",children:"密码"}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{id:"password",name:"password",type:a?"text":"password",placeholder:"请输入密码",value:s.password,onChange:h,required:!0,className:"h-11 pr-10"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!a),children:a?e.jsx(sl,{className:"h-4 w-4 text-gray-400"}):e.jsx(Le,{className:"h-4 w-4 text-gray-400"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"rememberMe",checked:s.rememberMe,onCheckedChange:p=>t(g=>({...g,rememberMe:p}))}),e.jsx(H,{htmlFor:"rememberMe",className:"text-sm text-gray-600 cursor-pointer",children:"记住我"})]}),e.jsx(be,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/80 transition-colors",children:"忘记密码？"})]}),e.jsx(S,{type:"submit",className:"w-full h-11 text-base",disabled:r,children:r?"登录中...":"登录"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"还没有账号？"})})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(be,{to:"/register",className:"text-primary hover:text-primary/80 transition-colors font-medium",children:"联系管理员注册"})})]})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["© 2024 华中科技大学机械科学与工程学院",e.jsx("br",{}),"技术支持：科研实验班信息化小组"]})})]})})};function Li(s,[t,a]){return Math.min(a,Math.max(t,s))}function ph(s){const t=s+"CollectionProvider",[a,n]=Ct(t),[r,l]=a(t,{collectionRef:{current:null},itemMap:new Map}),i=N=>{const{scope:j,children:x}=N,f=he.useRef(null),w=he.useRef(new Map).current;return e.jsx(r,{scope:j,itemMap:w,collectionRef:f,children:x})};i.displayName=t;const c=s+"CollectionSlot",d=pr(c),m=he.forwardRef((N,j)=>{const{scope:x,children:f}=N,w=l(c,x),D=Oe(j,w.collectionRef);return e.jsx(d,{ref:D,children:f})});m.displayName=c;const u=s+"CollectionItemSlot",h="data-radix-collection-item",p=pr(u),g=he.forwardRef((N,j)=>{const{scope:x,children:f,...w}=N,D=he.useRef(null),y=Oe(j,D),T=l(u,x);return he.useEffect(()=>(T.itemMap.set(D,{ref:D,...w}),()=>void T.itemMap.delete(D))),e.jsx(p,{[h]:"",ref:y,children:f})});g.displayName=u;function b(N){const j=l(s+"CollectionConsumer",N);return he.useCallback(()=>{const f=j.collectionRef.current;if(!f)return[];const w=Array.from(f.querySelectorAll(`[${h}]`));return Array.from(j.itemMap.values()).sort((T,v)=>w.indexOf(T.ref.current)-w.indexOf(v.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:i,Slot:m,ItemSlot:g},b,n]}var d6=o.createContext(void 0);function Al(s){const t=o.useContext(d6);return s||t||"ltr"}const o6=["top","right","bottom","left"],$n=Math.min,Pt=Math.max,Dd=Math.round,Mc=Math.floor,Pa=s=>({x:s,y:s}),m6={left:"right",right:"left",bottom:"top",top:"bottom"},x6={start:"end",end:"start"};function Lx(s,t,a){return Pt(s,$n(t,a))}function en(s,t){return typeof s=="function"?s(t):s}function sn(s){return s.split("-")[0]}function Il(s){return s.split("-")[1]}function jh(s){return s==="x"?"y":"x"}function gh(s){return s==="y"?"height":"width"}const u6=new Set(["top","bottom"]);function Sa(s){return u6.has(sn(s))?"y":"x"}function vh(s){return jh(Sa(s))}function h6(s,t,a){a===void 0&&(a=!1);const n=Il(s),r=vh(s),l=gh(r);let i=r==="x"?n===(a?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(i=Rd(i)),[i,Rd(i)]}function f6(s){const t=Rd(s);return[zx(s),t,zx(t)]}function zx(s){return s.replace(/start|end/g,t=>x6[t])}const Ip=["left","right"],Op=["right","left"],p6=["top","bottom"],j6=["bottom","top"];function g6(s,t,a){switch(s){case"top":case"bottom":return a?t?Op:Ip:t?Ip:Op;case"left":case"right":return t?p6:j6;default:return[]}}function v6(s,t,a,n){const r=Il(s);let l=g6(sn(s),a==="start",n);return r&&(l=l.map(i=>i+"-"+r),t&&(l=l.concat(l.map(zx)))),l}function Rd(s){return s.replace(/left|right|bottom|top/g,t=>m6[t])}function N6(s){return{top:0,right:0,bottom:0,left:0,...s}}function My(s){return typeof s!="number"?N6(s):{top:s,right:s,bottom:s,left:s}}function Ed(s){const{x:t,y:a,width:n,height:r}=s;return{width:n,height:r,top:a,left:t,right:t+n,bottom:a+r,x:t,y:a}}function _p(s,t,a){let{reference:n,floating:r}=s;const l=Sa(t),i=vh(t),c=gh(i),d=sn(t),m=l==="y",u=n.x+n.width/2-r.width/2,h=n.y+n.height/2-r.height/2,p=n[c]/2-r[c]/2;let g;switch(d){case"top":g={x:u,y:n.y-r.height};break;case"bottom":g={x:u,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:h};break;case"left":g={x:n.x-r.width,y:h};break;default:g={x:n.x,y:n.y}}switch(Il(t)){case"start":g[i]-=p*(a&&m?-1:1);break;case"end":g[i]+=p*(a&&m?-1:1);break}return g}const y6=async(s,t,a)=>{const{placement:n="bottom",strategy:r="absolute",middleware:l=[],platform:i}=a,c=l.filter(Boolean),d=await(i.isRTL==null?void 0:i.isRTL(t));let m=await i.getElementRects({reference:s,floating:t,strategy:r}),{x:u,y:h}=_p(m,n,d),p=n,g={},b=0;for(let N=0;N<c.length;N++){const{name:j,fn:x}=c[N],{x:f,y:w,data:D,reset:y}=await x({x:u,y:h,initialPlacement:n,placement:p,strategy:r,middlewareData:g,rects:m,platform:i,elements:{reference:s,floating:t}});u=f??u,h=w??h,g={...g,[j]:{...g[j],...D}},y&&b<=50&&(b++,typeof y=="object"&&(y.placement&&(p=y.placement),y.rects&&(m=y.rects===!0?await i.getElementRects({reference:s,floating:t,strategy:r}):y.rects),{x:u,y:h}=_p(m,p,d)),N=-1)}return{x:u,y:h,placement:p,strategy:r,middlewareData:g}};async function zi(s,t){var a;t===void 0&&(t={});const{x:n,y:r,platform:l,rects:i,elements:c,strategy:d}=s,{boundary:m="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=en(t,s),b=My(g),j=c[p?h==="floating"?"reference":"floating":h],x=Ed(await l.getClippingRect({element:(a=await(l.isElement==null?void 0:l.isElement(j)))==null||a?j:j.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(c.floating)),boundary:m,rootBoundary:u,strategy:d})),f=h==="floating"?{x:n,y:r,width:i.floating.width,height:i.floating.height}:i.reference,w=await(l.getOffsetParent==null?void 0:l.getOffsetParent(c.floating)),D=await(l.isElement==null?void 0:l.isElement(w))?await(l.getScale==null?void 0:l.getScale(w))||{x:1,y:1}:{x:1,y:1},y=Ed(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:f,offsetParent:w,strategy:d}):f);return{top:(x.top-y.top+b.top)/D.y,bottom:(y.bottom-x.bottom+b.bottom)/D.y,left:(x.left-y.left+b.left)/D.x,right:(y.right-x.right+b.right)/D.x}}const w6=s=>({name:"arrow",options:s,async fn(t){const{x:a,y:n,placement:r,rects:l,platform:i,elements:c,middlewareData:d}=t,{element:m,padding:u=0}=en(s,t)||{};if(m==null)return{};const h=My(u),p={x:a,y:n},g=vh(r),b=gh(g),N=await i.getDimensions(m),j=g==="y",x=j?"top":"left",f=j?"bottom":"right",w=j?"clientHeight":"clientWidth",D=l.reference[b]+l.reference[g]-p[g]-l.floating[b],y=p[g]-l.reference[g],T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(m));let v=T?T[w]:0;(!v||!await(i.isElement==null?void 0:i.isElement(T)))&&(v=c.floating[w]||l.floating[b]);const P=D/2-y/2,k=v/2-N[b]/2-1,C=$n(h[x],k),M=$n(h[f],k),z=C,I=v-N[b]-M,F=v/2-N[b]/2+P,$=Lx(z,F,I),B=!d.arrow&&Il(r)!=null&&F!==$&&l.reference[b]/2-(F<z?C:M)-N[b]/2<0,A=B?F<z?F-z:F-I:0;return{[g]:p[g]+A,data:{[g]:$,centerOffset:F-$-A,...B&&{alignmentOffset:A}},reset:B}}}),b6=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(t){var a,n;const{placement:r,middlewareData:l,rects:i,initialPlacement:c,platform:d,elements:m}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:N=!0,...j}=en(s,t);if((a=l.arrow)!=null&&a.alignmentOffset)return{};const x=sn(r),f=Sa(c),w=sn(c)===c,D=await(d.isRTL==null?void 0:d.isRTL(m.floating)),y=p||(w||!N?[Rd(c)]:f6(c)),T=b!=="none";!p&&T&&y.push(...v6(c,N,b,D));const v=[c,...y],P=await zi(t,j),k=[];let C=((n=l.flip)==null?void 0:n.overflows)||[];if(u&&k.push(P[x]),h){const F=h6(r,i,D);k.push(P[F[0]],P[F[1]])}if(C=[...C,{placement:r,overflows:k}],!k.every(F=>F<=0)){var M,z;const F=(((M=l.flip)==null?void 0:M.index)||0)+1,$=v[F];if($&&(!(h==="alignment"?f!==Sa($):!1)||C.every(_=>Sa(_.placement)===f?_.overflows[0]>0:!0)))return{data:{index:F,overflows:C},reset:{placement:$}};let B=(z=C.filter(A=>A.overflows[0]<=0).sort((A,_)=>A.overflows[1]-_.overflows[1])[0])==null?void 0:z.placement;if(!B)switch(g){case"bestFit":{var I;const A=(I=C.filter(_=>{if(T){const q=Sa(_.placement);return q===f||q==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(q=>q>0).reduce((q,U)=>q+U,0)]).sort((_,q)=>_[1]-q[1])[0])==null?void 0:I[0];A&&(B=A);break}case"initialPlacement":B=c;break}if(r!==B)return{reset:{placement:B}}}return{}}}};function Lp(s,t){return{top:s.top-t.height,right:s.right-t.width,bottom:s.bottom-t.height,left:s.left-t.width}}function zp(s){return o6.some(t=>s[t]>=0)}const S6=function(s){return s===void 0&&(s={}),{name:"hide",options:s,async fn(t){const{rects:a}=t,{strategy:n="referenceHidden",...r}=en(s,t);switch(n){case"referenceHidden":{const l=await zi(t,{...r,elementContext:"reference"}),i=Lp(l,a.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:zp(i)}}}case"escaped":{const l=await zi(t,{...r,altBoundary:!0}),i=Lp(l,a.floating);return{data:{escapedOffsets:i,escaped:zp(i)}}}default:return{}}}}},Py=new Set(["left","top"]);async function C6(s,t){const{placement:a,platform:n,elements:r}=s,l=await(n.isRTL==null?void 0:n.isRTL(r.floating)),i=sn(a),c=Il(a),d=Sa(a)==="y",m=Py.has(i)?-1:1,u=l&&d?-1:1,h=en(t,s);let{mainAxis:p,crossAxis:g,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof b=="number"&&(g=c==="end"?b*-1:b),d?{x:g*u,y:p*m}:{x:p*m,y:g*u}}const k6=function(s){return s===void 0&&(s=0),{name:"offset",options:s,async fn(t){var a,n;const{x:r,y:l,placement:i,middlewareData:c}=t,d=await C6(t,s);return i===((a=c.offset)==null?void 0:a.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:r+d.x,y:l+d.y,data:{...d,placement:i}}}}},M6=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(t){const{x:a,y:n,placement:r}=t,{mainAxis:l=!0,crossAxis:i=!1,limiter:c={fn:j=>{let{x,y:f}=j;return{x,y:f}}},...d}=en(s,t),m={x:a,y:n},u=await zi(t,d),h=Sa(sn(r)),p=jh(h);let g=m[p],b=m[h];if(l){const j=p==="y"?"top":"left",x=p==="y"?"bottom":"right",f=g+u[j],w=g-u[x];g=Lx(f,g,w)}if(i){const j=h==="y"?"top":"left",x=h==="y"?"bottom":"right",f=b+u[j],w=b-u[x];b=Lx(f,b,w)}const N=c.fn({...t,[p]:g,[h]:b});return{...N,data:{x:N.x-a,y:N.y-n,enabled:{[p]:l,[h]:i}}}}}},P6=function(s){return s===void 0&&(s={}),{options:s,fn(t){const{x:a,y:n,placement:r,rects:l,middlewareData:i}=t,{offset:c=0,mainAxis:d=!0,crossAxis:m=!0}=en(s,t),u={x:a,y:n},h=Sa(r),p=jh(h);let g=u[p],b=u[h];const N=en(c,t),j=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(d){const w=p==="y"?"height":"width",D=l.reference[p]-l.floating[w]+j.mainAxis,y=l.reference[p]+l.reference[w]-j.mainAxis;g<D?g=D:g>y&&(g=y)}if(m){var x,f;const w=p==="y"?"width":"height",D=Py.has(sn(r)),y=l.reference[h]-l.floating[w]+(D&&((x=i.offset)==null?void 0:x[h])||0)+(D?0:j.crossAxis),T=l.reference[h]+l.reference[w]+(D?0:((f=i.offset)==null?void 0:f[h])||0)-(D?j.crossAxis:0);b<y?b=y:b>T&&(b=T)}return{[p]:g,[h]:b}}}},T6=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(t){var a,n;const{placement:r,rects:l,platform:i,elements:c}=t,{apply:d=()=>{},...m}=en(s,t),u=await zi(t,m),h=sn(r),p=Il(r),g=Sa(r)==="y",{width:b,height:N}=l.floating;let j,x;h==="top"||h==="bottom"?(j=h,x=p===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(x=h,j=p==="end"?"top":"bottom");const f=N-u.top-u.bottom,w=b-u.left-u.right,D=$n(N-u[j],f),y=$n(b-u[x],w),T=!t.middlewareData.shift;let v=D,P=y;if((a=t.middlewareData.shift)!=null&&a.enabled.x&&(P=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(v=f),T&&!p){const C=Pt(u.left,0),M=Pt(u.right,0),z=Pt(u.top,0),I=Pt(u.bottom,0);g?P=b-2*(C!==0||M!==0?C+M:Pt(u.left,u.right)):v=N-2*(z!==0||I!==0?z+I:Pt(u.top,u.bottom))}await d({...t,availableWidth:P,availableHeight:v});const k=await i.getDimensions(c.floating);return b!==k.width||N!==k.height?{reset:{rects:!0}}:{}}}};function fo(){return typeof window<"u"}function Ol(s){return Ty(s)?(s.nodeName||"").toLowerCase():"#document"}function At(s){var t;return(s==null||(t=s.ownerDocument)==null?void 0:t.defaultView)||window}function Ia(s){var t;return(t=(Ty(s)?s.ownerDocument:s.document)||window.document)==null?void 0:t.documentElement}function Ty(s){return fo()?s instanceof Node||s instanceof At(s).Node:!1}function xa(s){return fo()?s instanceof Element||s instanceof At(s).Element:!1}function Aa(s){return fo()?s instanceof HTMLElement||s instanceof At(s).HTMLElement:!1}function Fp(s){return!fo()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof At(s).ShadowRoot}const D6=new Set(["inline","contents"]);function Xi(s){const{overflow:t,overflowX:a,overflowY:n,display:r}=ua(s);return/auto|scroll|overlay|hidden|clip/.test(t+n+a)&&!D6.has(r)}const R6=new Set(["table","td","th"]);function E6(s){return R6.has(Ol(s))}const A6=[":popover-open",":modal"];function po(s){return A6.some(t=>{try{return s.matches(t)}catch{return!1}})}const I6=["transform","translate","scale","rotate","perspective"],O6=["transform","translate","scale","rotate","perspective","filter"],_6=["paint","layout","strict","content"];function Nh(s){const t=yh(),a=xa(s)?ua(s):s;return I6.some(n=>a[n]?a[n]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!t&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!t&&(a.filter?a.filter!=="none":!1)||O6.some(n=>(a.willChange||"").includes(n))||_6.some(n=>(a.contain||"").includes(n))}function L6(s){let t=Bn(s);for(;Aa(t)&&!gl(t);){if(Nh(t))return t;if(po(t))return null;t=Bn(t)}return null}function yh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const z6=new Set(["html","body","#document"]);function gl(s){return z6.has(Ol(s))}function ua(s){return At(s).getComputedStyle(s)}function jo(s){return xa(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function Bn(s){if(Ol(s)==="html")return s;const t=s.assignedSlot||s.parentNode||Fp(s)&&s.host||Ia(s);return Fp(t)?t.host:t}function Dy(s){const t=Bn(s);return gl(t)?s.ownerDocument?s.ownerDocument.body:s.body:Aa(t)&&Xi(t)?t:Dy(t)}function Fi(s,t,a){var n;t===void 0&&(t=[]),a===void 0&&(a=!0);const r=Dy(s),l=r===((n=s.ownerDocument)==null?void 0:n.body),i=At(r);if(l){const c=Fx(i);return t.concat(i,i.visualViewport||[],Xi(r)?r:[],c&&a?Fi(c):[])}return t.concat(r,Fi(r,[],a))}function Fx(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function Ry(s){const t=ua(s);let a=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=Aa(s),l=r?s.offsetWidth:a,i=r?s.offsetHeight:n,c=Dd(a)!==l||Dd(n)!==i;return c&&(a=l,n=i),{width:a,height:n,$:c}}function wh(s){return xa(s)?s:s.contextElement}function tl(s){const t=wh(s);if(!Aa(t))return Pa(1);const a=t.getBoundingClientRect(),{width:n,height:r,$:l}=Ry(t);let i=(l?Dd(a.width):a.width)/n,c=(l?Dd(a.height):a.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const F6=Pa(0);function Ey(s){const t=At(s);return!yh()||!t.visualViewport?F6:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $6(s,t,a){return t===void 0&&(t=!1),!a||t&&a!==At(s)?!1:t}function gr(s,t,a,n){t===void 0&&(t=!1),a===void 0&&(a=!1);const r=s.getBoundingClientRect(),l=wh(s);let i=Pa(1);t&&(n?xa(n)&&(i=tl(n)):i=tl(s));const c=$6(l,a,n)?Ey(l):Pa(0);let d=(r.left+c.x)/i.x,m=(r.top+c.y)/i.y,u=r.width/i.x,h=r.height/i.y;if(l){const p=At(l),g=n&&xa(n)?At(n):n;let b=p,N=Fx(b);for(;N&&n&&g!==b;){const j=tl(N),x=N.getBoundingClientRect(),f=ua(N),w=x.left+(N.clientLeft+parseFloat(f.paddingLeft))*j.x,D=x.top+(N.clientTop+parseFloat(f.paddingTop))*j.y;d*=j.x,m*=j.y,u*=j.x,h*=j.y,d+=w,m+=D,b=At(N),N=Fx(b)}}return Ed({width:u,height:h,x:d,y:m})}function bh(s,t){const a=jo(s).scrollLeft;return t?t.left+a:gr(Ia(s)).left+a}function Ay(s,t,a){a===void 0&&(a=!1);const n=s.getBoundingClientRect(),r=n.left+t.scrollLeft-(a?0:bh(s,n)),l=n.top+t.scrollTop;return{x:r,y:l}}function B6(s){let{elements:t,rect:a,offsetParent:n,strategy:r}=s;const l=r==="fixed",i=Ia(n),c=t?po(t.floating):!1;if(n===i||c&&l)return a;let d={scrollLeft:0,scrollTop:0},m=Pa(1);const u=Pa(0),h=Aa(n);if((h||!h&&!l)&&((Ol(n)!=="body"||Xi(i))&&(d=jo(n)),Aa(n))){const g=gr(n);m=tl(n),u.x=g.x+n.clientLeft,u.y=g.y+n.clientTop}const p=i&&!h&&!l?Ay(i,d,!0):Pa(0);return{width:a.width*m.x,height:a.height*m.y,x:a.x*m.x-d.scrollLeft*m.x+u.x+p.x,y:a.y*m.y-d.scrollTop*m.y+u.y+p.y}}function W6(s){return Array.from(s.getClientRects())}function V6(s){const t=Ia(s),a=jo(s),n=s.ownerDocument.body,r=Pt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),l=Pt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-a.scrollLeft+bh(s);const c=-a.scrollTop;return ua(n).direction==="rtl"&&(i+=Pt(t.clientWidth,n.clientWidth)-r),{width:r,height:l,x:i,y:c}}function U6(s,t){const a=At(s),n=Ia(s),r=a.visualViewport;let l=n.clientWidth,i=n.clientHeight,c=0,d=0;if(r){l=r.width,i=r.height;const m=yh();(!m||m&&t==="fixed")&&(c=r.offsetLeft,d=r.offsetTop)}return{width:l,height:i,x:c,y:d}}const q6=new Set(["absolute","fixed"]);function H6(s,t){const a=gr(s,!0,t==="fixed"),n=a.top+s.clientTop,r=a.left+s.clientLeft,l=Aa(s)?tl(s):Pa(1),i=s.clientWidth*l.x,c=s.clientHeight*l.y,d=r*l.x,m=n*l.y;return{width:i,height:c,x:d,y:m}}function $p(s,t,a){let n;if(t==="viewport")n=U6(s,a);else if(t==="document")n=V6(Ia(s));else if(xa(t))n=H6(t,a);else{const r=Ey(s);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Ed(n)}function Iy(s,t){const a=Bn(s);return a===t||!xa(a)||gl(a)?!1:ua(a).position==="fixed"||Iy(a,t)}function G6(s,t){const a=t.get(s);if(a)return a;let n=Fi(s,[],!1).filter(c=>xa(c)&&Ol(c)!=="body"),r=null;const l=ua(s).position==="fixed";let i=l?Bn(s):s;for(;xa(i)&&!gl(i);){const c=ua(i),d=Nh(i);!d&&c.position==="fixed"&&(r=null),(l?!d&&!r:!d&&c.position==="static"&&!!r&&q6.has(r.position)||Xi(i)&&!d&&Iy(s,i))?n=n.filter(u=>u!==i):r=c,i=Bn(i)}return t.set(s,n),n}function Y6(s){let{element:t,boundary:a,rootBoundary:n,strategy:r}=s;const i=[...a==="clippingAncestors"?po(t)?[]:G6(t,this._c):[].concat(a),n],c=i[0],d=i.reduce((m,u)=>{const h=$p(t,u,r);return m.top=Pt(h.top,m.top),m.right=$n(h.right,m.right),m.bottom=$n(h.bottom,m.bottom),m.left=Pt(h.left,m.left),m},$p(t,c,r));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function K6(s){const{width:t,height:a}=Ry(s);return{width:t,height:a}}function Q6(s,t,a){const n=Aa(t),r=Ia(t),l=a==="fixed",i=gr(s,!0,l,t);let c={scrollLeft:0,scrollTop:0};const d=Pa(0);function m(){d.x=bh(r)}if(n||!n&&!l)if((Ol(t)!=="body"||Xi(r))&&(c=jo(t)),n){const g=gr(t,!0,l,t);d.x=g.x+t.clientLeft,d.y=g.y+t.clientTop}else r&&m();l&&!n&&r&&m();const u=r&&!n&&!l?Ay(r,c):Pa(0),h=i.left+c.scrollLeft-d.x-u.x,p=i.top+c.scrollTop-d.y-u.y;return{x:h,y:p,width:i.width,height:i.height}}function gm(s){return ua(s).position==="static"}function Bp(s,t){if(!Aa(s)||ua(s).position==="fixed")return null;if(t)return t(s);let a=s.offsetParent;return Ia(s)===a&&(a=a.ownerDocument.body),a}function Oy(s,t){const a=At(s);if(po(s))return a;if(!Aa(s)){let r=Bn(s);for(;r&&!gl(r);){if(xa(r)&&!gm(r))return r;r=Bn(r)}return a}let n=Bp(s,t);for(;n&&E6(n)&&gm(n);)n=Bp(n,t);return n&&gl(n)&&gm(n)&&!Nh(n)?a:n||L6(s)||a}const X6=async function(s){const t=this.getOffsetParent||Oy,a=this.getDimensions,n=await a(s.floating);return{reference:Q6(s.reference,await t(s.floating),s.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Z6(s){return ua(s).direction==="rtl"}const J6={convertOffsetParentRelativeRectToViewportRelativeRect:B6,getDocumentElement:Ia,getClippingRect:Y6,getOffsetParent:Oy,getElementRects:X6,getClientRects:W6,getDimensions:K6,getScale:tl,isElement:xa,isRTL:Z6};function _y(s,t){return s.x===t.x&&s.y===t.y&&s.width===t.width&&s.height===t.height}function e8(s,t){let a=null,n;const r=Ia(s);function l(){var c;clearTimeout(n),(c=a)==null||c.disconnect(),a=null}function i(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),l();const m=s.getBoundingClientRect(),{left:u,top:h,width:p,height:g}=m;if(c||t(),!p||!g)return;const b=Mc(h),N=Mc(r.clientWidth-(u+p)),j=Mc(r.clientHeight-(h+g)),x=Mc(u),w={rootMargin:-b+"px "+-N+"px "+-j+"px "+-x+"px",threshold:Pt(0,$n(1,d))||1};let D=!0;function y(T){const v=T[0].intersectionRatio;if(v!==d){if(!D)return i();v?i(!1,v):n=setTimeout(()=>{i(!1,1e-7)},1e3)}v===1&&!_y(m,s.getBoundingClientRect())&&i(),D=!1}try{a=new IntersectionObserver(y,{...w,root:r.ownerDocument})}catch{a=new IntersectionObserver(y,w)}a.observe(s)}return i(!0),l}function s8(s,t,a,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:l=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,m=wh(s),u=r||l?[...m?Fi(m):[],...Fi(t)]:[];u.forEach(x=>{r&&x.addEventListener("scroll",a,{passive:!0}),l&&x.addEventListener("resize",a)});const h=m&&c?e8(m,a):null;let p=-1,g=null;i&&(g=new ResizeObserver(x=>{let[f]=x;f&&f.target===m&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(t)})),a()}),m&&!d&&g.observe(m),g.observe(t));let b,N=d?gr(s):null;d&&j();function j(){const x=gr(s);N&&!_y(N,x)&&a(),N=x,b=requestAnimationFrame(j)}return a(),()=>{var x;u.forEach(f=>{r&&f.removeEventListener("scroll",a),l&&f.removeEventListener("resize",a)}),h==null||h(),(x=g)==null||x.disconnect(),g=null,d&&cancelAnimationFrame(b)}}const t8=k6,a8=M6,n8=b6,r8=T6,l8=S6,Wp=w6,i8=P6,c8=(s,t,a)=>{const n=new Map,r={platform:J6,...a},l={...r.platform,_c:n};return y6(s,t,{...r,platform:l})};var d8=typeof document<"u",o8=function(){},Qc=d8?o.useLayoutEffect:o8;function Ad(s,t){if(s===t)return!0;if(typeof s!=typeof t)return!1;if(typeof s=="function"&&s.toString()===t.toString())return!0;let a,n,r;if(s&&t&&typeof s=="object"){if(Array.isArray(s)){if(a=s.length,a!==t.length)return!1;for(n=a;n--!==0;)if(!Ad(s[n],t[n]))return!1;return!0}if(r=Object.keys(s),a=r.length,a!==Object.keys(t).length)return!1;for(n=a;n--!==0;)if(!{}.hasOwnProperty.call(t,r[n]))return!1;for(n=a;n--!==0;){const l=r[n];if(!(l==="_owner"&&s.$$typeof)&&!Ad(s[l],t[l]))return!1}return!0}return s!==s&&t!==t}function Ly(s){return typeof window>"u"?1:(s.ownerDocument.defaultView||window).devicePixelRatio||1}function Vp(s,t){const a=Ly(s);return Math.round(t*a)/a}function vm(s){const t=o.useRef(s);return Qc(()=>{t.current=s}),t}function m8(s){s===void 0&&(s={});const{placement:t="bottom",strategy:a="absolute",middleware:n=[],platform:r,elements:{reference:l,floating:i}={},transform:c=!0,whileElementsMounted:d,open:m}=s,[u,h]=o.useState({x:0,y:0,strategy:a,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=o.useState(n);Ad(p,n)||g(n);const[b,N]=o.useState(null),[j,x]=o.useState(null),f=o.useCallback(_=>{_!==T.current&&(T.current=_,N(_))},[]),w=o.useCallback(_=>{_!==v.current&&(v.current=_,x(_))},[]),D=l||b,y=i||j,T=o.useRef(null),v=o.useRef(null),P=o.useRef(u),k=d!=null,C=vm(d),M=vm(r),z=vm(m),I=o.useCallback(()=>{if(!T.current||!v.current)return;const _={placement:t,strategy:a,middleware:p};M.current&&(_.platform=M.current),c8(T.current,v.current,_).then(q=>{const U={...q,isPositioned:z.current!==!1};F.current&&!Ad(P.current,U)&&(P.current=U,kl.flushSync(()=>{h(U)}))})},[p,t,a,M,z]);Qc(()=>{m===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(_=>({..._,isPositioned:!1})))},[m]);const F=o.useRef(!1);Qc(()=>(F.current=!0,()=>{F.current=!1}),[]),Qc(()=>{if(D&&(T.current=D),y&&(v.current=y),D&&y){if(C.current)return C.current(D,y,I);I()}},[D,y,I,C,k]);const $=o.useMemo(()=>({reference:T,floating:v,setReference:f,setFloating:w}),[f,w]),B=o.useMemo(()=>({reference:D,floating:y}),[D,y]),A=o.useMemo(()=>{const _={position:a,left:0,top:0};if(!B.floating)return _;const q=Vp(B.floating,u.x),U=Vp(B.floating,u.y);return c?{..._,transform:"translate("+q+"px, "+U+"px)",...Ly(B.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:q,top:U}},[a,c,B.floating,u.x,u.y]);return o.useMemo(()=>({...u,update:I,refs:$,elements:B,floatingStyles:A}),[u,I,$,B,A])}const x8=s=>{function t(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:s,fn(a){const{element:n,padding:r}=typeof s=="function"?s(a):s;return n&&t(n)?n.current!=null?Wp({element:n.current,padding:r}).fn(a):{}:n?Wp({element:n,padding:r}).fn(a):{}}}},u8=(s,t)=>({...t8(s),options:[s,t]}),h8=(s,t)=>({...a8(s),options:[s,t]}),f8=(s,t)=>({...i8(s),options:[s,t]}),p8=(s,t)=>({...n8(s),options:[s,t]}),j8=(s,t)=>({...r8(s),options:[s,t]}),g8=(s,t)=>({...l8(s),options:[s,t]}),v8=(s,t)=>({...x8(s),options:[s,t]});var N8="Arrow",zy=o.forwardRef((s,t)=>{const{children:a,width:n=10,height:r=5,...l}=s;return e.jsx(ye.svg,{...l,ref:t,width:n,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:s.asChild?a:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});zy.displayName=N8;var y8=zy,Sh="Popper",[Fy,go]=Ct(Sh),[w8,$y]=Fy(Sh),By=s=>{const{__scopePopper:t,children:a}=s,[n,r]=o.useState(null);return e.jsx(w8,{scope:t,anchor:n,onAnchorChange:r,children:a})};By.displayName=Sh;var Wy="PopperAnchor",Vy=o.forwardRef((s,t)=>{const{__scopePopper:a,virtualRef:n,...r}=s,l=$y(Wy,a),i=o.useRef(null),c=Oe(t,i);return o.useEffect(()=>{l.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:e.jsx(ye.div,{...r,ref:c})});Vy.displayName=Wy;var Ch="PopperContent",[b8,S8]=Fy(Ch),Uy=o.forwardRef((s,t)=>{var pe,Ee,ae,me,De,Fe;const{__scopePopper:a,side:n="bottom",sideOffset:r=0,align:l="center",alignOffset:i=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:m=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:b,...N}=s,j=$y(Ch,a),[x,f]=o.useState(null),w=Oe(t,bs=>f(bs)),[D,y]=o.useState(null),T=Qi(D),v=(T==null?void 0:T.width)??0,P=(T==null?void 0:T.height)??0,k=n+(l!=="center"?"-"+l:""),C=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(m)?m:[m],z=M.length>0,I={padding:C,boundary:M.filter(k8),altBoundary:z},{refs:F,floatingStyles:$,placement:B,isPositioned:A,middlewareData:_}=m8({strategy:"fixed",placement:k,whileElementsMounted:(...bs)=>s8(...bs,{animationFrame:g==="always"}),elements:{reference:j.anchor},middleware:[u8({mainAxis:r+P,alignmentAxis:i}),d&&h8({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?f8():void 0,...I}),d&&p8({...I}),j8({...I,apply:({elements:bs,rects:it,availableWidth:Wt,availableHeight:La})=>{const{width:za,height:Fl}=it.reference,Fa=bs.floating.style;Fa.setProperty("--radix-popper-available-width",`${Wt}px`),Fa.setProperty("--radix-popper-available-height",`${La}px`),Fa.setProperty("--radix-popper-anchor-width",`${za}px`),Fa.setProperty("--radix-popper-anchor-height",`${Fl}px`)}}),D&&v8({element:D,padding:c}),M8({arrowWidth:v,arrowHeight:P}),p&&g8({strategy:"referenceHidden",...I})]}),[q,U]=Gy(B),G=nt(b);Is(()=>{A&&(G==null||G())},[A,G]);const Y=(pe=_.arrow)==null?void 0:pe.x,ne=(Ee=_.arrow)==null?void 0:Ee.y,ge=((ae=_.arrow)==null?void 0:ae.centerOffset)!==0,[ke,Z]=o.useState();return Is(()=>{x&&Z(window.getComputedStyle(x).zIndex)},[x]),e.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:A?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(me=_.transformOrigin)==null?void 0:me.x,(De=_.transformOrigin)==null?void 0:De.y].join(" "),...((Fe=_.hide)==null?void 0:Fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:s.dir,children:e.jsx(b8,{scope:a,placedSide:q,onArrowChange:y,arrowX:Y,arrowY:ne,shouldHideArrow:ge,children:e.jsx(ye.div,{"data-side":q,"data-align":U,...N,ref:w,style:{...N.style,animation:A?void 0:"none"}})})})});Uy.displayName=Ch;var qy="PopperArrow",C8={top:"bottom",right:"left",bottom:"top",left:"right"},Hy=o.forwardRef(function(t,a){const{__scopePopper:n,...r}=t,l=S8(qy,n),i=C8[l.placedSide];return e.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:e.jsx(y8,{...r,ref:a,style:{...r.style,display:"block"}})})});Hy.displayName=qy;function k8(s){return s!==null}var M8=s=>({name:"transformOrigin",options:s,fn(t){var j,x,f;const{placement:a,rects:n,middlewareData:r}=t,i=((j=r.arrow)==null?void 0:j.centerOffset)!==0,c=i?0:s.arrowWidth,d=i?0:s.arrowHeight,[m,u]=Gy(a),h={start:"0%",center:"50%",end:"100%"}[u],p=(((x=r.arrow)==null?void 0:x.x)??0)+c/2,g=(((f=r.arrow)==null?void 0:f.y)??0)+d/2;let b="",N="";return m==="bottom"?(b=i?h:`${p}px`,N=`${-d}px`):m==="top"?(b=i?h:`${p}px`,N=`${n.floating.height+d}px`):m==="right"?(b=`${-d}px`,N=i?h:`${g}px`):m==="left"&&(b=`${n.floating.width+d}px`,N=i?h:`${g}px`),{data:{x:b,y:N}}}});function Gy(s){const[t,a="center"]=s.split("-");return[t,a]}var Yy=By,kh=Vy,Ky=Uy,Qy=Hy,Xy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),P8="VisuallyHidden",T8=o.forwardRef((s,t)=>e.jsx(ye.span,{...s,ref:t,style:{...Xy,...s.style}}));T8.displayName=P8;var D8=[" ","Enter","ArrowUp","ArrowDown"],R8=[" ","Enter"],vr="Select",[vo,No,E8]=ph(vr),[_l,OA]=Ct(vr,[E8,go]),yo=go(),[A8,Kn]=_l(vr),[I8,O8]=_l(vr),Zy=s=>{const{__scopeSelect:t,children:a,open:n,defaultOpen:r,onOpenChange:l,value:i,defaultValue:c,onValueChange:d,dir:m,name:u,autoComplete:h,disabled:p,required:g,form:b}=s,N=yo(t),[j,x]=o.useState(null),[f,w]=o.useState(null),[D,y]=o.useState(!1),T=Al(m),[v,P]=Da({prop:n,defaultProp:r??!1,onChange:l,caller:vr}),[k,C]=Da({prop:i,defaultProp:c,onChange:d,caller:vr}),M=o.useRef(null),z=j?b||!!j.closest("form"):!0,[I,F]=o.useState(new Set),$=Array.from(I).map(B=>B.props.value).join(";");return e.jsx(Yy,{...N,children:e.jsxs(A8,{required:g,scope:t,trigger:j,onTriggerChange:x,valueNode:f,onValueNodeChange:w,valueNodeHasChildren:D,onValueNodeHasChildrenChange:y,contentId:Ka(),value:k,onValueChange:C,open:v,onOpenChange:P,dir:T,triggerPointerDownPosRef:M,disabled:p,children:[e.jsx(vo.Provider,{scope:t,children:e.jsx(I8,{scope:s.__scopeSelect,onNativeOptionAdd:o.useCallback(B=>{F(A=>new Set(A).add(B))},[]),onNativeOptionRemove:o.useCallback(B=>{F(A=>{const _=new Set(A);return _.delete(B),_})},[]),children:a})}),z?e.jsxs(ww,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:h,value:k,onChange:B=>C(B.target.value),disabled:p,form:b,children:[k===void 0?e.jsx("option",{value:""}):null,Array.from(I)]},$):null]})})};Zy.displayName=vr;var Jy="SelectTrigger",ew=o.forwardRef((s,t)=>{const{__scopeSelect:a,disabled:n=!1,...r}=s,l=yo(a),i=Kn(Jy,a),c=i.disabled||n,d=Oe(t,i.onTriggerChange),m=No(a),u=o.useRef("touch"),[h,p,g]=Sw(N=>{const j=m().filter(w=>!w.disabled),x=j.find(w=>w.value===i.value),f=Cw(j,N,x);f!==void 0&&i.onValueChange(f.value)}),b=N=>{c||(i.onOpenChange(!0),g()),N&&(i.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return e.jsx(kh,{asChild:!0,...l,children:e.jsx(ye.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":bw(i.value)?"":void 0,...r,ref:d,onClick:ve(r.onClick,N=>{N.currentTarget.focus(),u.current!=="mouse"&&b(N)}),onPointerDown:ve(r.onPointerDown,N=>{u.current=N.pointerType;const j=N.target;j.hasPointerCapture(N.pointerId)&&j.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(b(N),N.preventDefault())}),onKeyDown:ve(r.onKeyDown,N=>{const j=h.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&p(N.key),!(j&&N.key===" ")&&D8.includes(N.key)&&(b(),N.preventDefault())})})})});ew.displayName=Jy;var sw="SelectValue",tw=o.forwardRef((s,t)=>{const{__scopeSelect:a,className:n,style:r,children:l,placeholder:i="",...c}=s,d=Kn(sw,a),{onValueNodeHasChildrenChange:m}=d,u=l!==void 0,h=Oe(t,d.onValueNodeChange);return Is(()=>{m(u)},[m,u]),e.jsx(ye.span,{...c,ref:h,style:{pointerEvents:"none"},children:bw(d.value)?e.jsx(e.Fragment,{children:i}):l})});tw.displayName=sw;var _8="SelectIcon",aw=o.forwardRef((s,t)=>{const{__scopeSelect:a,children:n,...r}=s;return e.jsx(ye.span,{"aria-hidden":!0,...r,ref:t,children:n||"▼"})});aw.displayName=_8;var L8="SelectPortal",nw=s=>e.jsx(ao,{asChild:!0,...s});nw.displayName=L8;var Nr="SelectContent",rw=o.forwardRef((s,t)=>{const a=Kn(Nr,s.__scopeSelect),[n,r]=o.useState();if(Is(()=>{r(new DocumentFragment)},[]),!a.open){const l=n;return l?kl.createPortal(e.jsx(lw,{scope:s.__scopeSelect,children:e.jsx(vo.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),l):null}return e.jsx(iw,{...s,ref:t})});rw.displayName=Nr;var Jt=10,[lw,Qn]=_l(Nr),z8="SelectContentImpl",F8=pr("SelectContent.RemoveScroll"),iw=o.forwardRef((s,t)=>{const{__scopeSelect:a,position:n="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:l,onPointerDownOutside:i,side:c,sideOffset:d,align:m,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:b,hideWhenDetached:N,avoidCollisions:j,...x}=s,f=Kn(Nr,a),[w,D]=o.useState(null),[y,T]=o.useState(null),v=Oe(t,pe=>D(pe)),[P,k]=o.useState(null),[C,M]=o.useState(null),z=No(a),[I,F]=o.useState(!1),$=o.useRef(!1);o.useEffect(()=>{if(w)return Ju(w)},[w]),Zu();const B=o.useCallback(pe=>{const[Ee,...ae]=z().map(Fe=>Fe.ref.current),[me]=ae.slice(-1),De=document.activeElement;for(const Fe of pe)if(Fe===De||(Fe==null||Fe.scrollIntoView({block:"nearest"}),Fe===Ee&&y&&(y.scrollTop=0),Fe===me&&y&&(y.scrollTop=y.scrollHeight),Fe==null||Fe.focus(),document.activeElement!==De))return},[z,y]),A=o.useCallback(()=>B([P,w]),[B,P,w]);o.useEffect(()=>{I&&A()},[I,A]);const{onOpenChange:_,triggerPointerDownPosRef:q}=f;o.useEffect(()=>{if(w){let pe={x:0,y:0};const Ee=me=>{var De,Fe;pe={x:Math.abs(Math.round(me.pageX)-(((De=q.current)==null?void 0:De.x)??0)),y:Math.abs(Math.round(me.pageY)-(((Fe=q.current)==null?void 0:Fe.y)??0))}},ae=me=>{pe.x<=10&&pe.y<=10?me.preventDefault():w.contains(me.target)||_(!1),document.removeEventListener("pointermove",Ee),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",ae,{capture:!0})}}},[w,_,q]),o.useEffect(()=>{const pe=()=>_(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[_]);const[U,G]=Sw(pe=>{const Ee=z().filter(De=>!De.disabled),ae=Ee.find(De=>De.ref.current===document.activeElement),me=Cw(Ee,pe,ae);me&&setTimeout(()=>me.ref.current.focus())}),Y=o.useCallback((pe,Ee,ae)=>{const me=!$.current&&!ae;(f.value!==void 0&&f.value===Ee||me)&&(k(pe),me&&($.current=!0))},[f.value]),ne=o.useCallback(()=>w==null?void 0:w.focus(),[w]),ge=o.useCallback((pe,Ee,ae)=>{const me=!$.current&&!ae;(f.value!==void 0&&f.value===Ee||me)&&M(pe)},[f.value]),ke=n==="popper"?$x:cw,Z=ke===$x?{side:c,sideOffset:d,align:m,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:b,hideWhenDetached:N,avoidCollisions:j}:{};return e.jsx(lw,{scope:a,content:w,viewport:y,onViewportChange:T,itemRefCallback:Y,selectedItem:P,onItemLeave:ne,itemTextRefCallback:ge,focusSelectedItem:A,selectedItemText:C,position:n,isPositioned:I,searchRef:U,children:e.jsx(ro,{as:F8,allowPinchZoom:!0,children:e.jsx(to,{asChild:!0,trapped:f.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:ve(r,pe=>{var Ee;(Ee=f.trigger)==null||Ee.focus({preventScroll:!0}),pe.preventDefault()}),children:e.jsx(so,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:e.jsx(ke,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:pe=>pe.preventDefault(),...x,...Z,onPlaced:()=>F(!0),ref:v,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ve(x.onKeyDown,pe=>{const Ee=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Ee&&pe.key.length===1&&G(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let me=z().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const De=pe.target,Fe=me.indexOf(De);me=me.slice(Fe+1)}setTimeout(()=>B(me)),pe.preventDefault()}})})})})})})});iw.displayName=z8;var $8="SelectItemAlignedPosition",cw=o.forwardRef((s,t)=>{const{__scopeSelect:a,onPlaced:n,...r}=s,l=Kn(Nr,a),i=Qn(Nr,a),[c,d]=o.useState(null),[m,u]=o.useState(null),h=Oe(t,v=>u(v)),p=No(a),g=o.useRef(!1),b=o.useRef(!0),{viewport:N,selectedItem:j,selectedItemText:x,focusSelectedItem:f}=i,w=o.useCallback(()=>{if(l.trigger&&l.valueNode&&c&&m&&N&&j&&x){const v=l.trigger.getBoundingClientRect(),P=m.getBoundingClientRect(),k=l.valueNode.getBoundingClientRect(),C=x.getBoundingClientRect();if(l.dir!=="rtl"){const De=C.left-P.left,Fe=k.left-De,bs=v.left-Fe,it=v.width+bs,Wt=Math.max(it,P.width),La=window.innerWidth-Jt,za=Li(Fe,[Jt,Math.max(Jt,La-Wt)]);c.style.minWidth=it+"px",c.style.left=za+"px"}else{const De=P.right-C.right,Fe=window.innerWidth-k.right-De,bs=window.innerWidth-v.right-Fe,it=v.width+bs,Wt=Math.max(it,P.width),La=window.innerWidth-Jt,za=Li(Fe,[Jt,Math.max(Jt,La-Wt)]);c.style.minWidth=it+"px",c.style.right=za+"px"}const M=p(),z=window.innerHeight-Jt*2,I=N.scrollHeight,F=window.getComputedStyle(m),$=parseInt(F.borderTopWidth,10),B=parseInt(F.paddingTop,10),A=parseInt(F.borderBottomWidth,10),_=parseInt(F.paddingBottom,10),q=$+B+I+_+A,U=Math.min(j.offsetHeight*5,q),G=window.getComputedStyle(N),Y=parseInt(G.paddingTop,10),ne=parseInt(G.paddingBottom,10),ge=v.top+v.height/2-Jt,ke=z-ge,Z=j.offsetHeight/2,pe=j.offsetTop+Z,Ee=$+B+pe,ae=q-Ee;if(Ee<=ge){const De=M.length>0&&j===M[M.length-1].ref.current;c.style.bottom="0px";const Fe=m.clientHeight-N.offsetTop-N.offsetHeight,bs=Math.max(ke,Z+(De?ne:0)+Fe+A),it=Ee+bs;c.style.height=it+"px"}else{const De=M.length>0&&j===M[0].ref.current;c.style.top="0px";const bs=Math.max(ge,$+N.offsetTop+(De?Y:0)+Z)+ae;c.style.height=bs+"px",N.scrollTop=Ee-ge+N.offsetTop}c.style.margin=`${Jt}px 0`,c.style.minHeight=U+"px",c.style.maxHeight=z+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[p,l.trigger,l.valueNode,c,m,N,j,x,l.dir,n]);Is(()=>w(),[w]);const[D,y]=o.useState();Is(()=>{m&&y(window.getComputedStyle(m).zIndex)},[m]);const T=o.useCallback(v=>{v&&b.current===!0&&(w(),f==null||f(),b.current=!1)},[w,f]);return e.jsx(W8,{scope:a,contentWrapper:c,shouldExpandOnScrollRef:g,onScrollButtonChange:T,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:e.jsx(ye.div,{...r,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});cw.displayName=$8;var B8="SelectPopperPosition",$x=o.forwardRef((s,t)=>{const{__scopeSelect:a,align:n="start",collisionPadding:r=Jt,...l}=s,i=yo(a);return e.jsx(Ky,{...i,...l,ref:t,align:n,collisionPadding:r,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$x.displayName=B8;var[W8,Mh]=_l(Nr,{}),Bx="SelectViewport",dw=o.forwardRef((s,t)=>{const{__scopeSelect:a,nonce:n,...r}=s,l=Qn(Bx,a),i=Mh(Bx,a),c=Oe(t,l.onViewportChange),d=o.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(vo.Slot,{scope:a,children:e.jsx(ye.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:ve(r.onScroll,m=>{const u=m.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&h){const g=Math.abs(d.current-u.scrollTop);if(g>0){const b=window.innerHeight-Jt*2,N=parseFloat(h.style.minHeight),j=parseFloat(h.style.height),x=Math.max(N,j);if(x<b){const f=x+g,w=Math.min(b,f),D=f-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=D>0?D:0,h.style.justifyContent="flex-end")}}}d.current=u.scrollTop})})})]})});dw.displayName=Bx;var ow="SelectGroup",[V8,U8]=_l(ow),q8=o.forwardRef((s,t)=>{const{__scopeSelect:a,...n}=s,r=Ka();return e.jsx(V8,{scope:a,id:r,children:e.jsx(ye.div,{role:"group","aria-labelledby":r,...n,ref:t})})});q8.displayName=ow;var mw="SelectLabel",xw=o.forwardRef((s,t)=>{const{__scopeSelect:a,...n}=s,r=U8(mw,a);return e.jsx(ye.div,{id:r.id,...n,ref:t})});xw.displayName=mw;var Id="SelectItem",[H8,uw]=_l(Id),hw=o.forwardRef((s,t)=>{const{__scopeSelect:a,value:n,disabled:r=!1,textValue:l,...i}=s,c=Kn(Id,a),d=Qn(Id,a),m=c.value===n,[u,h]=o.useState(l??""),[p,g]=o.useState(!1),b=Oe(t,f=>{var w;return(w=d.itemRefCallback)==null?void 0:w.call(d,f,n,r)}),N=Ka(),j=o.useRef("touch"),x=()=>{r||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(H8,{scope:a,value:n,disabled:r,textId:N,isSelected:m,onItemTextChange:o.useCallback(f=>{h(w=>w||((f==null?void 0:f.textContent)??"").trim())},[]),children:e.jsx(vo.ItemSlot,{scope:a,value:n,disabled:r,textValue:u,children:e.jsx(ye.div,{role:"option","aria-labelledby":N,"data-highlighted":p?"":void 0,"aria-selected":m&&p,"data-state":m?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...i,ref:b,onFocus:ve(i.onFocus,()=>g(!0)),onBlur:ve(i.onBlur,()=>g(!1)),onClick:ve(i.onClick,()=>{j.current!=="mouse"&&x()}),onPointerUp:ve(i.onPointerUp,()=>{j.current==="mouse"&&x()}),onPointerDown:ve(i.onPointerDown,f=>{j.current=f.pointerType}),onPointerMove:ve(i.onPointerMove,f=>{var w;j.current=f.pointerType,r?(w=d.onItemLeave)==null||w.call(d):j.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ve(i.onPointerLeave,f=>{var w;f.currentTarget===document.activeElement&&((w=d.onItemLeave)==null||w.call(d))}),onKeyDown:ve(i.onKeyDown,f=>{var D;((D=d.searchRef)==null?void 0:D.current)!==""&&f.key===" "||(R8.includes(f.key)&&x(),f.key===" "&&f.preventDefault())})})})})});hw.displayName=Id;var si="SelectItemText",fw=o.forwardRef((s,t)=>{const{__scopeSelect:a,className:n,style:r,...l}=s,i=Kn(si,a),c=Qn(si,a),d=uw(si,a),m=O8(si,a),[u,h]=o.useState(null),p=Oe(t,x=>h(x),d.onItemTextChange,x=>{var f;return(f=c.itemTextRefCallback)==null?void 0:f.call(c,x,d.value,d.disabled)}),g=u==null?void 0:u.textContent,b=o.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:N,onNativeOptionRemove:j}=m;return Is(()=>(N(b),()=>j(b)),[N,j,b]),e.jsxs(e.Fragment,{children:[e.jsx(ye.span,{id:d.textId,...l,ref:p}),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?kl.createPortal(l.children,i.valueNode):null]})});fw.displayName=si;var pw="SelectItemIndicator",jw=o.forwardRef((s,t)=>{const{__scopeSelect:a,...n}=s;return uw(pw,a).isSelected?e.jsx(ye.span,{"aria-hidden":!0,...n,ref:t}):null});jw.displayName=pw;var Wx="SelectScrollUpButton",gw=o.forwardRef((s,t)=>{const a=Qn(Wx,s.__scopeSelect),n=Mh(Wx,s.__scopeSelect),[r,l]=o.useState(!1),i=Oe(t,n.onScrollButtonChange);return Is(()=>{if(a.viewport&&a.isPositioned){let c=function(){const m=d.scrollTop>0;l(m)};const d=a.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[a.viewport,a.isPositioned]),r?e.jsx(Nw,{...s,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=a;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});gw.displayName=Wx;var Vx="SelectScrollDownButton",vw=o.forwardRef((s,t)=>{const a=Qn(Vx,s.__scopeSelect),n=Mh(Vx,s.__scopeSelect),[r,l]=o.useState(!1),i=Oe(t,n.onScrollButtonChange);return Is(()=>{if(a.viewport&&a.isPositioned){let c=function(){const m=d.scrollHeight-d.clientHeight,u=Math.ceil(d.scrollTop)<m;l(u)};const d=a.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[a.viewport,a.isPositioned]),r?e.jsx(Nw,{...s,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=a;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});vw.displayName=Vx;var Nw=o.forwardRef((s,t)=>{const{__scopeSelect:a,onAutoScroll:n,...r}=s,l=Qn("SelectScrollButton",a),i=o.useRef(null),c=No(a),d=o.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return o.useEffect(()=>()=>d(),[d]),Is(()=>{var u;const m=c().find(h=>h.ref.current===document.activeElement);(u=m==null?void 0:m.ref.current)==null||u.scrollIntoView({block:"nearest"})},[c]),e.jsx(ye.div,{"aria-hidden":!0,...r,ref:t,style:{flexShrink:0,...r.style},onPointerDown:ve(r.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:ve(r.onPointerMove,()=>{var m;(m=l.onItemLeave)==null||m.call(l),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:ve(r.onPointerLeave,()=>{d()})})}),G8="SelectSeparator",yw=o.forwardRef((s,t)=>{const{__scopeSelect:a,...n}=s;return e.jsx(ye.div,{"aria-hidden":!0,...n,ref:t})});yw.displayName=G8;var Ux="SelectArrow",Y8=o.forwardRef((s,t)=>{const{__scopeSelect:a,...n}=s,r=yo(a),l=Kn(Ux,a),i=Qn(Ux,a);return l.open&&i.position==="popper"?e.jsx(Qy,{...r,...n,ref:t}):null});Y8.displayName=Ux;var K8="SelectBubbleInput",ww=o.forwardRef(({__scopeSelect:s,value:t,...a},n)=>{const r=o.useRef(null),l=Oe(n,r),i=Ki(t);return o.useEffect(()=>{const c=r.current;if(!c)return;const d=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==t&&u){const h=new Event("change",{bubbles:!0});u.call(c,t),c.dispatchEvent(h)}},[i,t]),e.jsx(ye.select,{...a,style:{...Xy,...a.style},ref:l,defaultValue:t})});ww.displayName=K8;function bw(s){return s===""||s===void 0}function Sw(s){const t=nt(s),a=o.useRef(""),n=o.useRef(0),r=o.useCallback(i=>{const c=a.current+i;t(c),function d(m){a.current=m,window.clearTimeout(n.current),m!==""&&(n.current=window.setTimeout(()=>d(""),1e3))}(c)},[t]),l=o.useCallback(()=>{a.current="",window.clearTimeout(n.current)},[]);return o.useEffect(()=>()=>window.clearTimeout(n.current),[]),[a,r,l]}function Cw(s,t,a){const r=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,l=a?s.indexOf(a):-1;let i=Q8(s,Math.max(l,0));r.length===1&&(i=i.filter(m=>m!==a));const d=i.find(m=>m.textValue.toLowerCase().startsWith(r.toLowerCase()));return d!==a?d:void 0}function Q8(s,t){return s.map((a,n)=>s[(t+n)%s.length])}var X8=Zy,kw=ew,Z8=tw,J8=aw,eM=nw,Mw=rw,sM=dw,Pw=xw,Tw=hw,tM=fw,aM=jw,Dw=gw,Rw=vw,Ew=yw;const ie=X8,ce=Z8,re=o.forwardRef(({className:s,children:t,...a},n)=>e.jsxs(kw,{ref:n,className:X("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...a,children:[t,e.jsx(J8,{asChild:!0,children:e.jsx(io,{className:"h-4 w-4 opacity-50"})})]}));re.displayName=kw.displayName;const Aw=o.forwardRef(({className:s,...t},a)=>e.jsx(Dw,{ref:a,className:X("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(nh,{className:"h-4 w-4"})}));Aw.displayName=Dw.displayName;const Iw=o.forwardRef(({className:s,...t},a)=>e.jsx(Rw,{ref:a,className:X("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(io,{className:"h-4 w-4"})}));Iw.displayName=Rw.displayName;const le=o.forwardRef(({className:s,children:t,position:a="popper",...n},r)=>e.jsx(eM,{children:e.jsxs(Mw,{ref:r,className:X("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...n,children:[e.jsx(Aw,{}),e.jsx(sM,{className:X("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(Iw,{})]})}));le.displayName=Mw.displayName;const nM=o.forwardRef(({className:s,...t},a)=>e.jsx(Pw,{ref:a,className:X("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t}));nM.displayName=Pw.displayName;const W=o.forwardRef(({className:s,children:t,...a},n)=>e.jsxs(Tw,{ref:n,className:X("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(aM,{children:e.jsx(Dl,{className:"h-4 w-4"})})}),e.jsx(tM,{children:t})]}));W.displayName=Tw.displayName;const rM=o.forwardRef(({className:s,...t},a)=>e.jsx(Ew,{ref:a,className:X("-mx-1 my-1 h-px bg-muted",s),...t}));rM.displayName=Ew.displayName;const ue=o.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,role:"alert",className:X("relative w-full rounded-lg border p-4","bg-white dark:bg-gray-800","border-gray-200 dark:border-gray-700",s),...t}));ue.displayName="Alert";const ti=o.forwardRef(({className:s,...t},a)=>e.jsx("h5",{ref:a,className:X("mb-1 font-medium leading-none tracking-tight",s),...t}));ti.displayName="AlertTitle";const xe=o.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:X("text-sm [&_p]:leading-relaxed",s),...t}));xe.displayName="AlertDescription";const lM=()=>{const[s,t]=o.useState({name:"",studentId:"",email:"",password:"",confirmPassword:"",role:"",department:"",phone:""}),[a,n]=o.useState(!1),[r,l]=o.useState(!1),[i,c]=o.useState(!1),[d,m]=o.useState(""),[u,h]=o.useState(""),[p,g]=o.useState(!1),b=Qe(),j=(P=>{const k=[];let C=0;P.length>=8?C+=1:k.push("密码长度至少8位"),/[A-Z]/.test(P)?C+=1:k.push("包含大写字母"),/[a-z]/.test(P)?C+=1:k.push("包含小写字母"),/\d/.test(P)?C+=1:k.push("包含数字"),/[!@#$%^&*(),.?":{}|<>]/.test(P)?C+=1:k.push("包含特殊字符");let M="bg-red-500";return C>=3&&(M="bg-yellow-500"),C>=4&&(M="bg-green-500"),{score:C,feedback:k,color:M}})(s.password),x=s.password&&s.confirmPassword&&s.password===s.confirmPassword,f=P=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P),w=P=>/^[DUM]\d{9,10}$/i.test(P),D=P=>{const{name:k,value:C}=P.target;t(M=>({...M,[k]:C})),m("")},y=(P,k)=>{t(C=>({...C,[P]:k})),m("")},T=()=>s.name.trim()?s.studentId.trim()?w(s.studentId)?s.email.trim()?f(s.email)?!s.email.endsWith("@hust.edu.cn")&&!s.email.endsWith("@mail.hust.edu.cn")?(m("请使用华中科技大学邮箱（@hust.edu.cn 或 @mail.hust.edu.cn）"),!1):j.score<3?(m("密码强度不足，请设置更强的密码"),!1):x?s.role?s.department.trim()?!0:(m("请输入院系信息"),!1):(m("请选择用户角色"),!1):(m("两次输入的密码不一致"),!1):(m("邮箱格式不正确"),!1):(m("请输入邮箱地址"),!1):(m("学号格式不正确（应为D/U/M开头+9-10位数字）"),!1):(m("请输入学号"),!1):(m("请输入姓名"),!1),v=async P=>{if(P.preventDefault(),!!T()){c(!0),m("");try{await new Promise(k=>setTimeout(k,2e3)),h("注册申请已提交！请检查您的邮箱以验证账户。"),g(!0),setTimeout(()=>{b("/login",{state:{message:"注册成功！请使用您的邮箱和密码登录。"}})},3e3)}catch{m("注册失败，请重试。")}finally{c(!1)}}};return p?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs(R,{className:"shadow-lg border-0",children:[e.jsxs(O,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(fe,{className:"w-8 h-8 text-green-600"})}),e.jsx(L,{className:"text-2xl font-semibold",children:"验证邮件已发送"}),e.jsx(ds,{children:"我们已向您的邮箱发送了验证链接"})]}),e.jsxs(E,{className:"text-center space-y-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["请检查您的邮箱 ",e.jsx("strong",{children:s.email})," 并点击验证链接激活账户。"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["没有收到邮件？请检查垃圾邮件文件夹或",e.jsx("button",{className:"text-primary hover:underline ml-1",children:"重新发送验证邮件"})]}),e.jsx("div",{className:"pt-4",children:e.jsx(be,{to:"/login",children:e.jsx(S,{variant:"outline",className:"w-full",children:"返回登录页面"})})})]})]})})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-lg w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-primary rounded-lg flex items-center justify-center",children:e.jsx(Es,{className:"w-7 h-7 text-white"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"加入科研实验班"}),e.jsx("p",{className:"text-gray-600",children:"华中科技大学机械科学与工程学院"})]}),e.jsxs(R,{className:"shadow-lg border-0",children:[e.jsxs(O,{className:"space-y-1 pb-6",children:[e.jsx(L,{className:"text-2xl font-semibold text-center",children:"申请注册账户"}),e.jsx(ds,{className:"text-center",children:"请填写您的个人信息以申请账户"})]}),e.jsxs(E,{children:[d&&e.jsxs(ue,{className:"mb-6",children:[e.jsx(Ks,{className:"h-4 w-4"}),e.jsx(xe,{children:d})]}),u&&e.jsxs(ue,{className:"mb-6 border-green-200 bg-green-50",children:[e.jsx(fe,{className:"h-4 w-4 text-green-600"}),e.jsx(xe,{className:"text-green-700",children:u})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"name",children:"姓名 *"}),e.jsx(se,{id:"name",name:"name",placeholder:"请输入真实姓名",value:s.name,onChange:D,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"studentId",children:"学号 *"}),e.jsx(se,{id:"studentId",name:"studentId",placeholder:"如：D202377777",value:s.studentId,onChange:D,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"email",children:"华科邮箱 *"}),e.jsx(se,{id:"email",name:"email",type:"email",placeholder:"name@hust.edu.cn",value:s.email,onChange:D,required:!0}),e.jsx("p",{className:"text-xs text-gray-500",children:"请使用华中科技大学邮箱（@hust.edu.cn 或 @mail.hust.edu.cn）"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"password",children:"密码 *"}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{id:"password",name:"password",type:a?"text":"password",placeholder:"请设置密码",value:s.password,onChange:D,required:!0,className:"pr-10"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!a),children:a?e.jsx(sl,{className:"h-4 w-4 text-gray-400"}):e.jsx(Le,{className:"h-4 w-4 text-gray-400"})})]}),s.password&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${j.color}`,style:{width:`${j.score/5*100}%`}})}),e.jsx("span",{className:"text-xs text-gray-500",children:j.score<3?"弱":j.score<4?"中":"强"})]}),j.feedback.length>0&&e.jsxs("p",{className:"text-xs text-gray-500",children:["建议：",j.feedback.join("、")]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"confirmPassword",children:"确认密码 *"}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{id:"confirmPassword",name:"confirmPassword",type:r?"text":"password",placeholder:"请再次输入密码",value:s.confirmPassword,onChange:D,required:!0,className:"pr-10"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!r),children:r?e.jsx(sl,{className:"h-4 w-4 text-gray-400"}):e.jsx(Le,{className:"h-4 w-4 text-gray-400"})})]}),s.confirmPassword&&e.jsx("div",{className:"flex items-center space-x-1 text-xs",children:x?e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"h-3 w-3 text-green-500"}),e.jsx("span",{className:"text-green-600",children:"密码匹配"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ks,{className:"h-3 w-3 text-red-500"}),e.jsx("span",{className:"text-red-600",children:"密码不匹配"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"role",children:"申请角色 *"}),e.jsxs(ie,{onValueChange:P=>y("role",P),children:[e.jsx(re,{children:e.jsx(ce,{placeholder:"选择角色"})}),e.jsxs(le,{children:[e.jsx(W,{value:"student",children:"学生"}),e.jsx(W,{value:"faculty",children:"教师"}),e.jsx(W,{value:"admin",children:"管理员"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"department",children:"院系 *"}),e.jsx(se,{id:"department",name:"department",placeholder:"如：机械科学与工程学院",value:s.department,onChange:D,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"phone",children:"联系电话（可选）"}),e.jsx(se,{id:"phone",name:"phone",placeholder:"请输入手机号码",value:s.phone,onChange:D})]}),e.jsx(S,{type:"submit",className:"w-full h-11 text-base",disabled:i,children:i?"提交申请中...":"提交注册申请"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"已有账号？"})})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(be,{to:"/login",className:"text-primary hover:text-primary/80 transition-colors font-medium",children:"立即登录"})})]})]})]}),e.jsxs("div",{className:"mt-8 text-center",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:["© 2024 华中科技大学机械科学与工程学院",e.jsx("br",{}),"技术支持：科研实验班信息化小组"]}),e.jsx("div",{className:"mt-2",children:e.jsxs("p",{className:"text-xs text-gray-400",children:["注册即表示您同意我们的",e.jsx("a",{href:"#",className:"text-primary hover:underline",children:"使用条款"})," 和",e.jsx("a",{href:"#",className:"text-primary hover:underline",children:"隐私政策"})]})})]})]})})},iM=()=>{const[s,t]=o.useState("email"),[a,n]=o.useState({email:"",verificationCode:"",newPassword:"",confirmPassword:""}),[r,l]=o.useState(!1),[i,c]=o.useState(""),[d,m]=o.useState(0),u=j=>{const{name:x,value:f}=j.target;n(w=>({...w,[x]:f})),c("")},h=()=>{m(60);const j=setInterval(()=>{m(x=>x<=1?(clearInterval(j),0):x-1)},1e3)},p=async j=>{if(j.preventDefault(),!a.email){c("请输入邮箱地址");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)){c("邮箱格式不正确");return}l(!0),c("");try{await new Promise(f=>setTimeout(f,1500)),t("code"),h()}catch{c("发送验证码失败，请重试")}finally{l(!1)}},g=async j=>{if(j.preventDefault(),!a.verificationCode){c("请输入验证码");return}if(a.verificationCode.length!==6){c("验证码应为6位数字");return}l(!0),c("");try{await new Promise(x=>setTimeout(x,1e3)),a.verificationCode==="123456"?t("reset"):c("验证码不正确，请重新输入")}catch{c("验证失败，请重试")}finally{l(!1)}},b=async j=>{if(j.preventDefault(),!a.newPassword){c("请输入新密码");return}if(a.newPassword.length<8){c("密码长度至少8位");return}if(a.newPassword!==a.confirmPassword){c("两次输入的密码不一致");return}l(!0),c("");try{await new Promise(x=>setTimeout(x,1500)),t("success")}catch{c("重置密码失败，请重试")}finally{l(!1)}},N=async()=>{if(!(d>0)){l(!0);try{await new Promise(j=>setTimeout(j,1e3)),h()}catch{c("重发验证码失败")}finally{l(!1)}}};return s==="email"?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-primary rounded-lg flex items-center justify-center",children:e.jsx(Es,{className:"w-7 h-7 text-white"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"忘记密码"}),e.jsx("p",{className:"text-gray-600",children:"输入您的邮箱地址，我们将发送验证码给您"})]}),e.jsxs(R,{className:"shadow-lg border-0",children:[e.jsxs(O,{className:"space-y-1 pb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(hl,{className:"w-8 h-8 text-blue-600"})})}),e.jsx(L,{className:"text-xl font-semibold text-center",children:"找回您的账户"}),e.jsx(ds,{className:"text-center",children:"请输入您注册时使用的邮箱地址"})]}),e.jsxs(E,{children:[i&&e.jsx(ue,{className:"mb-6",children:e.jsx(xe,{children:i})}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"email",children:"邮箱地址"}),e.jsx(se,{id:"email",name:"email",type:"email",placeholder:"请输入您的邮箱地址",value:a.email,onChange:u,required:!0,className:"h-11"})]}),e.jsx(S,{type:"submit",className:"w-full h-11 text-base",disabled:r,children:r?"发送中...":"发送验证码"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(be,{to:"/login",className:"inline-flex items-center text-sm text-primary hover:text-primary/80 transition-colors",children:[e.jsx(Cp,{className:"w-4 h-4 mr-1"}),"返回登录"]})})]})]})]})}):s==="code"?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-primary rounded-lg flex items-center justify-center",children:e.jsx(Es,{className:"w-7 h-7 text-white"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"验证您的邮箱"}),e.jsxs("p",{className:"text-gray-600",children:["我们已向 ",a.email," 发送了验证码"]})]}),e.jsxs(R,{className:"shadow-lg border-0",children:[e.jsxs(O,{className:"space-y-1 pb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(hl,{className:"w-8 h-8 text-green-600"})})}),e.jsx(L,{className:"text-xl font-semibold text-center",children:"输入验证码"}),e.jsx(ds,{className:"text-center",children:"请输入您收到的6位验证码"})]}),e.jsxs(E,{children:[i&&e.jsx(ue,{className:"mb-6",children:e.jsx(xe,{children:i})}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"verificationCode",children:"验证码"}),e.jsx(se,{id:"verificationCode",name:"verificationCode",placeholder:"请输入6位验证码",value:a.verificationCode,onChange:u,maxLength:6,className:"h-11 text-center text-lg tracking-wider",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"测试用验证码: 123456"})]}),e.jsx(S,{type:"submit",className:"w-full h-11 text-base",disabled:r,children:r?"验证中...":"验证"})]}),e.jsxs("div",{className:"mt-6 text-center space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"没有收到验证码？"}),e.jsx("button",{onClick:N,disabled:d>0||r,className:"text-sm text-primary hover:text-primary/80 transition-colors disabled:text-gray-400 disabled:cursor-not-allowed",children:d>0?e.jsxs(e.Fragment,{children:[e.jsx(Ce,{className:"w-4 h-4 inline mr-1"}),d,"秒后可重发"]}):"重新发送验证码"})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("button",{onClick:()=>t("email"),className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsx(Cp,{className:"w-4 h-4 mr-1"}),"修改邮箱地址"]})})]})]})]})}):s==="reset"?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-primary rounded-lg flex items-center justify-center",children:e.jsx(Es,{className:"w-7 h-7 text-white"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"重置密码"}),e.jsx("p",{className:"text-gray-600",children:"请设置一个新的安全密码"})]}),e.jsxs(R,{className:"shadow-lg border-0",children:[e.jsxs(O,{className:"space-y-1 pb-6",children:[e.jsx(L,{className:"text-xl font-semibold text-center",children:"设置新密码"}),e.jsx(ds,{className:"text-center",children:"请输入您的新密码"})]}),e.jsxs(E,{children:[i&&e.jsx(ue,{className:"mb-6",children:e.jsx(xe,{children:i})}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"newPassword",children:"新密码"}),e.jsx(se,{id:"newPassword",name:"newPassword",type:"password",placeholder:"请输入新密码（至少8位）",value:a.newPassword,onChange:u,required:!0,className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"confirmPassword",children:"确认密码"}),e.jsx(se,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"请再次输入新密码",value:a.confirmPassword,onChange:u,required:!0,className:"h-11"})]}),e.jsx(S,{type:"submit",className:"w-full h-11 text-base",disabled:r,children:r?"重置中...":"重置密码"})]})]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs(R,{className:"shadow-lg border-0",children:[e.jsxs(O,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(fe,{className:"w-8 h-8 text-green-600"})}),e.jsx(L,{className:"text-2xl font-semibold",children:"密码重置成功"}),e.jsx(ds,{children:"您的密码已成功重置"})]}),e.jsxs(E,{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"您现在可以使用新密码登录您的账户了。"}),e.jsx("div",{className:"pt-4",children:e.jsx(be,{to:"/login",children:e.jsx(S,{className:"w-full h-11",children:"立即登录"})})})]})]})})})};var Nm="rovingFocusGroup.onEntryFocus",cM={bubbles:!1,cancelable:!0},Zi="RovingFocusGroup",[qx,Ow,dM]=ph(Zi),[oM,wo]=Ct(Zi,[dM]),[mM,xM]=oM(Zi),_w=o.forwardRef((s,t)=>e.jsx(qx.Provider,{scope:s.__scopeRovingFocusGroup,children:e.jsx(qx.Slot,{scope:s.__scopeRovingFocusGroup,children:e.jsx(uM,{...s,ref:t})})}));_w.displayName=Zi;var uM=o.forwardRef((s,t)=>{const{__scopeRovingFocusGroup:a,orientation:n,loop:r=!1,dir:l,currentTabStopId:i,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:m,preventScrollOnEntryFocus:u=!1,...h}=s,p=o.useRef(null),g=Oe(t,p),b=Al(l),[N,j]=Da({prop:i,defaultProp:c??null,onChange:d,caller:Zi}),[x,f]=o.useState(!1),w=nt(m),D=Ow(a),y=o.useRef(!1),[T,v]=o.useState(0);return o.useEffect(()=>{const P=p.current;if(P)return P.addEventListener(Nm,w),()=>P.removeEventListener(Nm,w)},[w]),e.jsx(mM,{scope:a,orientation:n,dir:b,loop:r,currentTabStopId:N,onItemFocus:o.useCallback(P=>j(P),[j]),onItemShiftTab:o.useCallback(()=>f(!0),[]),onFocusableItemAdd:o.useCallback(()=>v(P=>P+1),[]),onFocusableItemRemove:o.useCallback(()=>v(P=>P-1),[]),children:e.jsx(ye.div,{tabIndex:x||T===0?-1:0,"data-orientation":n,...h,ref:g,style:{outline:"none",...s.style},onMouseDown:ve(s.onMouseDown,()=>{y.current=!0}),onFocus:ve(s.onFocus,P=>{const k=!y.current;if(P.target===P.currentTarget&&k&&!x){const C=new CustomEvent(Nm,cM);if(P.currentTarget.dispatchEvent(C),!C.defaultPrevented){const M=D().filter(B=>B.focusable),z=M.find(B=>B.active),I=M.find(B=>B.id===N),$=[z,I,...M].filter(Boolean).map(B=>B.ref.current);Fw($,u)}}y.current=!1}),onBlur:ve(s.onBlur,()=>f(!1))})})}),Lw="RovingFocusGroupItem",zw=o.forwardRef((s,t)=>{const{__scopeRovingFocusGroup:a,focusable:n=!0,active:r=!1,tabStopId:l,children:i,...c}=s,d=Ka(),m=l||d,u=xM(Lw,a),h=u.currentTabStopId===m,p=Ow(a),{onFocusableItemAdd:g,onFocusableItemRemove:b,currentTabStopId:N}=u;return o.useEffect(()=>{if(n)return g(),()=>b()},[n,g,b]),e.jsx(qx.ItemSlot,{scope:a,id:m,focusable:n,active:r,children:e.jsx(ye.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...c,ref:t,onMouseDown:ve(s.onMouseDown,j=>{n?u.onItemFocus(m):j.preventDefault()}),onFocus:ve(s.onFocus,()=>u.onItemFocus(m)),onKeyDown:ve(s.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){u.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const x=pM(j,u.orientation,u.dir);if(x!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let w=p().filter(D=>D.focusable).map(D=>D.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const D=w.indexOf(j.currentTarget);w=u.loop?jM(w,D+1):w.slice(D+1)}setTimeout(()=>Fw(w))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:N!=null}):i})})});zw.displayName=Lw;var hM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fM(s,t){return t!=="rtl"?s:s==="ArrowLeft"?"ArrowRight":s==="ArrowRight"?"ArrowLeft":s}function pM(s,t,a){const n=fM(s.key,a);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return hM[n]}function Fw(s,t=!1){const a=document.activeElement;for(const n of s)if(n===a||(n.focus({preventScroll:t}),document.activeElement!==a))return}function jM(s,t){return s.map((a,n)=>s[(t+n)%s.length])}var $w=_w,Bw=zw,bo="Tabs",[gM,_A]=Ct(bo,[wo]),Ww=wo(),[vM,Ph]=gM(bo),Vw=o.forwardRef((s,t)=>{const{__scopeTabs:a,value:n,onValueChange:r,defaultValue:l,orientation:i="horizontal",dir:c,activationMode:d="automatic",...m}=s,u=Al(c),[h,p]=Da({prop:n,onChange:r,defaultProp:l??"",caller:bo});return e.jsx(vM,{scope:a,baseId:Ka(),value:h,onValueChange:p,orientation:i,dir:u,activationMode:d,children:e.jsx(ye.div,{dir:u,"data-orientation":i,...m,ref:t})})});Vw.displayName=bo;var Uw="TabsList",qw=o.forwardRef((s,t)=>{const{__scopeTabs:a,loop:n=!0,...r}=s,l=Ph(Uw,a),i=Ww(a);return e.jsx($w,{asChild:!0,...i,orientation:l.orientation,dir:l.dir,loop:n,children:e.jsx(ye.div,{role:"tablist","aria-orientation":l.orientation,...r,ref:t})})});qw.displayName=Uw;var Hw="TabsTrigger",Gw=o.forwardRef((s,t)=>{const{__scopeTabs:a,value:n,disabled:r=!1,...l}=s,i=Ph(Hw,a),c=Ww(a),d=Qw(i.baseId,n),m=Xw(i.baseId,n),u=n===i.value;return e.jsx(Bw,{asChild:!0,...c,focusable:!r,active:u,children:e.jsx(ye.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":m,"data-state":u?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:d,...l,ref:t,onMouseDown:ve(s.onMouseDown,h=>{!r&&h.button===0&&h.ctrlKey===!1?i.onValueChange(n):h.preventDefault()}),onKeyDown:ve(s.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(n)}),onFocus:ve(s.onFocus,()=>{const h=i.activationMode!=="manual";!u&&!r&&h&&i.onValueChange(n)})})})});Gw.displayName=Hw;var Yw="TabsContent",Kw=o.forwardRef((s,t)=>{const{__scopeTabs:a,value:n,forceMount:r,children:l,...i}=s,c=Ph(Yw,a),d=Qw(c.baseId,n),m=Xw(c.baseId,n),u=n===c.value,h=o.useRef(u);return o.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),e.jsx(Bt,{present:r||u,children:({present:p})=>e.jsx(ye.div,{"data-state":u?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!p,id:m,tabIndex:0,...i,ref:t,style:{...s.style,animationDuration:h.current?"0s":void 0},children:p&&l})})});Kw.displayName=Yw;function Qw(s,t){return`${s}-trigger-${t}`}function Xw(s,t){return`${s}-content-${t}`}var NM=Vw,Zw=qw,Jw=Gw,e1=Kw;const Ye=NM,qe=o.forwardRef(({className:s,...t},a)=>e.jsx(Zw,{ref:a,className:X("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));qe.displayName=Zw.displayName;const J=o.forwardRef(({className:s,...t},a)=>e.jsx(Jw,{ref:a,className:X("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t}));J.displayName=Jw.displayName;const ee=o.forwardRef(({className:s,...t},a)=>e.jsx(e1,{ref:a,className:X("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));ee.displayName=e1.displayName;const yM=eo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function V({className:s,variant:t,...a}){return e.jsx("div",{className:X(yM({variant:t}),s),...a})}var wM="Separator",Up="horizontal",bM=["horizontal","vertical"],s1=o.forwardRef((s,t)=>{const{decorative:a,orientation:n=Up,...r}=s,l=SM(n)?n:Up,c=a?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return e.jsx(ye.div,{"data-orientation":l,...c,...r,ref:t})});s1.displayName=wM;function SM(s){return bM.includes(s)}var t1=s1;const Gs=o.forwardRef(({className:s,orientation:t="horizontal",decorative:a=!0,...n},r)=>e.jsx(t1,{ref:r,decorative:a,orientation:t,className:X("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...n}));Gs.displayName=t1.displayName;const CM=()=>{const{user:s,updateProfile:t}=rs(),[a,n]=o.useState(!1),[r,l]=o.useState(""),[i,c]=o.useState("success"),d=o.useRef(null),[m,u]=o.useState({name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",department:(s==null?void 0:s.department)||"",studentId:(s==null?void 0:s.studentId)||""}),[h,p]=o.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[g,b]=o.useState({current:!1,new:!1,confirm:!1});if(!s)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"请先登录"})});const N=v=>{const{name:P,value:k}=v.target;u(C=>({...C,[P]:k})),l("")},j=v=>{const{name:P,value:k}=v.target;p(C=>({...C,[P]:k})),l("")},x=()=>{var v;(v=d.current)==null||v.click()},f=async v=>{var k;const P=(k=v.target.files)==null?void 0:k[0];if(P){if(!P.type.startsWith("image/")){l("请选择图片文件"),c("error");return}if(P.size>5*1024*1024){l("图片大小不能超过5MB"),c("error");return}n(!0);try{const C=URL.createObjectURL(P);await t({avatar:C})?(l("头像更新成功"),c("success")):(l("头像更新失败"),c("error"))}catch{l("头像上传失败"),c("error")}finally{n(!1)}}},w=async v=>{if(v.preventDefault(),!m.name.trim()){l("姓名不能为空"),c("error");return}if(!m.email.trim()){l("邮箱不能为空"),c("error");return}n(!0);try{await t(m)?(l("个人信息更新成功"),c("success")):(l("更新失败，请重试"),c("error"))}catch{l("更新失败，请重试"),c("error")}finally{n(!1)}},D=async v=>{if(v.preventDefault(),!h.currentPassword){l("请输入当前密码"),c("error");return}if(!h.newPassword){l("请输入新密码"),c("error");return}if(h.newPassword.length<8){l("新密码长度至少8位"),c("error");return}if(h.newPassword!==h.confirmPassword){l("两次输入的新密码不一致"),c("error");return}n(!0);try{await new Promise(P=>setTimeout(P,1500)),l("密码修改成功"),c("success"),p({currentPassword:"",newPassword:"",confirmPassword:""})}catch{l("密码修改失败"),c("error")}finally{n(!1)}},y=v=>{switch(v){case"student":return"bg-blue-100 text-blue-800";case"professor":return"bg-green-100 text-green-800";case"secretary":return"bg-orange-100 text-orange-800";case"admin":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},T=v=>{switch(v){case"student":return"学生";case"professor":return"教授";case"secretary":return"秘书";case"admin":return"管理员";default:return v}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"个人中心"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"管理您的个人信息和账户设置"})]}),r&&e.jsxs(ue,{className:`mb-6 ${i==="success"?"border-green-200 bg-green-50":""}`,children:[i==="success"?e.jsx(fe,{className:"h-4 w-4 text-green-600"}):e.jsx(xe,{children:r}),i==="success"&&e.jsx(xe,{className:"text-green-700",children:r})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(R,{children:[e.jsx(O,{className:"text-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:s.avatar?e.jsx("img",{src:s.avatar,alt:"头像",className:"w-full h-full object-cover"}):e.jsx(Xs,{className:"w-12 h-12 text-gray-400"})}),e.jsx("button",{onClick:x,className:"absolute -bottom-1 -right-1 bg-primary text-white rounded-full p-2 hover:bg-primary/90 transition-colors",disabled:a,children:e.jsx(ah,{className:"w-4 h-4"})})]}),e.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:f,className:"hidden"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-semibold",children:s.name}),e.jsx("p",{className:"text-gray-600",children:s.email}),e.jsx("div",{className:"mt-2",children:e.jsx(V,{className:y(s.role),children:T(s.role)})})]})]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsx(Gs,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(YN,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:s.department})]}),s.studentId&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(x3,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:s.studentId})]}),s.phone&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(oo,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:s.phone})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ce,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["最后登录: ",s.lastLogin?new Date(s.lastLogin).toLocaleString("zh-CN"):"未知"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ts,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:`text-sm ${s.isActive?"text-green-600":"text-red-600"}`,children:s.isActive?"账户正常":"账户被禁用"})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(Ye,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(qe,{className:"grid w-full grid-cols-3",children:[e.jsx(J,{value:"profile",children:"基本信息"}),e.jsx(J,{value:"security",children:"安全设置"}),e.jsx(J,{value:"permissions",children:"权限信息"})]}),e.jsx(ee,{value:"profile",children:e.jsxs(R,{children:[e.jsxs(O,{children:[e.jsx(L,{children:"基本信息"}),e.jsx(ds,{children:"更新您的个人基本信息"})]}),e.jsx(E,{children:e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"name",children:"姓名 *"}),e.jsx(se,{id:"name",name:"name",value:m.name,onChange:N,required:!0})]}),s.role==="student"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"studentId",children:"学号"}),e.jsx(se,{id:"studentId",name:"studentId",value:m.studentId,onChange:N})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"email",children:"邮箱地址 *"}),e.jsx(se,{id:"email",name:"email",type:"email",value:m.email,onChange:N,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"phone",children:"联系电话"}),e.jsx(se,{id:"phone",name:"phone",value:m.phone,onChange:N})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"department",children:"院系"}),e.jsx(se,{id:"department",name:"department",value:m.department,onChange:N})]}),e.jsx(S,{type:"submit",className:"w-full",disabled:a,children:a?"更新中...":e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"保存更改"]})})]})})]})}),e.jsx(ee,{value:"security",children:e.jsxs(R,{children:[e.jsxs(O,{children:[e.jsx(L,{children:"修改密码"}),e.jsx(ds,{children:"更改您的登录密码以保护账户安全"})]}),e.jsx(E,{children:e.jsxs("form",{onSubmit:D,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"currentPassword",children:"当前密码 *"}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{id:"currentPassword",name:"currentPassword",type:g.current?"text":"password",value:h.currentPassword,onChange:j,required:!0,className:"pr-10"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>b(v=>({...v,current:!v.current})),children:g.current?e.jsx(sl,{className:"h-4 w-4 text-gray-400"}):e.jsx(Le,{className:"h-4 w-4 text-gray-400"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"newPassword",children:"新密码 *"}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{id:"newPassword",name:"newPassword",type:g.new?"text":"password",value:h.newPassword,onChange:j,required:!0,className:"pr-10"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>b(v=>({...v,new:!v.new})),children:g.new?e.jsx(sl,{className:"h-4 w-4 text-gray-400"}):e.jsx(Le,{className:"h-4 w-4 text-gray-400"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"confirmPassword",children:"确认新密码 *"}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{id:"confirmPassword",name:"confirmPassword",type:g.confirm?"text":"password",value:h.confirmPassword,onChange:j,required:!0,className:"pr-10"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>b(v=>({...v,confirm:!v.confirm})),children:g.confirm?e.jsx(sl,{className:"h-4 w-4 text-gray-400"}):e.jsx(Le,{className:"h-4 w-4 text-gray-400"})})]})]}),e.jsx(S,{type:"submit",className:"w-full",disabled:a,children:a?"修改中...":e.jsxs(e.Fragment,{children:[e.jsx(Qs,{className:"w-4 h-4 mr-2"}),"修改密码"]})})]})})]})}),e.jsx(ee,{value:"permissions",children:e.jsxs(R,{children:[e.jsxs(O,{children:[e.jsx(L,{children:"权限信息"}),e.jsx(ds,{children:"查看您当前的角色权限"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"当前角色"}),e.jsx(V,{className:y(s.role),variant:"outline",children:T(s.role)})]}),e.jsx(Gs,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"权限列表"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:s.permissions.map((v,P)=>e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(fe,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-gray-700",children:v.replace(/_/g," ").replace(/\b\w/g,k=>k.toUpperCase())})]},P))})]}),s.role!=="admin"&&e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:e.jsx("p",{className:"text-sm text-blue-700",children:"如需更多权限，请联系系统管理员申请角色变更。"})})]})})]})})]})})]})]})})},On=o.forwardRef(({className:s,...t},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:X("w-full caption-bottom text-sm",s),...t})}));On.displayName="Table";const _n=o.forwardRef(({className:s,...t},a)=>e.jsx("thead",{ref:a,className:X("[&_tr]:border-b",s),...t}));_n.displayName="TableHeader";const Ln=o.forwardRef(({className:s,...t},a)=>e.jsx("tbody",{ref:a,className:X("[&_tr:last-child]:border-0",s),...t}));Ln.displayName="TableBody";const kM=o.forwardRef(({className:s,...t},a)=>e.jsx("tfoot",{ref:a,className:X("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...t}));kM.displayName="TableFooter";const Hs=o.forwardRef(({className:s,...t},a)=>e.jsx("tr",{ref:a,className:X("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...t}));Hs.displayName="TableRow";const Xe=o.forwardRef(({className:s,...t},a)=>e.jsx("th",{ref:a,className:X("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...t}));Xe.displayName="TableHead";const Re=o.forwardRef(({className:s,...t},a)=>e.jsx("td",{ref:a,className:X("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...t}));Re.displayName="TableCell";const MM=o.forwardRef(({className:s,...t},a)=>e.jsx("caption",{ref:a,className:X("mt-4 text-sm text-muted-foreground",s),...t}));MM.displayName="TableCaption";const Th=o.createContext(void 0),Ge=({children:s,open:t,onOpenChange:a})=>e.jsx(Th.Provider,{value:{open:t||!1,onOpenChange:a||(()=>{})},children:s}),Ta=o.forwardRef(({onClick:s,asChild:t,children:a,...n},r)=>{const l=o.useContext(Th);if(!l)throw new Error("DialogTrigger must be used within Dialog");const i=c=>{s==null||s(c),l.onOpenChange(!0)};return t&&o.isValidElement(a)?o.cloneElement(a,{...n,onClick:i,ref:r}):e.jsx("button",{ref:r,onClick:i,...n,children:a})});Ta.displayName="DialogTrigger";const Be=o.forwardRef(({className:s,children:t,...a},n)=>{const r=o.useContext(Th);if(!r)throw new Error("DialogContent must be used within Dialog");return r.open?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>r.onOpenChange(!1)}),e.jsx("div",{ref:n,className:X("relative z-50 w-full max-w-lg rounded-lg bg-white p-6 shadow-lg",s),...a,children:t})]}):null});Be.displayName="DialogContent";const We=o.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:X("mb-4",s),...t}));We.displayName="DialogHeader";const Ve=o.forwardRef(({className:s,...t},a)=>e.jsx("h2",{ref:a,className:X("text-lg font-semibold",s),...t}));Ve.displayName="DialogTitle";const Ji=o.forwardRef(({className:s,...t},a)=>e.jsx("p",{ref:a,className:X("text-sm text-gray-600",s),...t}));Ji.displayName="DialogDescription";const Wn=o.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:X("mt-6 flex justify-end space-x-2",s),...t}));Wn.displayName="DialogFooter";const PM=({children:s,requiredPermission:t,requiredRole:a,allowedRoles:n=[],fallbackPath:r="/login"})=>{const{user:l,isLoading:i,hasPermission:c,hasRole:d}=rs(),m=nn();return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"验证身份中..."})]})}):l?l.isActive?a&&!d(a)?e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs(ue,{className:"border-orange-200 bg-orange-50",children:[e.jsx(Qs,{className:"h-4 w-4 text-orange-600"}),e.jsxs(xe,{className:"text-orange-700",children:["您没有访问此页面的权限。需要 ",a," 角色。"]})]})})}):n.length>0&&!n.includes(l.role)?e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs(ue,{className:"border-orange-200 bg-orange-50",children:[e.jsx(Qs,{className:"h-4 w-4 text-orange-600"}),e.jsxs(xe,{className:"text-orange-700",children:["您没有访问此页面的权限。需要以下角色之一: ",n.join(", ")]})]})})}):t&&!c(t)?e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs(ue,{className:"border-orange-200 bg-orange-50",children:[e.jsx(Qs,{className:"h-4 w-4 text-orange-600"}),e.jsxs(xe,{className:"text-orange-700",children:["您没有执行此操作的权限。需要权限: ",t]})]})})}):e.jsx(e.Fragment,{children:s}):e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs(ue,{className:"border-red-200 bg-red-50",children:[e.jsx(Me,{className:"h-4 w-4 text-red-600"}),e.jsx(xe,{className:"text-red-700",children:"您的账户已被禁用，请联系管理员。"})]})})}):e.jsx(St,{to:r,state:{from:m},replace:!0})},qp=()=>{const{user:s}=rs(),[t,a]=o.useState([]),[n,r]=o.useState([]),[l,i]=o.useState(""),[c,d]=o.useState("all"),[m,u]=o.useState("all"),[h,p]=o.useState(!0),[g,b]=o.useState(""),[N,j]=o.useState("success"),[x,f]=o.useState(null),[w,D]=o.useState(!1),[y,T]=o.useState(!1),[v,P]=o.useState({name:"",email:"",studentId:"",role:"student",department:"",phone:"",password:""});o.useEffect(()=>{(async()=>{p(!0),await new Promise(B=>setTimeout(B,1e3));const $=[{id:"1",name:"张三",email:"zhangsan@hust.edu.cn",studentId:"D202377777",role:"student",department:"机械科学与工程学院",phone:"13800138000",isActive:!0,lastLogin:new Date("2024-01-15"),createdAt:new Date("2024-01-01")},{id:"2",name:"李教授",email:"li.prof@hust.edu.cn",role:"professor",department:"机械科学与工程学院",phone:"13800138001",isActive:!0,lastLogin:new Date("2024-01-16"),createdAt:new Date("2024-01-01")},{id:"3",name:"陈秘书",email:"chen.sec@hust.edu.cn",role:"secretary",department:"机械科学与工程学院",phone:"13800138002",isActive:!0,lastLogin:new Date("2024-01-14"),createdAt:new Date("2024-01-01")},{id:"4",name:"王小明",email:"wangxiaoming@hust.edu.cn",studentId:"D202377778",role:"student",department:"机械科学与工程学院",phone:"13800138003",isActive:!1,lastLogin:new Date("2024-01-10"),createdAt:new Date("2024-01-01")}];a($),r($),p(!1)})()},[]),o.useEffect(()=>{let F=t;l&&(F=F.filter($=>$.name.toLowerCase().includes(l.toLowerCase())||$.email.toLowerCase().includes(l.toLowerCase())||$.studentId&&$.studentId.toLowerCase().includes(l.toLowerCase()))),c!=="all"&&(F=F.filter($=>$.role===c)),m!=="all"&&(F=F.filter($=>m==="active"?$.isActive:!$.isActive)),r(F)},[t,l,c,m]);const k=F=>{switch(F){case"student":return"bg-blue-100 text-blue-800";case"professor":return"bg-green-100 text-green-800";case"secretary":return"bg-orange-100 text-orange-800";case"admin":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},C=F=>{switch(F){case"student":return"学生";case"professor":return"教授";case"secretary":return"秘书";case"admin":return"管理员";default:return F}},M=async F=>{try{const $=t.find(B=>B.id===F);if(!$)return;await new Promise(B=>setTimeout(B,500)),a(B=>B.map(A=>A.id===F?{...A,isActive:!A.isActive}:A)),b(`用户 ${$.name} 已${$.isActive?"禁用":"激活"}`),j("success"),setTimeout(()=>b(""),3e3)}catch{b("操作失败，请重试"),j("error")}},z=async F=>{if(confirm("确定要删除这个用户吗？此操作无法撤销。"))try{await new Promise($=>setTimeout($,500)),a($=>$.filter(B=>B.id!==F)),b("用户删除成功"),j("success"),setTimeout(()=>b(""),3e3)}catch{b("删除失败，请重试"),j("error")}},I=async F=>{if(F.preventDefault(),!v.name||!v.email||!v.password){b("请填写所有必填字段"),j("error");return}try{p(!0),await new Promise(B=>setTimeout(B,1e3));const $={id:Date.now().toString(),...v,isActive:!0,createdAt:new Date};a(B=>[...B,$]),T(!1),P({name:"",email:"",studentId:"",role:"student",department:"",phone:"",password:""}),b("用户创建成功"),j("success"),setTimeout(()=>b(""),3e3)}catch{b("创建失败，请重试"),j("error")}finally{p(!1)}};return e.jsx(PM,{requiredPermission:"manage_users",children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[e.jsx(He,{className:"w-8 h-8 mr-3"}),"用户管理"]}),e.jsx("p",{className:"mt-2 text-gray-600",children:"管理系统中的所有用户账户"})]}),e.jsxs(Ge,{open:y,onOpenChange:T,children:[e.jsx(Ta,{asChild:!0,children:e.jsxs(S,{children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"添加用户"]})}),e.jsxs(Be,{className:"max-w-md",children:[e.jsxs(We,{children:[e.jsx(Ve,{children:"创建新用户"}),e.jsx(Ji,{children:"添加新的用户账户到系统中"})]}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"create-name",children:"姓名 *"}),e.jsx(se,{id:"create-name",value:v.name,onChange:F=>P($=>({...$,name:F.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"create-email",children:"邮箱 *"}),e.jsx(se,{id:"create-email",type:"email",value:v.email,onChange:F=>P($=>({...$,email:F.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"create-password",children:"密码 *"}),e.jsx(se,{id:"create-password",type:"password",value:v.password,onChange:F=>P($=>({...$,password:F.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"create-role",children:"角色"}),e.jsxs(ie,{value:v.role,onValueChange:F=>P($=>({...$,role:F})),children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"student",children:"学生"}),e.jsx(W,{value:"professor",children:"教授"}),e.jsx(W,{value:"secretary",children:"秘书"}),e.jsx(W,{value:"admin",children:"管理员"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"create-department",children:"院系"}),e.jsx(se,{id:"create-department",value:v.department,onChange:F=>P($=>({...$,department:F.target.value}))})]}),v.role==="student"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"create-studentId",children:"学号"}),e.jsx(se,{id:"create-studentId",value:v.studentId,onChange:F=>P($=>({...$,studentId:F.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"create-phone",children:"电话"}),e.jsx(se,{id:"create-phone",value:v.phone,onChange:F=>P($=>({...$,phone:F.target.value}))})]}),e.jsx(S,{type:"submit",className:"w-full",disabled:h,children:h?"创建中...":"创建用户"})]})]})]})]})}),g&&e.jsxs(ue,{className:`mb-6 ${N==="success"?"border-green-200 bg-green-50":""}`,children:[N==="success"?e.jsx(fe,{className:"h-4 w-4 text-green-600"}):e.jsx(Me,{className:"h-4 w-4"}),e.jsx(xe,{className:N==="success"?"text-green-700":"",children:g})]}),e.jsx(R,{className:"mb-6",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"search",children:"搜索用户"}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(se,{id:"search",placeholder:"姓名、邮箱或学号",value:l,onChange:F=>i(F.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"role-filter",children:"角色筛选"}),e.jsxs(ie,{value:c,onValueChange:d,children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"所有角色"}),e.jsx(W,{value:"student",children:"学生"}),e.jsx(W,{value:"professor",children:"教授"}),e.jsx(W,{value:"secretary",children:"秘书"}),e.jsx(W,{value:"admin",children:"管理员"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"status-filter",children:"状态筛选"}),e.jsxs(ie,{value:m,onValueChange:u,children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"所有状态"}),e.jsx(W,{value:"active",children:"已激活"}),e.jsx(W,{value:"inactive",children:"已禁用"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"统计信息"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["总用户: ",t.length," | 激活: ",t.filter(F=>F.isActive).length]})]})]})})}),e.jsxs(R,{children:[e.jsxs(O,{children:[e.jsx(L,{children:"用户列表"}),e.jsxs(ds,{children:["显示 ",n.length," 个用户"]})]}),e.jsx(E,{children:h?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"加载中..."})]}):e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs(On,{children:[e.jsx(_n,{children:e.jsxs(Hs,{children:[e.jsx(Xe,{children:"用户信息"}),e.jsx(Xe,{children:"角色"}),e.jsx(Xe,{children:"院系"}),e.jsx(Xe,{children:"状态"}),e.jsx(Xe,{children:"最后登录"}),e.jsx(Xe,{children:"操作"})]})}),e.jsx(Ln,{children:n.map(F=>e.jsxs(Hs,{children:[e.jsx(Re,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:F.name}),e.jsx("div",{className:"text-sm text-gray-500",children:F.email}),F.studentId&&e.jsx("div",{className:"text-xs text-gray-400",children:F.studentId})]})}),e.jsx(Re,{children:e.jsx(V,{className:k(F.role),children:C(F.role)})}),e.jsx(Re,{className:"text-sm",children:F.department}),e.jsx(Re,{children:e.jsx(V,{variant:F.isActive?"default":"secondary",children:F.isActive?"正常":"禁用"})}),e.jsx(Re,{className:"text-sm",children:F.lastLogin?F.lastLogin.toLocaleDateString("zh-CN"):"从未登录"}),e.jsx(Re,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{variant:"outline",size:"sm",onClick:()=>{f(F),D(!0)},children:e.jsx(Le,{className:"w-4 h-4"})}),e.jsx(S,{variant:"outline",size:"sm",onClick:()=>M(F.id),className:F.isActive?"text-red-600 hover:text-red-700":"text-green-600 hover:text-green-700",children:F.isActive?e.jsx(mh,{className:"w-4 h-4"}):e.jsx(Ea,{className:"w-4 h-4"})}),F.id!==(s==null?void 0:s.id)&&e.jsx(S,{variant:"outline",size:"sm",onClick:()=>z(F.id),className:"text-red-600 hover:text-red-700",children:e.jsx(ut,{className:"w-4 h-4"})})]})})]},F.id))})]}),n.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"没有找到匹配的用户"})]})})]}),e.jsx(Ge,{open:w,onOpenChange:D,children:e.jsxs(Be,{className:"max-w-md",children:[e.jsx(We,{children:e.jsx(Ve,{children:"用户详情"})}),x&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"姓名"}),e.jsx("p",{className:"text-sm font-medium",children:x.name})]}),e.jsxs("div",{children:[e.jsx(H,{children:"邮箱"}),e.jsx("p",{className:"text-sm",children:x.email})]}),x.studentId&&e.jsxs("div",{children:[e.jsx(H,{children:"学号"}),e.jsx("p",{className:"text-sm",children:x.studentId})]}),e.jsxs("div",{children:[e.jsx(H,{children:"角色"}),e.jsx("p",{className:"text-sm",children:e.jsx(V,{className:k(x.role),children:C(x.role)})})]}),e.jsxs("div",{children:[e.jsx(H,{children:"院系"}),e.jsx("p",{className:"text-sm",children:x.department})]}),x.phone&&e.jsxs("div",{children:[e.jsx(H,{children:"电话"}),e.jsx("p",{className:"text-sm",children:x.phone})]}),e.jsxs("div",{children:[e.jsx(H,{children:"账户状态"}),e.jsx("p",{className:"text-sm",children:e.jsx(V,{variant:x.isActive?"default":"secondary",children:x.isActive?"正常":"禁用"})})]}),e.jsxs("div",{children:[e.jsx(H,{children:"创建时间"}),e.jsx("p",{className:"text-sm",children:x.createdAt.toLocaleString("zh-CN")})]}),e.jsxs("div",{children:[e.jsx(H,{children:"最后登录"}),e.jsx("p",{className:"text-sm",children:x.lastLogin?x.lastLogin.toLocaleString("zh-CN"):"从未登录"})]})]})]})})]})})})},te=o.forwardRef(({className:s,value:t=0,max:a=100,...n},r)=>{const l=Math.min(Math.max(0,t/a*100),100);return e.jsx("div",{ref:r,className:X("relative h-2 w-full overflow-hidden rounded-full bg-gray-200",s),...n,children:e.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300 ease-in-out",style:{width:`${l}%`}})})});te.displayName="Progress";const Hp=()=>{var x;const[s,t]=o.useState(4),[a]=o.useState(8),[n,r]=o.useState(null),[l,i]=o.useState(!1),[c]=o.useState([{id:"1",title:"项目启动会",description:"轮转课程项目启动和任务分配",week:1,status:"completed",type:"meeting",date:new Date("2024-01-15"),details:"参与导师介绍研究方向，明确轮转期间的学习目标和任务安排。"},{id:"2",title:"文献综述提交",description:"提交相关领域文献综述报告",week:2,status:"completed",type:"submission",date:new Date("2024-01-22"),details:"完成至少20篇相关文献的调研，形成3000字左右的综述报告。"},{id:"3",title:"中期汇报",description:"项目进展情况中期汇报",week:3,status:"completed",type:"presentation",date:new Date("2024-01-29"),details:"向导师和实验室成员汇报前期学习成果和研究进展。"},{id:"4",title:"实验数据收集",description:"开始核心实验数据收集工作",week:4,status:"current",type:"experiment",date:new Date("2024-02-05"),details:"根据研究计划开展实验，收集关键数据，预计持续2-3周。"},{id:"5",title:"数据分析完成",description:"完成实验数据的初步分析",week:6,status:"upcoming",type:"deadline",date:new Date("2024-02-19"),details:"运用统计方法和相关软件完成数据分析，形成初步结论。"},{id:"6",title:"成果海报制作",description:"制作轮转成果展示海报",week:7,status:"upcoming",type:"submission",date:new Date("2024-02-26"),details:"设计并制作学术海报，准备在实验室内部或学院内展示。"},{id:"7",title:"终期答辩",description:"轮转课程终期答辩展示",week:8,status:"upcoming",type:"presentation",date:new Date("2024-03-05"),details:"向评审委员会展示轮转期间的学习成果和研究收获。"}]),d=Array.from({length:a},(f,w)=>{const D=w+1,y=c.filter(v=>v.week===D);let T;return D<s?T="completed":D===s?T="current":T="upcoming",{weekNumber:D,status:T,milestones:y}}),m=Math.round(s/a*100),u=c.filter(f=>f.status==="completed").length,h=c.length,p=f=>{switch(f){case"completed":return e.jsx(fe,{className:"w-4 h-4 text-green-600"});case"current":return e.jsx(ui,{className:"w-4 h-4 text-blue-600"});case"upcoming":return e.jsx(oa,{className:"w-4 h-4 text-gray-400"});default:return e.jsx(oa,{className:"w-4 h-4 text-gray-400"})}},g=f=>{switch(f){case"meeting":return e.jsx(He,{className:"w-4 h-4"});case"submission":return e.jsx(Ne,{className:"w-4 h-4"});case"presentation":return e.jsx(rt,{className:"w-4 h-4"});case"experiment":return e.jsx(xs,{className:"w-4 h-4"});case"deadline":return e.jsx(Ce,{className:"w-4 h-4"});default:return e.jsx(dr,{className:"w-4 h-4"})}},b=f=>{switch(f){case"completed":return"bg-green-100 text-green-800";case"current":return"bg-blue-100 text-blue-800";case"upcoming":return"bg-gray-100 text-gray-600";default:return"bg-gray-100 text-gray-600"}},N=f=>{switch(f){case"completed":return"已完成";case"current":return"进行中";case"upcoming":return"未开始";default:return"未知"}},j=f=>{r(f),i(!0)};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[e.jsx(hs,{className:"w-8 h-8 mr-3"}),"轮转进度时间轴"]}),e.jsx("p",{className:"mt-2 text-gray-600",children:"跟踪轮转课程的进度和重要里程碑"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["第",s,"周/",a,"周"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["当前进度 ",m,"%"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(R,{children:e.jsxs(E,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"整体进度"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[m,"%"]})]}),e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(xs,{className:"w-8 h-8 text-blue-600"})})]}),e.jsx(te,{value:m,className:"mt-4"})]})}),e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"已完成里程碑"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[u,"/",h]})]}),e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(fe,{className:"w-8 h-8 text-green-600"})})]})})}),e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"当前周次"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["第",s,"周"]})]}),e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Ce,{className:"w-8 h-8 text-purple-600"})})]})})})]}),e.jsxs(R,{className:"mb-8",children:[e.jsxs(O,{children:[e.jsx(L,{children:"进度时间轴"}),e.jsx(ds,{children:"水平时间轴显示轮转课程各周进度和关键节点"})]}),e.jsx(E,{children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"flex items-center justify-between mb-8",children:d.map((f,w)=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["第",f.weekNumber,"周"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${f.status==="completed"?"bg-green-500 border-green-500":f.status==="current"?"bg-blue-500 border-blue-500":"bg-white border-gray-300"}`,children:[f.status==="completed"&&e.jsx(fe,{className:"w-4 h-4 text-white"}),f.status==="current"&&e.jsx(ui,{className:"w-4 h-4 text-white"})]}),w<d.length-1&&e.jsx("div",{className:`absolute top-3 left-6 w-24 h-0.5 ${f.status==="completed"?"bg-green-500":"bg-gray-300"}`})]}),f.milestones.length>0&&e.jsx("div",{className:"mt-4 space-y-1",children:f.milestones.map(D=>e.jsxs("button",{onClick:()=>j(D),className:"block text-xs text-center p-2 bg-white rounded border hover:shadow-md transition-shadow max-w-24",children:[e.jsx("div",{className:"flex items-center justify-center mb-1",children:g(D.type)}),e.jsx("div",{className:"truncate",children:D.title})]},D.id))})]},f.weekNumber))})}),e.jsx("div",{className:"md:hidden space-y-4",children:d.map(f=>e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center ${f.status==="completed"?"bg-green-500 border-green-500":f.status==="current"?"bg-blue-500 border-blue-500":"bg-white border-gray-300"}`,children:p(f.status)}),f.weekNumber<a&&e.jsx("div",{className:`w-0.5 h-8 ${f.status==="completed"?"bg-green-500":"bg-gray-300"}`})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-medium",children:["第",f.weekNumber,"周"]}),e.jsx(V,{className:b(f.status),children:N(f.status)})]}),f.milestones.length>0&&e.jsx("div",{className:"mt-2 space-y-2",children:f.milestones.map(w=>e.jsxs("button",{onClick:()=>j(w),className:"w-full text-left p-3 bg-white rounded-lg border hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[g(w.type),e.jsx("span",{className:"font-medium",children:w.title})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.description})]},w.id))})]})]},f.weekNumber))})]})})]}),e.jsxs(R,{children:[e.jsxs(O,{children:[e.jsx(L,{children:"里程碑事件"}),e.jsx(ds,{children:"轮转课程的关键节点和任务"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:c.map(f=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border hover:shadow-md transition-shadow cursor-pointer",onClick:()=>j(f),children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[p(f.status),g(f.type)]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:f.title}),e.jsx("p",{className:"text-sm text-gray-600",children:f.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium",children:["第",f.week,"周"]}),e.jsx(V,{className:b(f.status),children:N(f.status)})]})]},f.id))})})]}),e.jsx(Ge,{open:l,onOpenChange:i,children:e.jsxs(Be,{className:"max-w-md",children:[e.jsxs(We,{children:[e.jsxs(Ve,{className:"flex items-center space-x-2",children:[n&&g(n.type),e.jsx("span",{children:n==null?void 0:n.title})]}),e.jsxs(Ji,{children:["第",n==null?void 0:n.week,"周 • ",(x=n==null?void 0:n.date)==null?void 0:x.toLocaleDateString("zh-CN")]})]}),n&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"状态"}),e.jsx("div",{className:"mt-1",children:e.jsx(V,{className:b(n.status),children:N(n.status)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"描述"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:n.description})]}),n.details&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"详细说明"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:n.details})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(S,{variant:"outline",onClick:()=>i(!1),children:"关闭"})})]})]})})]})})},TM=()=>{const{user:s}=rs(),t=Qe();if(!s)return e.jsx(St,{to:"/login",replace:!0});const n={student:[{icon:Es,title:"学生仪表盘",description:"专属学生功能面板",color:"bg-blue-500",path:"/dashboard/student"},{icon:hs,title:"实验室轮转",description:"查看轮转课程各阶段",color:"bg-green-500",path:"/lab-rotation/preparation/course-publish"},{icon:na,title:"志愿填报",description:"填报导师选择志愿",color:"bg-red-500",path:"/lab-rotation/matching/student-preference"},{icon:Rp,title:"任务看板",description:"查看和管理学习任务进度",color:"bg-orange-500",path:"/lab-rotation/management/progress-tracking"},{icon:xt,title:"师生互动",description:"与导师进行在线讨论",color:"bg-cyan-500",path:"/lab-rotation/management/weekly-meeting"},{icon:An,title:"即时通讯",description:"实时消息沟通和文件传输",color:"bg-teal-500",path:"/lab-rotation/management/instant-messaging"},{icon:my,title:"海报设计",description:"在线设计学术海报",color:"bg-purple-500",path:"/lab-rotation/verification/poster-designer"},{icon:Ce,title:"进度时间轴",description:"查看课程进度和里程碑",color:"bg-indigo-500",path:"/lab-rotation/preparation/course-timeline"},{icon:Ne,title:"学习报告",description:"提交和查看学习报告",color:"bg-yellow-500",path:"/lab-rotation/management/learning-report"},{icon:Ne,title:"大报告提交",description:"使用结构化模板提交研究报告",color:"bg-pink-500",path:"/lab-rotation/verification/research-report"},{icon:hs,title:"答辩安排",description:"查看答辩时间和评委安排",color:"bg-rose-500",path:"/lab-rotation/verification/defense-scheduling"},{icon:aa,title:"成绩查询",description:"查看各科成绩和排名",color:"bg-purple-500",path:"/lab-rotation/grading/grade-inquiry"},{icon:Ne,title:"综合素质填报",description:"填写综合素质评价信息",color:"bg-emerald-500",path:"/quality-assessment/collection/information-collection-form"}],professor:[{icon:He,title:"教授仪表盘",description:"专属教授功能面板",color:"bg-blue-500",path:"/dashboard/professor"},{icon:G3,title:"学生筛选",description:"筛选和管理学生申请",color:"bg-cyan-500",path:"/lab-rotation/matching/mentor-screening"},{icon:Es,title:"课程发布",description:"发布实验室轮转课程",color:"bg-green-500",path:"/lab-rotation/preparation/course-publish"},{icon:QN,title:"任务发布",description:"发布周任务和学习目标",color:"bg-teal-500",path:"/lab-rotation/management/task-publishing"},{icon:Rp,title:"任务追踪",description:"查看学生任务完成情况",color:"bg-orange-500",path:"/lab-rotation/management/progress-tracking"},{icon:xt,title:"师生互动",description:"与学生进行在线讨论",color:"bg-cyan-500",path:"/lab-rotation/management/weekly-meeting"},{icon:An,title:"即时通讯",description:"实时消息沟通和文件传输",color:"bg-teal-500",path:"/lab-rotation/management/instant-messaging"},{icon:Ea,title:"导师管理",description:"管理导师资源信息",color:"bg-indigo-500",path:"/lab-rotation/preparation/mentor-management"},{icon:Ce,title:"进度时间轴",description:"查看课程进度和里程碑",color:"bg-indigo-500",path:"/lab-rotation/preparation/course-timeline"},{icon:_x,title:"宣讲会管理",description:"管理Intro Session",color:"bg-pink-500",path:"/lab-rotation/preparation/seminar-management"},{icon:Ne,title:"多维度评分",description:"对学生进行多维度评价打分",color:"bg-yellow-500",path:"/lab-rotation/grading/multidimensional-scoring"},{icon:aa,title:"批量评分",description:"批量处理学生评分",color:"bg-purple-500",path:"/lab-rotation/grading/batch-scoring"},{icon:Ne,title:"思想品德评价",description:"评价学生思想品德",color:"bg-rose-500",path:"/quality-assessment/evaluation/moral-character-evaluation"}],secretary:[{icon:He,title:"秘书仪表盘",description:"专属秘书功能面板",color:"bg-blue-500",path:"/dashboard/secretary"},{icon:Ea,title:"导师管理",description:"管理导师资源信息",color:"bg-indigo-500",path:"/lab-rotation/preparation/mentor-management"},{icon:Qs,title:"专家组管理",description:"管理评审专家组成员",color:"bg-emerald-500",path:"/quality-assessment/preparation/expert-group-management"},{icon:ty,title:"匹配算法",description:"双选匹配流程可视化",color:"bg-purple-500",path:"/lab-rotation/matching/matching-visualization"},{icon:Je,title:"系统设置",description:"配置系统参数",color:"bg-green-500",path:"/admin/user-management"},{icon:KN,title:"发布课程",description:"发布实验室轮转课程",color:"bg-orange-500",path:"/lab-rotation/preparation/course-publish"},{icon:Ce,title:"时间线规划",description:"规划评价时间节点",color:"bg-indigo-500",path:"/quality-assessment/preparation/timeline-planning"},{icon:_x,title:"宣讲会管理",description:"管理Intro Session",color:"bg-pink-500",path:"/lab-rotation/preparation/seminar-management"},{icon:Rx,title:"档案归档系统",description:"永久保存评价材料",color:"bg-slate-500",path:"/quality-assessment/application/archive-filing-system"},{icon:Ne,title:"初审工作台",description:"审核学生提交材料",color:"bg-yellow-500",path:"/quality-assessment/collection/preliminary-review-workbench"},{icon:aa,title:"实时数据仪表盘",description:"实时数据可视化和异常预警",color:"bg-cyan-500",path:"/data/realtime-data-dashboard"},{icon:aa,title:"预测分析系统",description:"学生表现预测和风险评估",color:"bg-violet-500",path:"/data/predictive-analytics"},{icon:Ne,title:"报告生成",description:"生成各类统计报告",color:"bg-purple-500",path:"/quality-assessment/application/report-generator"},{icon:He,title:"实验班筛选",description:"根据评价结果筛选学生",color:"bg-red-500",path:"/quality-assessment/application/experimental-class-screening"}],admin:[{icon:He,title:"管理员仪表盘",description:"系统管理员功能面板",color:"bg-red-500",path:"/dashboard/admin"},{icon:Je,title:"用户管理",description:"管理系统用户和权限",color:"bg-blue-500",path:"/admin/user-management"},{icon:Qs,title:"系统设置",description:"配置系统参数和安全设置",color:"bg-green-500",path:"/admin/system-settings"},{icon:aa,title:"数据分析",description:"查看系统使用统计和分析",color:"bg-purple-500",path:"/data/data-analysis-center"}]}[s.role]||[];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Pe,{}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["欢迎回来，",s.name]}),e.jsxs("p",{className:"text-gray-600",children:["您当前的身份是：",e.jsx("span",{className:"font-medium ml-1",children:s.role==="student"?"学生":s.role==="professor"?"教师":s.role==="secretary"?"秘书":"管理员"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((r,l)=>{const i=r.icon;return e.jsxs(R,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>r.path&&t(r.path),children:[e.jsxs(O,{children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:`w-12 h-12 ${r.color} rounded-lg flex items-center justify-center`,children:e.jsx(i,{className:"w-6 h-6 text-white"})})}),e.jsx(L,{className:"text-lg",children:r.title})]}),e.jsx(E,{children:e.jsx(ds,{children:r.description})})]},l)})}),e.jsx("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"提示："}),s.role==="student"&&"作为学生，您可以查看课程、管理实验室轮转和提交学习报告。",s.role==="professor"&&"作为教师，您可以管理学生、课程和进行学生评价。",s.role==="secretary"&&"作为秘书，您可以协调评价流程、管理专家组和处理申诉。",s.role==="admin"&&"作为管理员，您拥有系统的完全访问权限。"]})})]}),e.jsx(Te,{})]})};function Gp(){const s=Qe(),[t,a]=o.useState(""),[n,r]=o.useState(""),[l,i]=o.useState("8"),[c,d]=o.useState("sophomore"),[m,u]=o.useState({processEvaluation:!0,posterPresentation:!0,finalReport:!0}),[h,p]=o.useState(""),[g,b]=o.useState({systemNotification:!0,email:!0,wechat:!1}),[N,j]=o.useState("all-experimental-students"),x=()=>{console.log("保存草稿:",{courseName:t,courseGoal:n,duration:l,targetAudience:c,assessmentMethods:m,publishTime:h,publishChannels:g,targetGroup:N,status:"draft"}),alert("草稿已保存")},f=()=>{console.log("保存为模板:",{courseName:t,courseGoal:n,duration:l,targetAudience:c,assessmentMethods:m,publishChannels:g,targetGroup:N}),alert("已保存为模板")},w=()=>{if(!t||!n||!h){alert("请填写必填字段");return}console.log("立即发布:",{courseName:t,courseGoal:n,duration:l,targetAudience:c,assessmentMethods:m,publishTime:h,publishChannels:g,targetGroup:N,status:"published"}),alert("课程已发布"),s("/dashboard")},D=()=>{if(!t||!n||!h){alert("请填写必填字段");return}console.log("定时发布:",{courseName:t,courseGoal:n,duration:l,targetAudience:c,assessmentMethods:m,publishTime:h,publishChannels:g,targetGroup:N,status:"scheduled"}),alert(`课程将于 ${h} 发布`),s("/dashboard")},y=()=>{console.log("预览功能"),alert("预览功能开发中")};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"发布实验室轮转课程"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{variant:"outline",onClick:y,children:"预览"}),e.jsx(S,{variant:"outline",onClick:x,children:"保存草稿"})]})]}),e.jsxs(R,{className:"mb-6",children:[e.jsx(O,{children:e.jsx(L,{children:"基础信息"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"courseName",children:"课程名称"}),e.jsx(se,{id:"courseName",value:t,onChange:T=>a(T.target.value),placeholder:"请输入课程名称",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"courseGoal",children:"课程目标"}),e.jsx("textarea",{id:"courseGoal",value:n,onChange:T=>r(T.target.value),placeholder:"请输入课程目标...",className:"mt-1 w-full min-h-[120px] px-3 py-2 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"duration",children:"时长"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(se,{id:"duration",type:"number",value:l,onChange:T=>i(T.target.value),className:"w-20"}),e.jsx("span",{className:"text-gray-600",children:"周"})]})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"targetAudience",children:"参与对象"}),e.jsxs(ie,{value:c,onValueChange:d,children:[e.jsx(re,{id:"targetAudience",className:"mt-1",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"sophomore",children:"本科二年级"}),e.jsx(W,{value:"junior",children:"本科三年级"}),e.jsx(W,{value:"senior",children:"本科四年级"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"考核方式"}),e.jsxs("div",{className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"processEvaluation",checked:m.processEvaluation,onCheckedChange:T=>u(v=>({...v,processEvaluation:T}))}),e.jsx("label",{htmlFor:"processEvaluation",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"过程评价"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"posterPresentation",checked:m.posterPresentation,onCheckedChange:T=>u(v=>({...v,posterPresentation:T}))}),e.jsx("label",{htmlFor:"posterPresentation",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"海报展示"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"finalReport",checked:m.finalReport,onCheckedChange:T=>u(v=>({...v,finalReport:T}))}),e.jsx("label",{htmlFor:"finalReport",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"大报告"})]})]})]})]})]}),e.jsxs(R,{className:"mb-6",children:[e.jsx(O,{children:e.jsx(L,{children:"发布设置"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"publishTime",children:"发布时间"}),e.jsx(se,{id:"publishTime",type:"datetime-local",value:h,onChange:T=>p(T.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(H,{children:"发布渠道"}),e.jsxs("div",{className:"flex gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"systemNotification",checked:g.systemNotification,onCheckedChange:T=>b(v=>({...v,systemNotification:T}))}),e.jsx("label",{htmlFor:"systemNotification",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"系统通知"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"email",checked:g.email,onCheckedChange:T=>b(v=>({...v,email:T}))}),e.jsx("label",{htmlFor:"email",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"邮件"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"wechat",checked:g.wechat,onCheckedChange:T=>b(v=>({...v,wechat:T}))}),e.jsx("label",{htmlFor:"wechat",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"微信群"})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"targetGroup",children:"目标受众"}),e.jsxs(ie,{value:N,onValueChange:j,children:[e.jsx(re,{id:"targetGroup",className:"mt-1",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all-experimental-students",children:"全体实验班学生"}),e.jsx(W,{value:"selected-students",children:"部分学生"}),e.jsx(W,{value:"specific-grade",children:"特定年级"})]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(S,{variant:"outline",onClick:()=>s("/dashboard"),children:"取消"}),e.jsx(S,{variant:"outline",onClick:f,children:"保存为模板"}),e.jsx(S,{onClick:w,children:"立即发布"}),e.jsx(S,{variant:"secondary",onClick:D,children:"定时发布"})]})]})}),e.jsx(Te,{})]})}function Yp(){Qe();const[s,t]=o.useState(""),[a,n]=o.useState("all"),[r,l]=o.useState([{id:"1",name:"张教授",photo:"/placeholder-avatar.jpg",lab:"人工智能实验室",researchAreas:["深度学习","计算机视觉"],studentCapacity:"3-5人",confirmed:!0},{id:"2",name:"李教授",photo:"/placeholder-avatar.jpg",lab:"生物信息学实验室",researchAreas:["基因组学","蛋白质组学"],studentCapacity:"2-4人",confirmed:!1},{id:"3",name:"王教授",photo:"/placeholder-avatar.jpg",lab:"机器人实验室",researchAreas:["机器人控制","人机交互"],studentCapacity:"4-6人",confirmed:!0},{id:"4",name:"陈教授",photo:"/placeholder-avatar.jpg",lab:"量子计算实验室",researchAreas:["量子算法","量子纠错"],studentCapacity:"2-3人",confirmed:!1},{id:"5",name:"刘教授",photo:"/placeholder-avatar.jpg",lab:"数据科学实验室",researchAreas:["大数据分析","机器学习"],studentCapacity:"5-7人",confirmed:!0}]),i=r.length,c=r.reduce((b,N)=>{var f;const[j,x]=((f=N.studentCapacity.match(/\d+/g))==null?void 0:f.map(Number))||[0,0];return b+x},0),d=0,m=r.filter(b=>{const N=b.name.toLowerCase().includes(s.toLowerCase())||b.lab.toLowerCase().includes(s.toLowerCase())||b.researchAreas.some(x=>x.toLowerCase().includes(s.toLowerCase())),j=a==="all"||a==="confirmed"&&b.confirmed||a==="pending"&&!b.confirmed;return N&&j}),u=()=>{const b=document.createElement("input");b.type="file",b.accept=".csv,.xlsx",b.onchange=N=>{var x;const j=(x=N.target.files)==null?void 0:x[0];j&&(console.log("导入文件:",j.name),alert(`正在导入文件: ${j.name}`))},b.click()},h=()=>{console.log("导出导师名单"),alert("导师名单已导出")},p=b=>{console.log("查看导师详情:",b),alert(`查看 ${b.name} 的详细信息`)},g=b=>{console.log("编辑导师信息:",b),alert(`编辑 ${b.name} 的信息`)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"导师资源管理"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{onClick:u,variant:"outline",children:[e.jsx(Ms,{className:"w-4 h-4 mr-2"}),"批量导入"]}),e.jsxs(S,{onClick:h,variant:"outline",children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"导出名单"]}),e.jsxs(ie,{value:a,onValueChange:n,children:[e.jsxs(re,{className:"w-32",children:[e.jsx(rn,{className:"w-4 h-4 mr-2"}),e.jsx(ce,{})]}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"全部"}),e.jsx(W,{value:"confirmed",children:"已确认"}),e.jsx(W,{value:"pending",children:"待确认"})]})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:e.jsxs("div",{className:"flex justify-around text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:i}),e.jsx("div",{className:"text-sm text-gray-600",children:"总导师数"})]}),e.jsx("div",{className:"border-l border-gray-200"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c}),e.jsx("div",{className:"text-sm text-gray-600",children:"可接收学生"})]}),e.jsx("div",{className:"border-l border-gray-200"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d}),e.jsx("div",{className:"text-sm text-gray-600",children:"已分配"})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(se,{type:"text",placeholder:"搜索导师姓名、实验室或研究方向...",value:s,onChange:b=>t(b.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map(b=>e.jsxs(R,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(O,{className:"pb-4",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl text-gray-500",children:"👤"})})}),e.jsx("h3",{className:"text-lg font-semibold text-center",children:b.name}),e.jsx("p",{className:"text-sm text-gray-600 text-center",children:b.lab})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"研究方向:"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:b.researchAreas.map((N,j)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsx("span",{children:N})]},j))})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:"可带学生:"}),e.jsx("span",{className:"font-medium",children:b.studentCapacity})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:"状态:"}),e.jsx("span",{className:`flex items-center ${b.confirmed?"text-green-600":"text-orange-600"}`,children:b.confirmed?e.jsxs(e.Fragment,{children:[e.jsx(Dl,{className:"w-4 h-4 mr-1"}),"已确认"]}):e.jsxs(e.Fragment,{children:[e.jsx(Lt,{className:"w-4 h-4 mr-1"}),"待确认"]})})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>p(b),className:"flex-1",children:[e.jsx(Le,{className:"w-4 h-4 mr-1"}),"查看详情"]}),e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>g(b),className:"flex-1",children:[e.jsx(dh,{className:"w-4 h-4 mr-1"}),"编辑"]})]})]})]},b.id))}),m.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"没有找到符合条件的导师"})})]})}),e.jsx(Te,{})]})}function Kp(){Qe();const[s,t]=o.useState([{id:"1",title:"2025年实验室轮转介绍会",date:"2025-08-20",time:"14:00-16:00",location:"教学楼A101",onlineEnabled:!0,totalSeats:30,bookedSeats:25,professors:[{id:"1",name:"张教授",lab:"AI实验室",selected:!0,pptStatus:"uploaded"},{id:"2",name:"李教授",lab:"生物实验室",selected:!0,pptStatus:"uploading"},{id:"3",name:"王教授",lab:"材料实验室",selected:!1,pptStatus:"not-uploaded"}]}]),[a,n]=o.useState(!1),[r,l]=o.useState({title:"",date:"",time:"",location:"",onlineEnabled:!1,totalSeats:50}),i=(h,p)=>{t(g=>g.map(b=>b.id===h?{...b,professors:b.professors.map(N=>N.id===p?{...N,selected:!N.selected}:N)}:b))},c=(h,p)=>{const g=document.createElement("input");g.type="file",g.accept=".ppt,.pptx,.pdf",g.onchange=b=>{var j;((j=b.target.files)==null?void 0:j[0])&&(t(x=>x.map(f=>f.id===h?{...f,professors:f.professors.map(w=>w.id===p?{...w,pptStatus:"uploading"}:w)}:f)),setTimeout(()=>{t(x=>x.map(f=>f.id===h?{...f,professors:f.professors.map(w=>w.id===p?{...w,pptStatus:"uploaded"}:w)}:f))},2e3))},g.click()},d=()=>{if(!r.title||!r.date||!r.time||!r.location){alert("请填写所有必填字段");return}const h={id:Date.now().toString(),...r,bookedSeats:0,professors:[{id:"1",name:"张教授",lab:"AI实验室",selected:!1,pptStatus:"not-uploaded"},{id:"2",name:"李教授",lab:"生物实验室",selected:!1,pptStatus:"not-uploaded"},{id:"3",name:"王教授",lab:"材料实验室",selected:!1,pptStatus:"not-uploaded"},{id:"4",name:"陈教授",lab:"量子计算实验室",selected:!1,pptStatus:"not-uploaded"},{id:"5",name:"刘教授",lab:"数据科学实验室",selected:!1,pptStatus:"not-uploaded"}]};t(p=>[...p,h]),n(!1),l({title:"",date:"",time:"",location:"",onlineEnabled:!1,totalSeats:50})},m=h=>{switch(h){case"uploaded":return e.jsx(fe,{className:"w-5 h-5 text-green-500"});case"uploading":return e.jsx(ze,{className:"w-5 h-5 text-yellow-500 animate-pulse"});default:return e.jsx(ze,{className:"w-5 h-5 text-red-500"})}},u=h=>{switch(h){case"uploaded":return"已上传";case"uploading":return"上传中";default:return"未上传"}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Intro Session 管理"}),e.jsxs(S,{onClick:()=>n(!0),children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"新建宣讲会"]})]}),a&&e.jsxs(R,{className:"mb-6",children:[e.jsx(O,{children:e.jsx(L,{children:"新建宣讲会"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"title",children:"宣讲会标题"}),e.jsx(se,{id:"title",value:r.title,onChange:h=>l(p=>({...p,title:h.target.value})),placeholder:"请输入宣讲会标题"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"date",children:"日期"}),e.jsx(se,{id:"date",type:"date",value:r.date,onChange:h=>l(p=>({...p,date:h.target.value}))})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"time",children:"时间"}),e.jsx(se,{id:"time",value:r.time,onChange:h=>l(p=>({...p,time:h.target.value})),placeholder:"例如: 14:00-16:00"})]})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"location",children:"地点"}),e.jsx(se,{id:"location",value:r.location,onChange:h=>l(p=>({...p,location:h.target.value})),placeholder:"请输入宣讲会地点"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"totalSeats",children:"总座位数"}),e.jsx(se,{id:"totalSeats",type:"number",value:r.totalSeats,onChange:h=>l(p=>({...p,totalSeats:parseInt(h.target.value)||50}))})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-6",children:[e.jsx(Ae,{id:"onlineEnabled",checked:r.onlineEnabled,onCheckedChange:h=>l(p=>({...p,onlineEnabled:h}))}),e.jsx("label",{htmlFor:"onlineEnabled",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"启用线上直播"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{onClick:d,children:"创建"}),e.jsx(S,{variant:"outline",onClick:()=>n(!1),children:"取消"})]})]})]}),s.map(h=>e.jsxs(R,{className:"mb-6",children:[e.jsx(O,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(L,{children:h.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsxs("span",{children:[h.date," ",h.time]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(dr,{className:"w-4 h-4"}),e.jsx("span",{children:h.location}),h.onlineEnabled&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"+"}),e.jsx(jl,{className:"w-4 h-4"}),e.jsx("span",{children:"线上直播"})]})]})]})]})}),e.jsxs(E,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"参与教授指定"}),e.jsx("div",{className:"space-y-3",children:h.professors.map(p=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ae,{id:`prof-${p.id}`,checked:p.selected,onCheckedChange:()=>i(h.id,p.id)}),e.jsxs("label",{htmlFor:`prof-${p.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:[p.name," - ",p.lab]})]}),p.selected&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"PPT:"}),e.jsxs("div",{className:"flex items-center gap-1",children:[m(p.pptStatus),e.jsx("span",{className:"text-sm",children:u(p.pptStatus)})]}),p.pptStatus!=="uploaded"&&e.jsx(S,{size:"sm",variant:"outline",onClick:()=>c(h.id,p.id),disabled:p.pptStatus==="uploading",children:e.jsx(Ms,{className:"w-4 h-4"})})]})]},p.id))})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-semibold",children:"学生预约查看"})]}),e.jsxs("div",{className:"text-lg font-semibold text-blue-600",children:[h.bookedSeats,"/",h.totalSeats,"人已预约"]})]}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${h.bookedSeats/h.totalSeats*100}%`}})})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx(S,{variant:"outline",size:"sm",children:"查看预约名单"}),e.jsx(S,{variant:"outline",size:"sm",children:"导出签到表"}),e.jsx(S,{variant:"outline",size:"sm",children:"编辑宣讲会"})]})]})]},h.id)),s.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:'暂无宣讲会，点击"新建宣讲会"创建第一个宣讲会'})})]})}),e.jsx(Te,{})]})}function Qp(){const[s,t]=o.useState(4),a=8,n=s/a*100,r=[{id:"1",title:"项目启动会",week:1,status:"completed",description:"确定研究方向和目标"},{id:"2",title:"文献综述提交",week:2,status:"completed",description:"提交相关文献调研报告"},{id:"3",title:"中期汇报",week:3,status:"completed",description:"汇报研究进展和初步成果"},{id:"4",title:"实验数据收集",week:4,status:"in-progress",description:"第4-6周进行实验和数据收集"},{id:"5",title:"成果海报制作",week:7,status:"pending",description:"制作研究成果展示海报"},{id:"6",title:"终期答辩",week:8,status:"pending",description:"最终成果展示和答辩"}];o.useEffect(()=>{const m=setInterval(()=>{t(u=>(u>=a&&clearInterval(m),u))},5e3);return()=>clearInterval(m)},[a]);const l=m=>{switch(m){case"completed":return e.jsx(fe,{className:"w-5 h-5 text-green-500"});case"in-progress":return e.jsx(zt,{className:"w-5 h-5 text-yellow-500 animate-pulse"});default:return e.jsx(oa,{className:"w-5 h-5 text-gray-400"})}},i=m=>{switch(m){case"completed":return"已完成";case"in-progress":return"进行中";default:return"未开始"}},c=m=>m<s?"completed":m===s?"current":"pending",d=m=>{switch(m){case"completed":return"bg-green-500";case"current":return"bg-blue-500";default:return"bg-gray-300"}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(L,{children:"轮转进度时间轴"}),e.jsxs("div",{className:"text-lg font-semibold text-gray-700",children:["第",s,"周/",a,"周"]})]})}),e.jsxs(E,{children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-4 left-0 right-0 h-2 bg-gray-200 rounded-full"}),e.jsx("div",{className:"absolute top-4 left-0 h-2 bg-blue-500 rounded-full transition-all duration-500",style:{width:`${n}%`}}),e.jsx("div",{className:"relative flex justify-between pt-1",children:Array.from({length:a},(m,u)=>u+1).map(m=>{const u=c(m),h=r.find(p=>p.week===m);return e.jsxs("div",{className:"flex flex-col items-center relative",children:[u==="current"&&e.jsxs("div",{className:"absolute -top-8 flex items-center",children:[e.jsx(dr,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{className:"text-sm text-blue-500 ml-1",children:"当前位置"})]}),e.jsx("div",{className:`w-8 h-8 rounded-full ${d(u)} flex items-center justify-center text-white font-semibold text-sm relative z-10`,children:m}),e.jsxs("span",{className:"text-xs text-gray-600 mt-2",children:["第",m,"周"]}),h&&e.jsxs("div",{className:"absolute top-12 w-24 text-center",children:[e.jsx("p",{className:"text-xs text-gray-700 font-medium",children:h.title}),h.status==="completed"&&e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"(已完成)"})]})]},m)})})]})}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"里程碑事件:"}),e.jsx("div",{className:"space-y-3",children:r.map(m=>e.jsxs("div",{className:"flex items-start p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"mr-3 mt-0.5",children:l(m.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:[m.title," (第",m.week,"周)"]}),e.jsxs("span",{className:`text-sm ${m.status==="completed"?"text-green-600":m.status==="in-progress"?"text-yellow-600":"text-gray-500"}`,children:[i(m.status),m.status==="in-progress"&&m.week<7&&" ← 进行中"]})]}),m.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description})]})]},m.id))})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-700",children:"课程总进度"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[n.toFixed(0),"%"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-blue-700",children:"已完成里程碑"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[r.filter(m=>m.status==="completed").length,"/",r.length]})]})]})})]})]})})}),e.jsx(Te,{})]})}const a1=({className:s})=>{const t=nn(),n=(r=>{const l=r.split("/").filter(Boolean),i=[{label:"首页",href:"/"}];if(l.length===0)return[{label:"首页",isActive:!0}];if(l[0]==="lab-rotation")if(i.push({label:"实验室轮转课程",href:"/lab-rotation"}),l[1]){const d={preparation:"前期筹备阶段",matching:"双选匹配阶段",management:"过程管理阶段",verification:"成果验收阶段",grading:"成绩评定阶段"}[l[1]];if(d)if(i.push({label:d,href:`/lab-rotation/${l[1]}`}),l[2]){const u={"course-publish":"课程信息发布","mentor-management":"导师资源管理","seminar-management":"宣讲会管理","course-timeline":"课程时间轴","student-preference":"学生志愿填报","mentor-screening":"导师筛选工作台","matching-visualization":"匹配算法可视化","adjustment-management":"调剂管理","task-publishing":"任务发布系统","progress-tracking":"进度追踪看板","weekly-meeting":"周会管理","learning-report":"学习报告提交","instant-messaging":"师生互动","poster-designer":"海报制作工具","research-report":"大报告提交","defense-scheduling":"答辩安排","online-defense":"在线答辩平台","achievement-showcase":"成果展示墙","multidimensional-scoring":"多维度评分表","batch-scoring":"批量评分界面","grade-inquiry":"成绩查询系统","grade-analysis-report":"成绩分析报告"}[l[2]];u&&i.push({label:u,isActive:!0})}else i[i.length-1].isActive=!0}else i[i.length-1].isActive=!0;else if(l[0]==="quality-assessment")if(i.push({label:"综合素质评价课程",href:"/quality-assessment"}),l[1]){const d={preparation:"评价准备阶段",collection:"信息采集阶段",evaluation:"多维度评价阶段",calculation:"综合核算阶段",application:"结果应用阶段"}[l[1]];if(d)if(i.push({label:d,href:`/quality-assessment/${l[1]}`}),l[2]){const u={"evaluation-plan-publishing":"评价方案发布","expert-group-management":"专家组管理","evaluation-standard-config":"评价标准配置","timeline-planning":"时间线规划","information-collection-form":"信息采集表设计","material-upload-system":"材料上传系统","ocr-recognition-integration":"OCR识别集成","preliminary-review-workbench":"初审工作台","progress-tracking-panel":"进度追踪面板","dimensional-scoring":"分维度评分界面","grade-import-system":"成绩导入系统","expert-review-platform":"专家评审平台","scoring-calibration-tool":"评分校准工具","realtime-statistics-panel":"实时统计面板","moral-character-evaluation":"思想品德评价","automatic-calculation-engine":"自动计算引擎","grade-preview":"成绩预览界面","anomaly-detection":"异常检测系统","review-confirmation":"审核确认流程","grade-locking":"成绩锁定机制","grade-announcement":"成绩公示系统","appeal-management":"申诉管理平台","experimental-class-screening":"实验班筛选工具","archive-filing-system":"档案归档系统","report-generator":"报告生成器"}[l[2]];u&&i.push({label:u,isActive:!0})}else i[i.length-1].isActive=!0}else i[i.length-1].isActive=!0;else if(l[0]==="dashboard")if(i.push({label:"仪表盘",href:"/dashboard"}),l[1]){const d={student:"学生仪表盘",professor:"教授仪表盘",secretary:"秘书仪表盘",leader:"领导仪表盘"}[l[1]];d&&i.push({label:d,isActive:!0})}else i[i.length-1].isActive=!0;else{const d={login:"登录",register:"注册",profile:"个人资料","user-management":"用户管理","notification-center":"通知中心","data-analysis-center":"数据分析中心","ai-teaching-assistant":"AI教学助手","social-learning-network":"社交学习网络","resource-sharing-center":"资源共享中心"}[l[0]];d?i.push({label:d,isActive:!0}):i.push({label:l[0],isActive:!0})}return i})(t.pathname);return e.jsx("nav",{className:X("flex items-center space-x-1 text-sm text-muted-foreground",s),children:n.map((r,l)=>e.jsxs(he.Fragment,{children:[l>0&&e.jsx(Us,{className:"h-4 w-4 text-muted-foreground/50"}),r.isActive||!r.href?e.jsxs("span",{className:"font-medium text-foreground",children:[l===0&&e.jsx(Cd,{className:"h-4 w-4 inline mr-1"}),r.label]}):e.jsxs(be,{to:r.href,className:"hover:text-foreground transition-colors",children:[l===0&&e.jsx(Cd,{className:"h-4 w-4 inline mr-1"}),r.label]})]},l))})};function Xp(){const s=Qe(),[t,a]=o.useState(""),[n,r]=o.useState(!1),[l,i]=o.useState(""),[c,d]=o.useState(!1),[m]=o.useState([{id:"1",name:"张教授",lab:"AI实验室",matchScore:92,researchAreas:["深度学习","计算机视觉"]},{id:"2",name:"李教授",lab:"生物实验室",matchScore:85,researchAreas:["基因组学","蛋白质组学"]},{id:"3",name:"王教授",lab:"材料实验室",matchScore:78,researchAreas:["新材料","纳米技术"]},{id:"4",name:"陈教授",lab:"化学实验室",matchScore:78,researchAreas:["有机化学","催化反应"]},{id:"5",name:"刘教授",lab:"物理实验室",matchScore:72,researchAreas:["量子物理","凝聚态物理"]},{id:"6",name:"赵教授",lab:"机器人实验室",matchScore:88,researchAreas:["机器人控制","人工智能"]}]),[u,h]=o.useState([{order:1,mentor:null},{order:2,mentor:null},{order:3,mentor:null}]),[p,g]=o.useState(null),[b,N]=o.useState(null),[j,x]=o.useState(null),f=m.filter(C=>{const M=C.name.toLowerCase().includes(t.toLowerCase())||C.lab.toLowerCase().includes(t.toLowerCase())||C.researchAreas.some(I=>I.toLowerCase().includes(t.toLowerCase())),z=u.some(I=>{var F;return((F=I.mentor)==null?void 0:F.id)===C.id});return M&&!z});o.useEffect(()=>{const C=setTimeout(()=>{(u.some(M=>M.mentor!==null)||l)&&(d(!0),setTimeout(()=>{d(!1),console.log("自动保存完成",{preferences:u,applicationReason:l})},1e3))},2e3);return()=>clearTimeout(C)},[u,l]);const w=(C,M,z)=>{g(M),z!==void 0&&N(z),C.dataTransfer.effectAllowed="move"},D=(C,M)=>{C.preventDefault(),C.dataTransfer.dropEffect="move",x(M)},y=()=>{x(null)},T=(C,M)=>{if(C.preventDefault(),x(null),!p)return;const z=[...u];if(b!==null){const I=z[M].mentor;z[M].mentor=p,z[b].mentor=I}else z[M].mentor=p;h(z),g(null),N(null)},v=C=>{const M=u.findIndex(z=>z.mentor===null);if(M!==-1){const z=[...u];z[M].mentor=C,h(z)}},P=C=>{const M=[...u];M[C].mentor=null,h(M)},k=()=>{if(!u[0].mentor){alert("请至少选择第一志愿");return}if(!l.trim()){alert("请填写第一志愿申请理由");return}console.log("保存志愿",{preferences:u,applicationReason:l}),alert("志愿保存成功！"),s("/dashboard")};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(a1,{className:"mb-4"}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"填报导师志愿"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-gray-600",children:"步骤 2/3"}),e.jsx(S,{onClick:k,disabled:c,children:c?"保存中...":"保存并继续"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsxs(O,{children:[e.jsx(L,{children:"可选导师列表"}),e.jsx("div",{className:"mt-4 space-y-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(se,{type:"text",placeholder:"搜索导师姓名、实验室或研究方向...",value:t,onChange:C=>a(C.target.value),className:"pl-10 pr-10"}),e.jsx(S,{size:"sm",variant:"ghost",className:"absolute right-1 top-1/2 transform -translate-y-1/2",onClick:()=>r(!n),children:e.jsx(rn,{className:"w-4 h-4"})})]})})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:f.map(C=>e.jsx("div",{draggable:!0,onDragStart:M=>w(M,C),className:"p-4 bg-white border rounded-lg cursor-move hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-semibold",children:C.name}),e.jsxs("span",{className:"text-sm text-gray-600",children:["- ",C.lab]})]}),e.jsx("div",{className:"mt-1",children:e.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["匹配度: ",C.matchScore,"%"]})}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:C.researchAreas.map((M,z)=>e.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:M},z))})]}),e.jsx(S,{size:"sm",variant:"ghost",onClick:()=>v(C),children:e.jsx(as,{className:"w-4 h-4"})})]})},C.id))})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsxs(O,{children:[e.jsx(L,{children:"我的志愿序列"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"提示：拖拽调整顺序"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:u.map((C,M)=>e.jsxs("div",{onDragOver:z=>D(z,M),onDragLeave:y,onDrop:z=>T(z,M),className:`p-4 border-2 border-dashed rounded-lg transition-colors ${j===M?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-medium text-gray-700",children:["第",C.order,"志愿"]}),C.mentor&&e.jsx(S,{size:"sm",variant:"ghost",onClick:()=>P(M),children:"×"})]}),C.mentor?e.jsx("div",{draggable:!0,onDragStart:z=>w(z,C.mentor,M),className:"mt-2 p-3 bg-white rounded border cursor-move",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ny,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[C.mentor.name," - ",C.mentor.lab]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["匹配度: ",C.mentor.matchScore,"%"]})]})]})}):e.jsx("div",{className:"mt-2 text-center text-gray-400 py-4",children:"[空]"})]},C.order))})})]}),u[0].mentor&&e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"申请理由（第一志愿）"})}),e.jsxs(E,{children:[e.jsx("textarea",{value:l,onChange:C=>i(C.target.value),placeholder:"请详细说明选择该导师的原因...",maxLength:500,className:"w-full min-h-[120px] p-3 border rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"mt-2 text-right text-sm text-gray-600",children:["字数: ",l.length,"/500"]})]})]})]})]})]})}),e.jsx(Te,{})]})}function Zp(){const s=Qe(),[t,a]=o.useState("all"),[n,r]=o.useState(!1),[l,i]=o.useState([{id:"1",name:"王小明",preferenceOrder:1,gpa:3.8,applicationReason:"对深度学习很感兴趣，希望加入您的AI实验室进行研究学习。",status:"pending",selected:!1},{id:"2",name:"李小红",preferenceOrder:2,gpa:3.6,applicationReason:"希望学习计算机视觉技术，对您的研究方向非常感兴趣。",status:"pending",selected:!1},{id:"3",name:"张三",preferenceOrder:1,gpa:3.9,applicationReason:"在本科阶段就对人工智能产生浓厚兴趣，发表过相关论文。",status:"accepted",selected:!1},{id:"4",name:"李四",preferenceOrder:1,gpa:3.7,applicationReason:"参加过多个AI项目，具有丰富的实践经验。",status:"hold",selected:!1},{id:"5",name:"王五",preferenceOrder:3,gpa:3.5,applicationReason:"对机器学习算法有深入研究，希望进一步提升。",status:"rejected",selected:!1}]),c=l.length,d=l.filter(y=>y.status!=="pending").length,m=l.filter(y=>y.status==="hold").length,h=l.filter(y=>y.status==="accepted").length,p=5,g=l.filter(y=>{switch(t){case"firstChoice":return y.preferenceOrder===1;case"pending":return y.status==="pending";case"accepted":return y.status==="accepted";case"rejected":return y.status==="rejected";default:return!0}}),b=y=>{r(y),i(l.map(T=>({...T,selected:y&&g.some(v=>v.id===T.id)})))},N=(y,T)=>{i(l.map(v=>v.id===y?{...v,selected:T}:v))},j=(y,T)=>{i(l.map(v=>v.id===y?{...v,status:T}:v))},x=y=>{const T=l.filter(v=>v.selected);if(T.length===0){alert("请先选择要操作的申请");return}switch(y){case"accept":if(h+T.filter(v=>v.status!=="accepted").length>p){alert("超出名额限制");return}i(l.map(v=>v.selected?{...v,status:"accepted",selected:!1}:v));break;case"reject":i(l.map(v=>v.selected?{...v,status:"rejected",selected:!1}:v));break;case"hold":i(l.map(v=>v.selected?{...v,status:"hold",selected:!1}:v));break}r(!1)},f=()=>{const y=l.filter(T=>T.status==="accepted");console.log("确认选择的学生:",y),alert(`已确认选择 ${y.length} 名学生`)},w=()=>{const T=`姓名,志愿顺序,GPA,申请理由
`+l.filter(C=>C.status==="accepted").map(C=>`${C.name},第${C.preferenceOrder}志愿,${C.gpa},"${C.applicationReason}"`).join(`
`),v=new Blob([T],{type:"text/csv;charset=utf-8;"}),P=document.createElement("a"),k=URL.createObjectURL(v);P.setAttribute("href",k),P.setAttribute("download","录取名单.csv"),P.style.visibility="hidden",document.body.appendChild(P),P.click(),document.body.removeChild(P)},D=y=>{switch(y){case"accepted":return e.jsx("span",{className:"text-green-600 font-medium",children:"已接受"});case"rejected":return e.jsx("span",{className:"text-red-600 font-medium",children:"已拒绝"});case"hold":return e.jsx("span",{className:"text-yellow-600 font-medium",children:"待定"});default:return e.jsx("span",{className:"text-gray-600 font-medium",children:"待处理"})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"学生申请管理"}),e.jsxs("div",{className:"text-sm font-normal text-gray-600",children:["收到申请: ",c," | 已处理: ",d," | 待定: ",m]})]})}),e.jsxs(E,{children:[e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx(S,{variant:t==="all"?"default":"outline",size:"sm",onClick:()=>a("all"),children:"全部"}),e.jsx(S,{variant:t==="firstChoice"?"default":"outline",size:"sm",onClick:()=>a("firstChoice"),children:"第一志愿"}),e.jsx(S,{variant:t==="pending"?"default":"outline",size:"sm",onClick:()=>a("pending"),children:"待处理"}),e.jsx(S,{variant:t==="accepted"?"default":"outline",size:"sm",onClick:()=>a("accepted"),children:"已接受"}),e.jsx(S,{variant:t==="rejected"?"default":"outline",size:"sm",onClick:()=>a("rejected"),children:"已拒绝"})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx(Ae,{checked:n,onCheckedChange:b}),e.jsxs(ie,{onValueChange:x,children:[e.jsx(re,{className:"w-32",children:e.jsx(ce,{placeholder:"批量操作"})}),e.jsxs(le,{children:[e.jsx(W,{value:"accept",children:"批量接受"}),e.jsx(W,{value:"reject",children:"批量拒绝"}),e.jsx(W,{value:"hold",children:"批量待定"})]})]})]}),e.jsx("div",{className:"space-y-4",children:g.map(y=>e.jsx("div",{className:"border rounded-lg p-4 bg-white hover:shadow-sm transition-shadow",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(Ae,{checked:y.selected,onCheckedChange:T=>N(y.id,T)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"font-semibold",children:y.name}),e.jsxs("span",{className:"text-sm text-gray-600",children:["第",y.preferenceOrder,"志愿"]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["GPA: ",y.gpa]}),D(y.status)]})}),e.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:["申请理由: ",y.applicationReason]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>s(`/student-detail/${y.id}`),children:[e.jsx(Le,{className:"w-4 h-4 mr-1"}),"查看详情"]}),e.jsxs(S,{size:"sm",variant:"outline",className:"text-green-600 hover:text-green-700",onClick:()=>j(y.id,"accepted"),disabled:y.status==="accepted",children:[e.jsx(Dl,{className:"w-4 h-4 mr-1"}),"接受"]}),e.jsxs(S,{size:"sm",variant:"outline",className:"text-yellow-600 hover:text-yellow-700",onClick:()=>j(y.id,"hold"),disabled:y.status==="hold",children:[e.jsx(Ce,{className:"w-4 h-4 mr-1"}),"待定"]}),e.jsxs(S,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700",onClick:()=>j(y.id,"rejected"),disabled:y.status==="rejected",children:[e.jsx(Lt,{className:"w-4 h-4 mr-1"}),"拒绝"]})]})]})]})},y.id))}),e.jsxs("div",{className:"mt-6 flex items-center justify-between border-t pt-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["名额使用: ",h,"/",p]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{onClick:f,children:"确认选择"}),e.jsxs(S,{variant:"outline",onClick:w,children:[e.jsx(Se,{className:"w-4 h-4 mr-1"}),"导出名单"]})]})]})]})]})})}),e.jsx(Te,{})]})}function Jp(){const s=Qe(),[t,a]=o.useState(!1),[n,r]=o.useState(0),[l,i]=o.useState({studentSubmissions:48,acceptedMatches:0,rejectedApplications:0,pendingAdjustment:0,finalMatches:0}),[c,d]=o.useState([{id:"submission",name:"学生提交志愿",description:"学生填报导师志愿，每人可选3个志愿",status:"completed",count:48,percentage:100},{id:"aggregation",name:"系统汇总数据",description:"系统整理学生志愿数据，生成申请列表",status:"pending",count:0,percentage:0},{id:"review",name:"导师查看申请",description:"导师查看收到的学生申请",status:"pending",count:0,percentage:0},{id:"decision",name:"导师决策",description:"导师对申请进行接受/拒绝决策",status:"pending",count:0,percentage:0},{id:"matching",name:"生成初步匹配结果",description:"根据双方选择生成匹配结果",status:"pending",count:0,percentage:0},{id:"adjustment",name:"二次调剂",description:"对未匹配学生进行调剂",status:"pending",count:0,percentage:0},{id:"confirmation",name:"秘书确认",description:"秘书确认最终匹配结果",status:"pending",count:0,percentage:0},{id:"publish",name:"发布最终结果",description:"发布并通知所有相关人员",status:"pending",count:0,percentage:0}]);o.useEffect(()=>{if(!t)return;const g=setTimeout(()=>{if(n<c.length-1){const b=[...c],N=n+1;switch(b[n].status="completed",b[N].status="in-progress",N){case 1:b[N].percentage=100,b[N].count=48;break;case 2:b[N].percentage=100,b[N].count=15;break;case 3:b[N].percentage=100,i({...l,acceptedMatches:35,rejectedApplications:13});break;case 4:b[N].percentage=100,b[N].count=35;break;case 5:b[N].percentage=100,b[N].count=8,i({...l,acceptedMatches:35,rejectedApplications:13,pendingAdjustment:8,finalMatches:43});break;case 6:b[N].percentage=100;break;case 7:b[N].percentage=100,b[N].status="completed",a(!1);break}d(b),r(N)}},2e3);return()=>clearTimeout(g)},[t,n,c,l]);const m=()=>{a(!0),r(0)},u=()=>{a(!1),r(0),i({studentSubmissions:48,acceptedMatches:0,rejectedApplications:0,pendingAdjustment:0,finalMatches:0}),d(c.map((g,b)=>({...g,status:b===0?"completed":"pending",percentage:b===0?100:0,count:b===0?48:0})))},h=g=>{switch(g.id){case"submission":return e.jsx(He,{className:"w-5 h-5"});case"aggregation":return e.jsx(Ke,{className:"w-5 h-5"});case"review":case"decision":return e.jsx(Ea,{className:"w-5 h-5"});case"matching":return e.jsx(F3,{className:"w-5 h-5"});case"adjustment":return e.jsx(mh,{className:"w-5 h-5"});case"confirmation":case"publish":return e.jsx(fe,{className:"w-5 h-5"});default:return e.jsx(ze,{className:"w-5 h-5"})}},p=g=>{switch(g){case"completed":return"bg-green-500 text-white";case"in-progress":return"bg-blue-500 text-white animate-pulse";case"pending":return"bg-gray-200 text-gray-600";default:return"bg-gray-200 text-gray-600"}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"双选匹配算法可视化"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(S,{onClick:m,disabled:t,children:[e.jsx(ma,{className:"w-4 h-4 mr-1"}),t?"运行中...":"开始匹配"]}),e.jsxs(S,{variant:"outline",onClick:u,children:[e.jsx(Ke,{className:"w-4 h-4 mr-1"}),"重置"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"匹配流程"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:c.map((g,b)=>e.jsxs("div",{className:"relative",children:[b<c.length-1&&e.jsx("div",{className:`absolute left-6 top-12 w-0.5 h-16 ${g.status==="completed"?"bg-green-500":"bg-gray-300"}`}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${p(g.status)}`,children:h(g)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:g.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.description}),g.status!=="pending"&&g.percentage!==void 0&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:g.count!==void 0&&`${g.count} 项`}),e.jsxs("span",{className:"text-gray-600",children:[g.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${g.status==="completed"?"bg-green-500":"bg-blue-500"}`,style:{width:`${g.percentage}%`}})})]})]})]})]},g.id))})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"实时统计"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"学生提交志愿"}),e.jsx("span",{className:"font-semibold",children:l.studentSubmissions})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"接受匹配"}),e.jsx("span",{className:"font-semibold text-green-600",children:l.acceptedMatches})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"拒绝申请"}),e.jsx("span",{className:"font-semibold text-red-600",children:l.rejectedApplications})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"待调剂"}),e.jsx("span",{className:"font-semibold text-yellow-600",children:l.pendingAdjustment})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-900 font-semibold",children:"最终匹配"}),e.jsx("span",{className:"font-bold text-lg",children:l.finalMatches})]})})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"匹配成功率"})}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-4xl font-bold text-green-600 mb-2",children:[l.studentSubmissions>0?Math.round(l.finalMatches/l.studentSubmissions*100):0,"%"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[l.finalMatches," / ",l.studentSubmissions," 学生成功匹配"]})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"直接匹配成功"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"调剂后匹配"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"未能匹配"})]})]})]})]}),n===c.length-1&&!t&&e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"操作选项"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{className:"w-full",onClick:()=>s("/matching-results"),children:"查看详细结果"}),e.jsx(S,{className:"w-full",variant:"outline",onClick:()=>s("/adjustment-management"),children:"管理调剂流程"})]})})]})]})]})]})}),e.jsx(Te,{})]})}function ej(){var y,T;const s=Qe(),[t,a]=o.useState(""),[n,r]=o.useState(null),[l,i]=o.useState(""),[c,d]=o.useState([{id:"1",name:"王小明",gpa:3.5,originalPreferences:["张教授","李教授","赵教授"],rejectionReasons:["名额已满","方向不匹配","名额已满"],status:"pending"},{id:"2",name:"李小红",gpa:3.3,originalPreferences:["陈教授","王教授","刘教授"],rejectionReasons:["GPA不符合要求","名额已满","方向不匹配"],status:"pending"},{id:"3",name:"张三",gpa:3.2,originalPreferences:["赵教授","钱教授","孙教授"],rejectionReasons:["名额已满","名额已满","未提交申请"],status:"reassigned"},{id:"4",name:"李四",gpa:3.4,originalPreferences:["周教授","吴教授","郑教授"],rejectionReasons:["方向不匹配","名额已满","GPA不符合要求"],status:"pending"},{id:"5",name:"王五",gpa:3.1,originalPreferences:["冯教授","陈教授","褚教授"],rejectionReasons:["名额已满","名额已满","方向不匹配"],status:"manual"}]),[m]=o.useState([{id:"1",mentorName:"钱教授",lab:"数据科学实验室",remainingQuota:2,specializations:["机器学习","数据挖掘"]},{id:"2",mentorName:"孙教授",lab:"系统工程实验室",remainingQuota:1,specializations:["控制系统","优化算法"]},{id:"3",mentorName:"周教授",lab:"网络安全实验室",remainingQuota:1,specializations:["网络安全","密码学"]},{id:"4",mentorName:"吴教授",lab:"软件工程实验室",remainingQuota:3,specializations:["软件架构","云计算"]}]),[u,h]=o.useState([{id:"1",timestamp:"2024-03-10 14:30",studentName:"张三",fromStatus:"未匹配",toMentor:"钱教授",type:"auto",reason:"二次分配算法匹配"},{id:"2",timestamp:"2024-03-10 15:15",studentName:"王五",fromStatus:"未匹配",toMentor:"孙教授",type:"manual",reason:"秘书手动调整"}]),p=c.filter(v=>v.status==="pending").length,g=c.filter(v=>v.status==="reassigned").length,b=c.filter(v=>v.status==="manual").length,N=m.reduce((v,P)=>v+P.remainingQuota,0),j=c.filter(v=>v.name.toLowerCase().includes(t.toLowerCase())||v.status.includes(t.toLowerCase())),x=()=>{const v=c.filter(C=>C.status==="pending"),P=[...m],k=[];v.forEach(C=>{const M=P.filter(z=>z.remainingQuota>0).sort((z,I)=>I.remainingQuota-z.remainingQuota)[0];M&&(M.remainingQuota--,d(z=>z.map(I=>I.id===C.id?{...I,status:"reassigned"}:I)),k.push({id:`${Date.now()}-${C.id}`,timestamp:new Date().toLocaleString("zh-CN"),studentName:C.name,fromStatus:"未匹配",toMentor:M.mentorName,type:"auto",reason:"二次分配算法匹配"}))}),h(C=>[...C,...k]),alert(`自动分配完成，成功分配 ${k.length} 名学生`)},f=()=>{if(!n||!l){alert("请选择学生和导师");return}const v=c.find(k=>k.id===n),P=m.find(k=>k.id===l);if(!(!v||!P)){if(P.remainingQuota<=0){alert("该导师名额已满");return}d(k=>k.map(C=>C.id===n?{...C,status:"manual"}:C)),h(k=>[...k,{id:`${Date.now()}`,timestamp:new Date().toLocaleString("zh-CN"),studentName:v.name,fromStatus:"未匹配",toMentor:P.mentorName,type:"manual",reason:"秘书手动调整"}]),r(null),i(""),alert("手动调整成功")}},w=()=>{const v=c.filter(P=>P.status==="pending").length;v>0&&!window.confirm(`还有 ${v} 名学生未分配，确定要确认最终结果吗？`)||(console.log("最终调剂结果:",{students:c,records:u}),alert("调剂结果已确认，即将发布最终匹配结果"),s("/matching-results"))},D=v=>{switch(v){case"reassigned":return e.jsx("span",{className:"text-green-600 font-medium",children:"已重新分配"});case"manual":return e.jsx("span",{className:"text-blue-600 font-medium",children:"手动调整"});default:return e.jsx("span",{className:"text-yellow-600 font-medium",children:"待调剂"})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"调剂管理系统"}),e.jsx(S,{onClick:()=>s("/matching-visualization"),children:"返回匹配流程"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(R,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"待调剂学生"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:p})]}),e.jsx(mh,{className:"w-8 h-8 text-yellow-600"})]})})}),e.jsx(R,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"已重新分配"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:g})]}),e.jsx(fe,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(R,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"手动调整"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:b})]}),e.jsx(kp,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(R,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"剩余名额"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:N})]}),e.jsx(Md,{className:"w-8 h-8 text-purple-600"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(R,{children:[e.jsxs(O,{children:[e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"待调剂学生池"}),e.jsxs(S,{onClick:x,size:"sm",children:[e.jsx(Md,{className:"w-4 h-4 mr-1"}),"执行二次分配"]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(se,{type:"text",placeholder:"搜索学生姓名或状态...",value:t,onChange:v=>a(v.target.value),className:"pl-10"})]})})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:j.map(v=>e.jsxs("div",{className:`border rounded-lg p-4 ${n===v.id?"border-blue-500 bg-blue-50":""} ${v.status!=="pending"?"opacity-60":""} cursor-pointer`,onClick:()=>v.status==="pending"&&r(v.id),children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:v.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["GPA: ",v.gpa]}),D(v.status)]}),v.status==="pending"&&e.jsx(ze,{className:"w-5 h-5 text-yellow-500"})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"原始志愿："}),e.jsx("div",{className:"space-y-1",children:v.originalPreferences.map((P,k)=>e.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[e.jsxs("span",{children:[k+1,". ",P]}),e.jsx("span",{className:"text-red-500 text-xs",children:v.rejectionReasons[k]})]},k))})]})]},v.id))})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"可用名额"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:m.map(v=>e.jsxs("div",{className:`border rounded-lg p-3 ${l===v.id?"border-blue-500 bg-blue-50":""} ${v.remainingQuota===0?"opacity-50":"cursor-pointer"}`,onClick:()=>v.remainingQuota>0&&i(v.id),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium",children:v.mentorName}),e.jsx("p",{className:"text-sm text-gray-600",children:v.lab})]}),e.jsx("span",{className:`text-lg font-bold ${v.remainingQuota>0?"text-green-600":"text-gray-400"}`,children:v.remainingQuota})]}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:v.specializations.map((P,k)=>e.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:P},k))})]},v.id))})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"手动调整"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"选中学生"}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-md min-h-[40px]",children:n?(y=c.find(v=>v.id===n))==null?void 0:y.name:e.jsx("span",{className:"text-gray-400",children:"请从左侧选择学生"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"选中导师"}),e.jsx("div",{className:"p-3 bg-gray-50 rounded-md min-h-[40px]",children:l?(T=m.find(v=>v.id===l))==null?void 0:T.mentorName:e.jsx("span",{className:"text-gray-400",children:"请从上方选择导师"})})]}),e.jsxs(S,{className:"w-full",onClick:f,disabled:!n||!l,children:[e.jsx(kp,{className:"w-4 h-4 mr-1"}),"执行手动调整"]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"最终确认"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(En,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-yellow-800",children:"确认前请检查："}),e.jsxs("ul",{className:"mt-1 text-yellow-700 space-y-1",children:[e.jsx("li",{children:"• 所有待调剂学生已处理"}),e.jsx("li",{children:"• 调剂结果符合规则"}),e.jsx("li",{children:"• 导师名额分配合理"})]})]})]})}),e.jsxs(S,{className:"w-full",onClick:w,children:[e.jsx(fe,{className:"w-4 h-4 mr-1"}),"确认调剂结果"]})]})})]})]})]}),e.jsxs(R,{className:"mt-6",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-5 h-5"}),"调剂记录"]})}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"时间"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"学生"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"原状态"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"分配给"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"类型"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"原因"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(v=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:v.timestamp}),e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:v.studentName}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:v.fromStatus}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:v.toMentor}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${v.type==="auto"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:v.type==="auto"?"自动":"手动"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:v.reason})]},v.id))})]})})})]})]})}),e.jsx(Te,{})]})}const Ie=o.forwardRef(({className:s,...t},a)=>e.jsx("textarea",{className:X("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...t}));Ie.displayName="Textarea";function sj(){const s=Qe(),[t,a]=o.useState(""),[n,r]=o.useState(""),[l,i]=o.useState(""),[c,d]=o.useState([""]),[m,u]=o.useState(""),[h,p]=o.useState("all"),[g,b]=o.useState(!1),[N]=o.useState([{id:"1",name:"文献调研模板",title:"第X周：文献调研与综述撰写",description:"阅读10篇核心文献，完成3000字综述",requirements:["文献需包含近3年顶会论文","综述需包含研究背景、现状、趋势","提交PPT汇报材料"],scoringCriteria:[{id:"1",name:"文献质量",percentage:30,enabled:!0},{id:"2",name:"综述深度",percentage:40,enabled:!0},{id:"3",name:"汇报表现",percentage:20,enabled:!0},{id:"4",name:"按时提交",percentage:10,enabled:!0}]},{id:"2",name:"实验设计模板",title:"第X周：实验方案设计",description:"设计并撰写实验方案，包含实验目的、步骤、预期结果",requirements:["明确实验假设和目标","详细描述实验步骤","预估所需资源和时间","分析可能的风险和应对措施"],scoringCriteria:[{id:"1",name:"方案完整性",percentage:35,enabled:!0},{id:"2",name:"可行性分析",percentage:35,enabled:!0},{id:"3",name:"创新性",percentage:20,enabled:!0},{id:"4",name:"按时提交",percentage:10,enabled:!0}]},{id:"3",name:"代码实现模板",title:"第X周：算法实现与测试",description:"实现核心算法并完成基础测试",requirements:["代码需符合规范，包含必要注释","提供单元测试用例","撰写技术文档","在组会上演示运行结果"],scoringCriteria:[{id:"1",name:"代码质量",percentage:40,enabled:!0},{id:"2",name:"测试覆盖",percentage:25,enabled:!0},{id:"3",name:"文档完整",percentage:25,enabled:!0},{id:"4",name:"按时提交",percentage:10,enabled:!0}]}]),[j,x]=o.useState([{id:"1",name:"文献质量",percentage:30,enabled:!0},{id:"2",name:"综述深度",percentage:40,enabled:!0},{id:"3",name:"汇报表现",percentage:20,enabled:!0},{id:"4",name:"按时提交",percentage:10,enabled:!0}]),[f]=o.useState([{id:"1",name:"王小明",selected:!0},{id:"2",name:"李小红",selected:!0},{id:"3",name:"张三",selected:!0},{id:"4",name:"李四",selected:!0},{id:"5",name:"王五",selected:!0}]),[w,D]=o.useState(f),y=I=>{const F=N.find($=>$.id===I);F&&(r(F.title),i(F.description),d(F.requirements),x(F.scoringCriteria),a(I))},T=()=>{d([...c,""])},v=I=>{d(c.filter((F,$)=>$!==I))},P=(I,F)=>{const $=[...c];$[I]=F,d($)},k=(I,F,$)=>{x(j.map(B=>B.id===I?{...B,[F]:$}:B))},C=()=>{const I=prompt("请输入模板名称:");if(I){const F={id:`custom-${Date.now()}`,name:I,title:n,description:l,requirements:c.filter($=>$.trim()!==""),scoringCriteria:j};console.log("保存模板:",F),alert("模板保存成功！")}},M=()=>{if(!n.trim()){alert("请填写任务标题");return}if(!l.trim()){alert("请填写任务描述");return}if(!m){alert("请设置截止时间");return}const I={title:n,description:l,requirements:c.filter(F=>F.trim()!==""),deadline:m,assignmentType:h,assignedStudents:h==="all"?f:w.filter(F=>F.selected),scoringCriteria:j.filter(F=>F.enabled)};console.log("发布任务:",I),alert("任务发布成功！"),s("/dashboard")},z=j.filter(I=>I.enabled).reduce((I,F)=>I+F.percentage,0);return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(a1,{className:"mb-4"}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"发布任务"}),e.jsxs(ie,{value:t,onValueChange:y,children:[e.jsx(re,{className:"w-48",children:e.jsx(ce,{placeholder:"使用模板"})}),e.jsxs(le,{children:[e.jsx(W,{value:"none",children:"不使用模板"}),N.map(I=>e.jsx(W,{value:I.id,children:I.name},I.id))]})]})]}),e.jsx(R,{className:"mb-6",children:e.jsx(E,{className:"pt-6",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"任务标题"}),e.jsx(se,{value:n,onChange:I=>r(I.target.value),placeholder:"例如：第3周：文献调研与综述撰写",className:"w-full"})]})})})}),e.jsxs(R,{className:"mb-6",children:[e.jsx(O,{children:e.jsx(L,{children:"任务详情"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"目标描述"}),e.jsx(Ie,{value:l,onChange:I=>i(I.target.value),placeholder:"描述任务的主要目标...",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"具体要求"}),e.jsxs("div",{className:"space-y-2",children:[c.map((I,F)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"•"}),e.jsx(se,{value:I,onChange:$=>P(F,$.target.value),placeholder:"输入具体要求...",className:"flex-1"}),c.length>1&&e.jsx(S,{size:"sm",variant:"ghost",onClick:()=>v(F),children:e.jsx(Lt,{className:"w-4 h-4"})})]},F)),e.jsxs(S,{size:"sm",variant:"outline",onClick:T,className:"mt-2",children:[e.jsx(as,{className:"w-4 h-4 mr-1"}),"添加要求"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(hs,{className:"w-4 h-4 inline mr-1"}),"截止时间"]}),e.jsx(se,{type:"datetime-local",value:m,onChange:I=>u(I.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.jsx(He,{className:"w-4 h-4 inline mr-1"}),"分配给"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ie,{value:h,onValueChange:p,children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"全组成员"}),e.jsx(W,{value:"specific",children:"指定成员"})]})]}),h==="specific"&&e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>b(!g),children:[e.jsx(as,{className:"w-4 h-4 mr-1"}),"指定成员"]})]})]})]}),h==="specific"&&g&&e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"选择学生"}),e.jsx("div",{className:"space-y-2",children:f.map(I=>{var F;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{checked:((F=w.find($=>$.id===I.id))==null?void 0:F.selected)||!1,onCheckedChange:$=>{D(B=>B.map(A=>A.id===I.id?{...A,selected:$}:A))}}),e.jsx("span",{className:"text-sm",children:I.name})]},I.id)})})]})]})})]}),e.jsxs(R,{className:"mb-6",children:[e.jsx(O,{children:e.jsx(L,{children:"评分标准"})}),e.jsxs(E,{children:[e.jsx("div",{className:"space-y-3",children:j.map(I=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ae,{checked:I.enabled,onCheckedChange:F=>k(I.id,"enabled",F)}),e.jsx("span",{className:"flex-1 text-sm",children:I.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{type:"number",value:I.percentage,onChange:F=>k(I.id,"percentage",parseInt(F.target.value)||0),className:"w-20 text-right",disabled:!I.enabled}),e.jsx("span",{className:"text-sm text-gray-500",children:"%"})]})]},I.id))}),z!==100&&z>0&&e.jsxs("div",{className:"mt-3 text-sm text-yellow-600 bg-yellow-50 p-2 rounded",children:[e.jsx(ze,{className:"w-4 h-4 inline mr-1"}),"当前总百分比: ",z,"%（应为100%）"]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx(S,{variant:"outline",onClick:()=>s("/dashboard"),children:"取消"}),e.jsxs(S,{variant:"outline",onClick:C,children:[e.jsx(_t,{className:"w-4 h-4 mr-1"}),"保存为模板"]}),e.jsxs(S,{onClick:M,children:[e.jsx(Os,{className:"w-4 h-4 mr-1"}),"发布任务"]})]})]})}),e.jsx(Te,{})]})}function tj(){const[s,t]=o.useState(null),[a,n]=o.useState(!1),[r,l]=o.useState(""),[i]=o.useState([{id:"1",title:"文献调研",status:"pending",deadline:"9/1"},{id:"2",title:"实验设计",status:"in-progress",progress:40,timeSpent:12,estimatedTime:30,subtasks:[{id:"1",title:"确定实验目标",completed:!0},{id:"2",title:"选择实验方法",completed:!0},{id:"3",title:"设计实验流程",completed:!1},{id:"4",title:"准备实验材料",completed:!1}]},{id:"3",title:"开题报告",status:"completed",score:85},{id:"4",title:"数据分析",status:"pending",deadline:"9/5"},{id:"5",title:"周报撰写",status:"in-progress",progress:70,timeSpent:5,estimatedTime:7}]),c=()=>{const h=i.length,p=i.filter(N=>N.status==="completed").length,g=i.filter(N=>N.status==="in-progress");let b=p*100;return g.forEach(N=>{b+=N.progress||0}),Math.round(b/h)},d=h=>{const p=()=>{switch(h.status){case"pending":return"bg-gray-100";case"in-progress":return"bg-blue-50";case"completed":return"bg-green-50"}},g=()=>{switch(h.status){case"pending":return e.jsxs(S,{size:"sm",className:"w-full",children:[e.jsx(ma,{className:"w-4 h-4 mr-1"}),"开始"]});case"in-progress":return e.jsxs(S,{size:"sm",variant:"outline",className:"w-full",children:[e.jsx(Us,{className:"w-4 h-4 mr-1"}),"继续"]});case"completed":return e.jsxs("div",{className:"text-center",children:[e.jsx(fe,{className:"w-5 h-5 text-green-600 mx-auto mb-1"}),e.jsxs("span",{className:"text-lg font-semibold text-green-600",children:[h.score,"分"]})]})}};return e.jsx(R,{className:`${p()} cursor-pointer transition-all hover:shadow-md`,onClick:()=>t(h),children:e.jsxs(E,{className:"p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:h.title}),h.deadline&&e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx(hs,{className:"w-3 h-3 inline mr-1"}),"截止: ",h.deadline]}),h.progress!==void 0&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[e.jsx("span",{children:"进度"}),e.jsxs("span",{children:[h.progress,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${h.progress}%`}})})]}),h.score!==void 0&&e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"已评分"}),e.jsx("div",{className:"mt-3",children:g()})]})},h.id)},m=()=>{var b,N;if(!s||s.status!=="in-progress")return null;const h=((b=s.subtasks)==null?void 0:b.filter(j=>j.completed).length)||0,p=((N=s.subtasks)==null?void 0:N.length)||0,g=p>0?Math.round(h/p*100):0;return e.jsxs(R,{className:"mt-6",children:[e.jsx(O,{children:e.jsxs(L,{className:"text-lg",children:["本周重点任务：",s.title]})}),e.jsxs(E,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"进度追踪"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.progress||0,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all flex items-center justify-end pr-2",style:{width:`${s.progress||0}%`},children:(s.progress||0)>20&&e.jsxs("span",{className:"text-[10px] text-white font-medium",children:[s.progress,"%"]})})}),e.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-600",children:[e.jsxs("span",{children:[e.jsx(Ce,{className:"w-3 h-3 inline mr-1"}),"已用时间: ",s.timeSpent||0,"小时"]}),e.jsxs("span",{children:["预计剩余: ",(s.estimatedTime||0)-(s.timeSpent||0),"小时"]})]})]}),s.subtasks&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"子任务清单:"}),e.jsx("div",{className:"space-y-2",children:s.subtasks.map(j=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{checked:j.completed,onCheckedChange:x=>{console.log("Toggle subtask:",j.id,x)}}),e.jsx("span",{className:`text-sm ${j.completed?"line-through text-gray-500":""}`,children:j.title})]},j.id))}),e.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:["完成度: ",h,"/",p," (",g,"%)"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>l(r?"":"开始添加笔记..."),children:[e.jsx(Ne,{className:"w-4 h-4 mr-1"}),"添加笔记"]}),e.jsxs(S,{size:"sm",variant:"outline",children:[e.jsx(Ms,{className:"w-4 h-4 mr-1"}),"上传文件"]}),e.jsxs(S,{size:"sm",variant:"outline",children:[e.jsx(An,{className:"w-4 h-4 mr-1"}),"请求指导"]})]}),r!==""&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(Ie,{value:r,onChange:j=>l(j.target.value),placeholder:"在这里添加你的笔记...",rows:4}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{size:"sm",onClick:()=>{console.log("Save note:",r),l("")},children:"保存笔记"}),e.jsx(S,{size:"sm",variant:"outline",onClick:()=>l(""),children:"取消"})]})]})]})]})},u=c();return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"我的任务看板"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"本周进度:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-green-600 h-3 rounded-full transition-all",style:{width:`${u}%`}})}),e.jsxs("span",{className:"text-sm font-semibold",children:[u,"%"]})]})]}),e.jsxs(S,{size:"sm",variant:a?"default":"outline",onClick:()=>n(!a),children:[e.jsx(Mp,{className:"w-4 h-4 mr-1"}),"日历视图"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-gray-700 mb-3 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mr-2"}),"待开始",e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",i.filter(h=>h.status==="pending").length,")"]})]}),e.jsx("div",{className:"space-y-3",children:i.filter(h=>h.status==="pending").map(d)})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-gray-700 mb-3 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"进行中",e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",i.filter(h=>h.status==="in-progress").length,")"]})]}),e.jsx("div",{className:"space-y-3",children:i.filter(h=>h.status==="in-progress").map(d)})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-gray-700 mb-3 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"已完成",e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",i.filter(h=>h.status==="completed").length,")"]})]}),e.jsx("div",{className:"space-y-3",children:i.filter(h=>h.status==="completed").map(d)})]})]}),m(),a&&e.jsxs(R,{className:"mt-6",children:[e.jsx(O,{children:e.jsx(L,{children:"任务日历"})}),e.jsx(E,{children:e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(Mp,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"日历视图开发中..."})]})})]})]})}),e.jsx(Te,{})]})}function aj(){const{user:s}=rs(),[t,a]=o.useState([{id:"1",sender:"student",senderName:"张三",content:"关于实验设计，我有几个问题想请教您。主要是关于样本选择和对照组设置的部分。",timestamp:"10:30 AM",type:"text"},{id:"2",sender:"student",senderName:"张三",content:"",timestamp:"10:31 AM",type:"file",attachment:{name:"实验方案v1.pdf",size:"2.3 MB"}},{id:"3",sender:"teacher",senderName:"张教授",content:`方案整体不错，但需要注意以下几点:
1. 样本量需要增加到30个
2. 对照组设置需要更严格
3. 数据收集方法需要更详细的说明`,timestamp:"11:15 AM",type:"text"},{id:"4",sender:"teacher",senderName:"张教授",content:"",timestamp:"11:16 AM",type:"voice",attachment:{name:"语音消息",duration:"2:30"}},{id:"5",sender:"student",senderName:"张三",content:"明白了，我会根据您的建议修改方案。关于样本量的计算，我使用的是G*Power软件，您看这样合理吗？",timestamp:"11:45 AM",type:"text"}]),[n,r]=o.useState(""),[l,i]=o.useState(!1),c=o.useRef(null),d=o.useRef(null);o.useEffect(()=>{var b;(b=c.current)==null||b.scrollIntoView({behavior:"smooth"})},[t]);const m=()=>{if(!n.trim())return;const b={id:Date.now().toString(),sender:(s==null?void 0:s.role)==="professor"?"teacher":"student",senderName:(s==null?void 0:s.name)||"未知用户",content:n,timestamp:new Date().toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}),type:"text"};a([...t,b]),r("")},u=()=>{var b;(b=d.current)==null||b.click()},h=b=>{var j;const N=(j=b.target.files)==null?void 0:j[0];if(N){const x={id:Date.now().toString(),sender:(s==null?void 0:s.role)==="professor"?"teacher":"student",senderName:(s==null?void 0:s.name)||"未知用户",content:"",timestamp:new Date().toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}),type:"file",attachment:{name:N.name,size:`${(N.size/1024/1024).toFixed(1)} MB`}};a([...t,x])}},p=()=>{const b={id:Date.now().toString(),sender:(s==null?void 0:s.role)==="professor"?"teacher":"student",senderName:(s==null?void 0:s.name)||"未知用户",content:"",timestamp:new Date().toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}),type:"voice",attachment:{name:"语音消息",duration:"0:15"}};a([...t,b])},g=b=>{const N=(s==null?void 0:s.role)==="professor"&&b.sender==="teacher"||(s==null?void 0:s.role)!=="professor"&&b.sender==="student";return e.jsx("div",{className:`flex ${N?"justify-end":"justify-start"} mb-4`,children:e.jsxs("div",{className:`max-w-[70%] ${N?"items-end":"items-start"}`,children:[e.jsx("div",{className:`text-xs text-gray-500 mb-1 ${N?"text-right":"text-left"}`,children:b.senderName}),e.jsxs("div",{className:`rounded-lg p-3 ${N?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[b.type==="text"&&e.jsx("p",{className:"whitespace-pre-wrap",children:b.content}),b.type==="file"&&b.attachment&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-5 h-5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:b.attachment.name}),e.jsx("p",{className:`text-xs ${N?"text-blue-100":"text-gray-500"}`,children:b.attachment.size})]}),e.jsx(S,{size:"sm",variant:N?"secondary":"outline",className:"h-8 w-8 p-0",children:e.jsx(Se,{className:"w-4 h-4"})})]}),b.type==="voice"&&b.attachment&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{size:"sm",variant:N?"secondary":"outline",className:"h-8 w-8 p-0",children:e.jsx(ma,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"h-8 bg-gray-300 bg-opacity-30 rounded flex items-center px-2",children:e.jsx("div",{className:"w-full h-1 bg-gray-400 bg-opacity-50 rounded-full",children:e.jsx("div",{className:"w-1/3 h-full bg-current rounded-full"})})})}),e.jsx("span",{className:`text-xs ${N?"text-blue-100":"text-gray-500"}`,children:b.attachment.duration})]})]}),e.jsx("div",{className:`text-xs text-gray-500 mt-1 ${N?"text-right":"text-left"}`,children:b.timestamp})]})},b.id)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(R,{className:"h-[600px] flex flex-col",children:[e.jsx(O,{className:"border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(L,{className:"text-xl",children:["与",(s==null?void 0:s.role)==="professor"?"学生":"张教授","的讨论"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(jl,{className:"w-4 h-4 mr-1"}),"视频通话"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>i(!l),children:[e.jsx(Ot,{className:"w-4 h-4 mr-1"}),"查看历史"]})]})]})}),e.jsxs(E,{className:"flex-1 overflow-hidden p-0 flex flex-col",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[l&&e.jsx("div",{className:"text-center text-gray-500 text-sm py-2 mb-4",children:"—— 历史消息 ——"}),t.map(g),e.jsx("div",{ref:c})]}),e.jsxs("div",{className:"border-t p-4",children:[e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx(se,{value:n,onChange:b=>r(b.target.value),onKeyPress:b=>b.key==="Enter"&&m(),placeholder:"输入消息...",className:"flex-1"}),e.jsxs(S,{onClick:m,children:[e.jsx(Os,{className:"w-4 h-4 mr-1"}),"发送"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:d,type:"file",className:"hidden",onChange:h}),e.jsx(S,{variant:"ghost",size:"sm",onClick:u,children:e.jsx(Ox,{className:"w-4 h-4"})}),e.jsx(S,{variant:"ghost",size:"sm",onClick:p,children:e.jsx(fl,{className:"w-4 h-4"})}),e.jsx(S,{variant:"ghost",size:"sm",children:e.jsx(ah,{className:"w-4 h-4"})})]})]})]})]}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"提示："}),'所有会议内容将自动保存，您可以随时通过"查看历史"功能回顾之前的讨论内容。 支持发送文本、文件、语音和图片消息。']})})]})}),e.jsx(Te,{})]})}function nj(){var j;const s=Qe(),[t,a]=o.useState(null),[n,r]=o.useState(!1),[l,i]=o.useState(!1),[c,d]=o.useState({title:"",summary:"",achievements:"",challenges:"",nextSteps:""}),m=[{id:"1",name:"项目启动",status:"completed",score:95},{id:"2",name:"中期进展",status:"in-progress",deadline:"5天后",daysRemaining:5},{id:"3",name:"实验完成",status:"not-started"},{id:"4",name:"最终报告",status:"not-started"}],u=m.find(x=>x.status==="in-progress")||m[1],h=x=>{switch(x){case"completed":return e.jsx(fe,{className:"w-5 h-5 text-green-600"});case"in-progress":return e.jsx(zt,{className:"w-5 h-5 text-yellow-600"});default:return e.jsx(oa,{className:"w-5 h-5 text-gray-400"})}},p=x=>{switch(x.status){case"completed":return`已完成 (${x.score}分)`;case"in-progress":return`进行中 (截止: ${x.deadline})`;default:return"未开始"}},g=()=>{if(!c.title||!c.summary){alert("请填写必填项");return}console.log("提交报告:",c),alert("报告提交成功！"),r(!1),s("/dashboard")},b=()=>{const x=document.createElement("input");x.type="file",x.accept=".pdf,.doc,.docx",x.onchange=f=>{var D;const w=(D=f.target.files)==null?void 0:D[0];w&&(console.log("上传文档:",w.name),alert(`文档 ${w.name} 上传成功！`))},x.click()},N={项目启动:["完成文献调研，至少阅读15篇相关论文","撰写3000字的文献综述","确定研究方向和技术路线","制定详细的研究计划"],中期进展:["完成实验设计方案","实现核心算法或系统原型","完成至少50%的实验工作","撰写5000字的进展报告","准备15分钟的汇报PPT"],实验完成:["完成所有计划中的实验","整理实验数据和结果","进行数据分析和可视化","撰写实验报告"],最终报告:["完成15000字的完整研究报告","准备20分钟的答辩PPT","提交所有源代码和数据","完成项目总结和反思"]};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"里程碑报告"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["第",m.findIndex(x=>x.status==="in-progress")+1,"个里程碑/共",m.length,"个"]})]}),e.jsx(R,{className:"mb-6",children:e.jsx(E,{className:"pt-6",children:e.jsx("div",{className:"space-y-4",children:m.map((x,f)=>e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg cursor-pointer transition-all ${x.status==="in-progress"?"bg-blue-50 border border-blue-200":x.status==="completed"?"bg-green-50":"bg-gray-50"}`,onClick:()=>a(x),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[h(x.status),e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium",children:["M",f+1,": ",x.name]}),e.jsx("span",{className:"ml-3 text-sm text-gray-600",children:p(x)})]})]}),x.status==="in-progress"&&x.daysRemaining&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ce,{className:"w-4 h-4 text-yellow-600"}),e.jsxs("span",{className:"text-yellow-600 font-medium",children:[x.daysRemaining,"天后截止"]})]})]},x.id))})})}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{children:["当前里程碑: ",u.name,"报告"]})}),e.jsxs(E,{children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(S,{onClick:()=>r(!0),children:[e.jsx(Ne,{className:"w-4 h-4 mr-1"}),"在线填写表单"]}),e.jsxs(S,{variant:"outline",onClick:b,children:[e.jsx(Ms,{className:"w-4 h-4 mr-1"}),"上传文档"]}),e.jsxs(S,{variant:"outline",onClick:()=>i(!l),children:[e.jsx(Le,{className:"w-4 h-4 mr-1"}),"查看要求"]})]}),l&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-3",children:"里程碑要求:"}),e.jsx("ul",{className:"space-y-2",children:(j=N[u.name])==null?void 0:j.map((x,f)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Us,{className:"w-4 h-4 text-gray-400 mt-0.5"}),e.jsx("span",{className:"text-sm text-gray-700",children:x})]},f))})]})]})]}),n&&e.jsxs(R,{className:"mt-6",children:[e.jsx(O,{children:e.jsxs(L,{children:[u.name,"报告表单"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"报告标题 *"}),e.jsx(se,{value:c.title,onChange:x=>d({...c,title:x.target.value}),placeholder:"请输入报告标题"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"摘要 *"}),e.jsx(Ie,{value:c.summary,onChange:x=>d({...c,summary:x.target.value}),placeholder:"简要描述本阶段的工作内容（200字以内）",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"主要成果"}),e.jsx(Ie,{value:c.achievements,onChange:x=>d({...c,achievements:x.target.value}),placeholder:"详细描述本阶段取得的主要成果",rows:4})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"遇到的挑战"}),e.jsx(Ie,{value:c.challenges,onChange:x=>d({...c,challenges:x.target.value}),placeholder:"描述遇到的主要困难和解决方案",rows:4})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"下一步计划"}),e.jsx(Ie,{value:c.nextSteps,onChange:x=>d({...c,nextSteps:x.target.value}),placeholder:"说明下一阶段的工作计划",rows:4})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(S,{variant:"outline",onClick:()=>r(!1),children:"取消"}),e.jsx(S,{onClick:g,children:"提交报告"})]})]})})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"提示："}),"请在截止日期前完成里程碑报告的提交。您可以选择在线填写表单或直接上传PDF文档。 系统会自动保存您的草稿，您可以随时继续编辑。"]})})]})}),e.jsx(Te,{})]})}function DM(s,t){return o.useReducer((a,n)=>t[a][n]??a,s)}var Dh="ScrollArea",[n1,LA]=Ct(Dh),[RM,Qt]=n1(Dh),r1=o.forwardRef((s,t)=>{const{__scopeScrollArea:a,type:n="hover",dir:r,scrollHideDelay:l=600,...i}=s,[c,d]=o.useState(null),[m,u]=o.useState(null),[h,p]=o.useState(null),[g,b]=o.useState(null),[N,j]=o.useState(null),[x,f]=o.useState(0),[w,D]=o.useState(0),[y,T]=o.useState(!1),[v,P]=o.useState(!1),k=Oe(t,M=>d(M)),C=Al(r);return e.jsx(RM,{scope:a,type:n,dir:C,scrollHideDelay:l,scrollArea:c,viewport:m,onViewportChange:u,content:h,onContentChange:p,scrollbarX:g,onScrollbarXChange:b,scrollbarXEnabled:y,onScrollbarXEnabledChange:T,scrollbarY:N,onScrollbarYChange:j,scrollbarYEnabled:v,onScrollbarYEnabledChange:P,onCornerWidthChange:f,onCornerHeightChange:D,children:e.jsx(ye.div,{dir:C,...i,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...s.style}})})});r1.displayName=Dh;var l1="ScrollAreaViewport",i1=o.forwardRef((s,t)=>{const{__scopeScrollArea:a,children:n,nonce:r,...l}=s,i=Qt(l1,a),c=o.useRef(null),d=Oe(t,c,i.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(ye.div,{"data-radix-scroll-area-viewport":"",...l,ref:d,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...s.style},children:e.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});i1.displayName=l1;var Oa="ScrollAreaScrollbar",Rh=o.forwardRef((s,t)=>{const{forceMount:a,...n}=s,r=Qt(Oa,s.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:i}=r,c=s.orientation==="horizontal";return o.useEffect(()=>(c?l(!0):i(!0),()=>{c?l(!1):i(!1)}),[c,l,i]),r.type==="hover"?e.jsx(EM,{...n,ref:t,forceMount:a}):r.type==="scroll"?e.jsx(AM,{...n,ref:t,forceMount:a}):r.type==="auto"?e.jsx(c1,{...n,ref:t,forceMount:a}):r.type==="always"?e.jsx(Eh,{...n,ref:t}):null});Rh.displayName=Oa;var EM=o.forwardRef((s,t)=>{const{forceMount:a,...n}=s,r=Qt(Oa,s.__scopeScrollArea),[l,i]=o.useState(!1);return o.useEffect(()=>{const c=r.scrollArea;let d=0;if(c){const m=()=>{window.clearTimeout(d),i(!0)},u=()=>{d=window.setTimeout(()=>i(!1),r.scrollHideDelay)};return c.addEventListener("pointerenter",m),c.addEventListener("pointerleave",u),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",m),c.removeEventListener("pointerleave",u)}}},[r.scrollArea,r.scrollHideDelay]),e.jsx(Bt,{present:a||l,children:e.jsx(c1,{"data-state":l?"visible":"hidden",...n,ref:t})})}),AM=o.forwardRef((s,t)=>{const{forceMount:a,...n}=s,r=Qt(Oa,s.__scopeScrollArea),l=s.orientation==="horizontal",i=Co(()=>d("SCROLL_END"),100),[c,d]=DM("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return o.useEffect(()=>{if(c==="idle"){const m=window.setTimeout(()=>d("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(m)}},[c,r.scrollHideDelay,d]),o.useEffect(()=>{const m=r.viewport,u=l?"scrollLeft":"scrollTop";if(m){let h=m[u];const p=()=>{const g=m[u];h!==g&&(d("SCROLL"),i()),h=g};return m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[r.viewport,l,d,i]),e.jsx(Bt,{present:a||c!=="hidden",children:e.jsx(Eh,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ve(s.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:ve(s.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),c1=o.forwardRef((s,t)=>{const a=Qt(Oa,s.__scopeScrollArea),{forceMount:n,...r}=s,[l,i]=o.useState(!1),c=s.orientation==="horizontal",d=Co(()=>{if(a.viewport){const m=a.viewport.offsetWidth<a.viewport.scrollWidth,u=a.viewport.offsetHeight<a.viewport.scrollHeight;i(c?m:u)}},10);return vl(a.viewport,d),vl(a.content,d),e.jsx(Bt,{present:n||l,children:e.jsx(Eh,{"data-state":l?"visible":"hidden",...r,ref:t})})}),Eh=o.forwardRef((s,t)=>{const{orientation:a="vertical",...n}=s,r=Qt(Oa,s.__scopeScrollArea),l=o.useRef(null),i=o.useRef(0),[c,d]=o.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=u1(c.viewport,c.content),u={...n,sizes:c,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:p=>l.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function h(p,g){return FM(p,i.current,c,g)}return a==="horizontal"?e.jsx(IM,{...u,ref:t,onThumbPositionChange:()=>{if(r.viewport&&l.current){const p=r.viewport.scrollLeft,g=rj(p,c,r.dir);l.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{r.viewport&&(r.viewport.scrollLeft=p)},onDragScroll:p=>{r.viewport&&(r.viewport.scrollLeft=h(p,r.dir))}}):a==="vertical"?e.jsx(OM,{...u,ref:t,onThumbPositionChange:()=>{if(r.viewport&&l.current){const p=r.viewport.scrollTop,g=rj(p,c);l.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{r.viewport&&(r.viewport.scrollTop=p)},onDragScroll:p=>{r.viewport&&(r.viewport.scrollTop=h(p))}}):null}),IM=o.forwardRef((s,t)=>{const{sizes:a,onSizesChange:n,...r}=s,l=Qt(Oa,s.__scopeScrollArea),[i,c]=o.useState(),d=o.useRef(null),m=Oe(t,d,l.onScrollbarXChange);return o.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),e.jsx(o1,{"data-orientation":"horizontal",...r,ref:m,sizes:a,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":So(a)+"px",...s.style},onThumbPointerDown:u=>s.onThumbPointerDown(u.x),onDragScroll:u=>s.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(l.viewport){const p=l.viewport.scrollLeft+u.deltaX;s.onWheelScroll(p),f1(p,h)&&u.preventDefault()}},onResize:()=>{d.current&&l.viewport&&i&&n({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:_d(i.paddingLeft),paddingEnd:_d(i.paddingRight)}})}})}),OM=o.forwardRef((s,t)=>{const{sizes:a,onSizesChange:n,...r}=s,l=Qt(Oa,s.__scopeScrollArea),[i,c]=o.useState(),d=o.useRef(null),m=Oe(t,d,l.onScrollbarYChange);return o.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),e.jsx(o1,{"data-orientation":"vertical",...r,ref:m,sizes:a,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":So(a)+"px",...s.style},onThumbPointerDown:u=>s.onThumbPointerDown(u.y),onDragScroll:u=>s.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(l.viewport){const p=l.viewport.scrollTop+u.deltaY;s.onWheelScroll(p),f1(p,h)&&u.preventDefault()}},onResize:()=>{d.current&&l.viewport&&i&&n({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:_d(i.paddingTop),paddingEnd:_d(i.paddingBottom)}})}})}),[_M,d1]=n1(Oa),o1=o.forwardRef((s,t)=>{const{__scopeScrollArea:a,sizes:n,hasThumb:r,onThumbChange:l,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:m,onWheelScroll:u,onResize:h,...p}=s,g=Qt(Oa,a),[b,N]=o.useState(null),j=Oe(t,k=>N(k)),x=o.useRef(null),f=o.useRef(""),w=g.viewport,D=n.content-n.viewport,y=nt(u),T=nt(d),v=Co(h,10);function P(k){if(x.current){const C=k.clientX-x.current.left,M=k.clientY-x.current.top;m({x:C,y:M})}}return o.useEffect(()=>{const k=C=>{const M=C.target;(b==null?void 0:b.contains(M))&&y(C,D)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[w,b,D,y]),o.useEffect(T,[n,T]),vl(b,v),vl(g.content,v),e.jsx(_M,{scope:a,scrollbar:b,hasThumb:r,onThumbChange:nt(l),onThumbPointerUp:nt(i),onThumbPositionChange:T,onThumbPointerDown:nt(c),children:e.jsx(ye.div,{...p,ref:j,style:{position:"absolute",...p.style},onPointerDown:ve(s.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),x.current=b.getBoundingClientRect(),f.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),P(k))}),onPointerMove:ve(s.onPointerMove,P),onPointerUp:ve(s.onPointerUp,k=>{const C=k.target;C.hasPointerCapture(k.pointerId)&&C.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=f.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),Od="ScrollAreaThumb",m1=o.forwardRef((s,t)=>{const{forceMount:a,...n}=s,r=d1(Od,s.__scopeScrollArea);return e.jsx(Bt,{present:a||r.hasThumb,children:e.jsx(LM,{ref:t,...n})})}),LM=o.forwardRef((s,t)=>{const{__scopeScrollArea:a,style:n,...r}=s,l=Qt(Od,a),i=d1(Od,a),{onThumbPositionChange:c}=i,d=Oe(t,h=>i.onThumbChange(h)),m=o.useRef(void 0),u=Co(()=>{m.current&&(m.current(),m.current=void 0)},100);return o.useEffect(()=>{const h=l.viewport;if(h){const p=()=>{if(u(),!m.current){const g=$M(h,c);m.current=g,c()}};return c(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[l.viewport,u,c]),e.jsx(ye.div,{"data-state":i.hasThumb?"visible":"hidden",...r,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ve(s.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),b=h.clientX-g.left,N=h.clientY-g.top;i.onThumbPointerDown({x:b,y:N})}),onPointerUp:ve(s.onPointerUp,i.onThumbPointerUp)})});m1.displayName=Od;var Ah="ScrollAreaCorner",x1=o.forwardRef((s,t)=>{const a=Qt(Ah,s.__scopeScrollArea),n=!!(a.scrollbarX&&a.scrollbarY);return a.type!=="scroll"&&n?e.jsx(zM,{...s,ref:t}):null});x1.displayName=Ah;var zM=o.forwardRef((s,t)=>{const{__scopeScrollArea:a,...n}=s,r=Qt(Ah,a),[l,i]=o.useState(0),[c,d]=o.useState(0),m=!!(l&&c);return vl(r.scrollbarX,()=>{var h;const u=((h=r.scrollbarX)==null?void 0:h.offsetHeight)||0;r.onCornerHeightChange(u),d(u)}),vl(r.scrollbarY,()=>{var h;const u=((h=r.scrollbarY)==null?void 0:h.offsetWidth)||0;r.onCornerWidthChange(u),i(u)}),m?e.jsx(ye.div,{...n,ref:t,style:{width:l,height:c,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...s.style}}):null});function _d(s){return s?parseInt(s,10):0}function u1(s,t){const a=s/t;return isNaN(a)?0:a}function So(s){const t=u1(s.viewport,s.content),a=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,n=(s.scrollbar.size-a)*t;return Math.max(n,18)}function FM(s,t,a,n="ltr"){const r=So(a),l=r/2,i=t||l,c=r-i,d=a.scrollbar.paddingStart+i,m=a.scrollbar.size-a.scrollbar.paddingEnd-c,u=a.content-a.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return h1([d,m],h)(s)}function rj(s,t,a="ltr"){const n=So(t),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-r,i=t.content-t.viewport,c=l-n,d=a==="ltr"?[0,i]:[i*-1,0],m=Li(s,d);return h1([0,i],[0,c])(m)}function h1(s,t){return a=>{if(s[0]===s[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(s[1]-s[0]);return t[0]+n*(a-s[0])}}function f1(s,t){return s>0&&s<t}var $M=(s,t=()=>{})=>{let a={left:s.scrollLeft,top:s.scrollTop},n=0;return function r(){const l={left:s.scrollLeft,top:s.scrollTop},i=a.left!==l.left,c=a.top!==l.top;(i||c)&&t(),a=l,n=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(n)};function Co(s,t){const a=nt(s),n=o.useRef(0);return o.useEffect(()=>()=>window.clearTimeout(n.current),[]),o.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(a,t)},[a,t])}function vl(s,t){const a=nt(t);Is(()=>{let n=0;if(s){const r=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(a)});return r.observe(s),()=>{window.cancelAnimationFrame(n),r.unobserve(s)}}},[s,a])}var p1=r1,BM=i1,WM=x1;const ot=o.forwardRef(({className:s,children:t,...a},n)=>e.jsxs(p1,{ref:n,className:X("relative overflow-hidden",s),...a,children:[e.jsx(BM,{className:"h-full w-full rounded-[inherit]",children:t}),e.jsx(j1,{}),e.jsx(WM,{})]}));ot.displayName=p1.displayName;const j1=o.forwardRef(({className:s,orientation:t="vertical",...a},n)=>e.jsx(Rh,{ref:n,orientation:t,className:X("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...a,children:e.jsx(m1,{className:"relative flex-1 rounded-full bg-border"})}));j1.displayName=Rh.displayName;var g1={exports:{}},v1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=o;function VM(s,t){return s===t&&(s!==0||1/s===1/t)||s!==s&&t!==t}var UM=typeof Object.is=="function"?Object.is:VM,qM=Nl.useState,HM=Nl.useEffect,GM=Nl.useLayoutEffect,YM=Nl.useDebugValue;function KM(s,t){var a=t(),n=qM({inst:{value:a,getSnapshot:t}}),r=n[0].inst,l=n[1];return GM(function(){r.value=a,r.getSnapshot=t,ym(r)&&l({inst:r})},[s,a,t]),HM(function(){return ym(r)&&l({inst:r}),s(function(){ym(r)&&l({inst:r})})},[s]),YM(a),a}function ym(s){var t=s.getSnapshot;s=s.value;try{var a=t();return!UM(s,a)}catch{return!0}}function QM(s,t){return t()}var XM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?QM:KM;v1.useSyncExternalStore=Nl.useSyncExternalStore!==void 0?Nl.useSyncExternalStore:XM;g1.exports=v1;var ZM=g1.exports;function JM(){return ZM.useSyncExternalStore(eP,()=>!0,()=>!1)}function eP(){return()=>{}}var Ih="Avatar",[sP,zA]=Ct(Ih),[tP,N1]=sP(Ih),y1=o.forwardRef((s,t)=>{const{__scopeAvatar:a,...n}=s,[r,l]=o.useState("idle");return e.jsx(tP,{scope:a,imageLoadingStatus:r,onImageLoadingStatusChange:l,children:e.jsx(ye.span,{...n,ref:t})})});y1.displayName=Ih;var w1="AvatarImage",b1=o.forwardRef((s,t)=>{const{__scopeAvatar:a,src:n,onLoadingStatusChange:r=()=>{},...l}=s,i=N1(w1,a),c=aP(n,l),d=nt(m=>{r(m),i.onImageLoadingStatusChange(m)});return Is(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?e.jsx(ye.img,{...l,ref:t,src:n}):null});b1.displayName=w1;var S1="AvatarFallback",C1=o.forwardRef((s,t)=>{const{__scopeAvatar:a,delayMs:n,...r}=s,l=N1(S1,a),[i,c]=o.useState(n===void 0);return o.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(d)}},[n]),i&&l.imageLoadingStatus!=="loaded"?e.jsx(ye.span,{...r,ref:t}):null});C1.displayName=S1;function lj(s,t){return s?t?(s.src!==t&&(s.src=t),s.complete&&s.naturalWidth>0?"loaded":"loading"):"error":"idle"}function aP(s,{referrerPolicy:t,crossOrigin:a}){const n=JM(),r=o.useRef(null),l=n?(r.current||(r.current=new window.Image),r.current):null,[i,c]=o.useState(()=>lj(l,s));return Is(()=>{c(lj(l,s))},[l,s]),Is(()=>{const d=h=>()=>{c(h)};if(!l)return;const m=d("loaded"),u=d("error");return l.addEventListener("load",m),l.addEventListener("error",u),t&&(l.referrerPolicy=t),typeof a=="string"&&(l.crossOrigin=a),()=>{l.removeEventListener("load",m),l.removeEventListener("error",u)}},[l,a,t]),i}var k1=y1,M1=b1,P1=C1;const Vs=o.forwardRef(({className:s,...t},a)=>e.jsx(k1,{ref:a,className:X("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t}));Vs.displayName=k1.displayName;const tn=o.forwardRef(({className:s,...t},a)=>e.jsx(M1,{ref:a,className:X("aspect-square h-full w-full",s),...t}));tn.displayName=M1.displayName;const mt=o.forwardRef(({className:s,...t},a)=>e.jsx(P1,{ref:a,className:X("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t}));mt.displayName=P1.displayName;function ij(){const{user:s}=rs(),[t,a]=o.useState(null),[n,r]=o.useState(""),[l,i]=o.useState(""),[c,d]=o.useState([]),[m,u]=o.useState([]),h=o.useRef(null);o.useEffect(()=>{u([{id:"1",participantId:"1",participantName:"张教授",participantRole:"导师",lastMessage:"方案整体不错，但需要注意以下几点...",lastMessageTime:new Date(Date.now()-1e3*60*45),unreadCount:2,isOnline:!0},{id:"2",participantId:"2",participantName:"李同学",participantRole:"学生",lastMessage:"收到，我会尽快修改实验方案",lastMessageTime:new Date(Date.now()-1e3*60*60*2),unreadCount:0,isOnline:!1},{id:"3",participantId:"3",participantName:"王教授",participantRole:"导师",lastMessage:"下周三的组会安排在下午3点",lastMessageTime:new Date(Date.now()-1e3*60*60*24),unreadCount:1,isOnline:!0}])},[]),o.useEffect(()=>{t&&d([{id:"1",senderId:"student",senderName:"我",content:"关于实验设计，我有几个问题...",timestamp:new Date(Date.now()-1e3*60*60),type:"text",isRead:!0},{id:"2",senderId:"student",senderName:"我",content:"实验方案v1.pdf",timestamp:new Date(Date.now()-1e3*60*55),type:"file",fileName:"实验方案v1.pdf",fileUrl:"/files/experiment-plan.pdf",isRead:!0},{id:"3",senderId:t.participantId,senderName:t.participantName,content:`方案整体不错，但需要注意以下几点:
1. 样本量需要增加到30个
2. 对照组设置需要更严格`,timestamp:new Date(Date.now()-1e3*60*45),type:"text",isRead:!0},{id:"4",senderId:t.participantId,senderName:t.participantName,content:"",timestamp:new Date(Date.now()-1e3*60*40),type:"voice",duration:150,fileUrl:"/files/voice-message.mp3",isRead:!1}])},[t]),o.useEffect(()=>{p()},[c]);const p=()=>{var x;(x=h.current)==null||x.scrollIntoView({behavior:"smooth"})},g=()=>{if(!n.trim()||!t)return;const x={id:Date.now().toString(),senderId:"student",senderName:"我",content:n,timestamp:new Date,type:"text",isRead:!1};d([...c,x]),r("");const f=m.map(w=>w.id===t.id?{...w,lastMessage:n,lastMessageTime:new Date}:w);u(f)},b=x=>{const f=x.getHours().toString().padStart(2,"0"),w=x.getMinutes().toString().padStart(2,"0");return`${f}:${w}`},N=x=>{const w=new Date().getTime()-x.getTime(),D=Math.floor(w/(1e3*60*60*24));return D===0?"今天":D===1?"昨天":D<7?`${D}天前`:x.toLocaleDateString("zh-CN")},j=m.filter(x=>x.participantName.toLowerCase().includes(l.toLowerCase()));return s?s.role!=="professor"&&s.role!=="student"?e.jsx(St,{to:"/dashboard",replace:!0}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Pe,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"即时通讯"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-250px)]",children:[e.jsxs(R,{className:"lg:col-span-1",children:[e.jsxs(O,{className:"pb-3",children:[e.jsx(L,{className:"text-lg",children:"消息列表"}),e.jsxs("div",{className:"relative mt-2",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(se,{placeholder:"搜索联系人...",value:l,onChange:x=>i(x.target.value),className:"pl-9"})]})]}),e.jsx(E,{className:"p-0",children:e.jsx(ot,{className:"h-[calc(100vh-380px)]",children:j.map(x=>e.jsx("div",{className:`p-4 border-b cursor-pointer hover:bg-gray-50 ${(t==null?void 0:t.id)===x.id?"bg-gray-100":""}`,onClick:()=>a(x),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(Vs,{children:[e.jsx(tn,{src:x.participantAvatar}),e.jsx(mt,{children:x.participantName[0]})]}),x.isOnline&&e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-semibold truncate",children:x.participantName}),e.jsx("span",{className:"text-xs text-gray-500",children:N(x.lastMessageTime)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600 truncate",children:x.lastMessage}),x.unreadCount>0&&e.jsx(V,{variant:"destructive",className:"ml-2",children:x.unreadCount})]})]})]})},x.id))})})]}),e.jsx(R,{className:"lg:col-span-2",children:t?e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Vs,{children:[e.jsx(tn,{src:t.participantAvatar}),e.jsx(mt,{children:t.participantName[0]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold",children:t.participantName}),e.jsx("p",{className:"text-sm text-gray-500",children:t.participantRole})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{variant:"ghost",size:"icon",children:e.jsx(oo,{className:"h-4 w-4"})}),e.jsx(S,{variant:"ghost",size:"icon",children:e.jsx(jl,{className:"h-4 w-4"})}),e.jsx(S,{variant:"ghost",size:"icon",children:e.jsx(Ce,{className:"h-4 w-4"})}),e.jsx(S,{variant:"ghost",size:"icon",children:e.jsx(co,{className:"h-4 w-4"})})]})]})}),e.jsxs(E,{className:"p-0",children:[e.jsxs(ot,{className:"h-[calc(100vh-450px)] p-4",children:[c.map(x=>e.jsx("div",{className:`flex mb-4 ${x.senderId==="student"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[70%] ${x.senderId==="student"?"order-2":"order-1"}`,children:e.jsxs("div",{className:`rounded-lg p-3 ${x.senderId==="student"?"bg-blue-500 text-white":"bg-gray-200 text-gray-900"}`,children:[x.type==="text"&&e.jsx("p",{className:"whitespace-pre-wrap",children:x.content}),x.type==="file"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ox,{className:"h-4 w-4"}),e.jsx("span",{className:"underline",children:x.fileName})]}),x.type==="voice"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fl,{className:"h-4 w-4"}),e.jsxs("span",{children:["语音消息 ",Math.floor(x.duration/60),":",(x.duration%60).toString().padStart(2,"0")]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("span",{className:`text-xs ${x.senderId==="student"?"text-blue-100":"text-gray-500"}`,children:b(x.timestamp)}),x.senderId==="student"&&e.jsx("span",{className:"text-xs text-blue-100",children:x.isRead?"已读":"未读"})]})]})})},x.id)),e.jsx("div",{ref:h})]}),e.jsx("div",{className:"border-t p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{variant:"ghost",size:"icon",children:e.jsx(Ox,{className:"h-4 w-4"})}),e.jsx(S,{variant:"ghost",size:"icon",children:e.jsx(fl,{className:"h-4 w-4"})}),e.jsx(S,{variant:"ghost",size:"icon",children:e.jsx(ah,{className:"h-4 w-4"})}),e.jsx(se,{placeholder:"输入消息...",value:n,onChange:x=>r(x.target.value),onKeyPress:x=>x.key==="Enter"&&g(),className:"flex-1"}),e.jsx(S,{onClick:g,children:e.jsx(Os,{className:"h-4 w-4"})})]})})]})]}):e.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"选择一个对话开始聊天"})})]})]}),e.jsx(Te,{})]}):e.jsx(St,{to:"/login",replace:!0})}var T1=["PageUp","PageDown"],D1=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],R1={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ll="Slider",[Hx,nP,rP]=ph(Ll),[E1,FA]=Ct(Ll,[rP]),[lP,ko]=E1(Ll),A1=o.forwardRef((s,t)=>{const{name:a,min:n=0,max:r=100,step:l=1,orientation:i="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:m=[n],value:u,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:g=!1,form:b,...N}=s,j=o.useRef(new Set),x=o.useRef(0),w=i==="horizontal"?iP:cP,[D=[],y]=Da({prop:u,defaultProp:m,onChange:M=>{var I;(I=[...j.current][x.current])==null||I.focus(),h(M)}}),T=o.useRef(D);function v(M){const z=uP(D,M);C(M,z)}function P(M){C(M,x.current)}function k(){const M=T.current[x.current];D[x.current]!==M&&p(D)}function C(M,z,{commit:I}={commit:!1}){const F=jP(l),$=gP(Math.round((M-n)/l)*l+n,F),B=Li($,[n,r]);y((A=[])=>{const _=mP(A,B,z);if(pP(_,d*l)){x.current=_.indexOf(B);const q=String(_)!==String(A);return q&&I&&p(_),q?_:A}else return A})}return e.jsx(lP,{scope:s.__scopeSlider,name:a,disabled:c,min:n,max:r,valueIndexToChangeRef:x,thumbs:j.current,values:D,orientation:i,form:b,children:e.jsx(Hx.Provider,{scope:s.__scopeSlider,children:e.jsx(Hx.Slot,{scope:s.__scopeSlider,children:e.jsx(w,{"aria-disabled":c,"data-disabled":c?"":void 0,...N,ref:t,onPointerDown:ve(N.onPointerDown,()=>{c||(T.current=D)}),min:n,max:r,inverted:g,onSlideStart:c?void 0:v,onSlideMove:c?void 0:P,onSlideEnd:c?void 0:k,onHomeKeyDown:()=>!c&&C(n,0,{commit:!0}),onEndKeyDown:()=>!c&&C(r,D.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:z})=>{if(!c){const $=T1.includes(M.key)||M.shiftKey&&D1.includes(M.key)?10:1,B=x.current,A=D[B],_=l*$*z;C(A+_,B,{commit:!0})}}})})})})});A1.displayName=Ll;var[I1,O1]=E1(Ll,{startEdge:"left",endEdge:"right",size:"width",direction:1}),iP=o.forwardRef((s,t)=>{const{min:a,max:n,dir:r,inverted:l,onSlideStart:i,onSlideMove:c,onSlideEnd:d,onStepKeyDown:m,...u}=s,[h,p]=o.useState(null),g=Oe(t,w=>p(w)),b=o.useRef(void 0),N=Al(r),j=N==="ltr",x=j&&!l||!j&&l;function f(w){const D=b.current||h.getBoundingClientRect(),y=[0,D.width],v=Oh(y,x?[a,n]:[n,a]);return b.current=D,v(w-D.left)}return e.jsx(I1,{scope:s.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:e.jsx(_1,{dir:N,"data-orientation":"horizontal",...u,ref:g,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const D=f(w.clientX);i==null||i(D)},onSlideMove:w=>{const D=f(w.clientX);c==null||c(D)},onSlideEnd:()=>{b.current=void 0,d==null||d()},onStepKeyDown:w=>{const y=R1[x?"from-left":"from-right"].includes(w.key);m==null||m({event:w,direction:y?-1:1})}})})}),cP=o.forwardRef((s,t)=>{const{min:a,max:n,inverted:r,onSlideStart:l,onSlideMove:i,onSlideEnd:c,onStepKeyDown:d,...m}=s,u=o.useRef(null),h=Oe(t,u),p=o.useRef(void 0),g=!r;function b(N){const j=p.current||u.current.getBoundingClientRect(),x=[0,j.height],w=Oh(x,g?[n,a]:[a,n]);return p.current=j,w(N-j.top)}return e.jsx(I1,{scope:s.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:e.jsx(_1,{"data-orientation":"vertical",...m,ref:h,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:N=>{const j=b(N.clientY);l==null||l(j)},onSlideMove:N=>{const j=b(N.clientY);i==null||i(j)},onSlideEnd:()=>{p.current=void 0,c==null||c()},onStepKeyDown:N=>{const x=R1[g?"from-bottom":"from-top"].includes(N.key);d==null||d({event:N,direction:x?-1:1})}})})}),_1=o.forwardRef((s,t)=>{const{__scopeSlider:a,onSlideStart:n,onSlideMove:r,onSlideEnd:l,onHomeKeyDown:i,onEndKeyDown:c,onStepKeyDown:d,...m}=s,u=ko(Ll,a);return e.jsx(ye.span,{...m,ref:t,onKeyDown:ve(s.onKeyDown,h=>{h.key==="Home"?(i(h),h.preventDefault()):h.key==="End"?(c(h),h.preventDefault()):T1.concat(D1).includes(h.key)&&(d(h),h.preventDefault())}),onPointerDown:ve(s.onPointerDown,h=>{const p=h.target;p.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(p)?p.focus():n(h)}),onPointerMove:ve(s.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&r(h)}),onPointerUp:ve(s.onPointerUp,h=>{const p=h.target;p.hasPointerCapture(h.pointerId)&&(p.releasePointerCapture(h.pointerId),l(h))})})}),L1="SliderTrack",z1=o.forwardRef((s,t)=>{const{__scopeSlider:a,...n}=s,r=ko(L1,a);return e.jsx(ye.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...n,ref:t})});z1.displayName=L1;var Gx="SliderRange",F1=o.forwardRef((s,t)=>{const{__scopeSlider:a,...n}=s,r=ko(Gx,a),l=O1(Gx,a),i=o.useRef(null),c=Oe(t,i),d=r.values.length,m=r.values.map(p=>W1(p,r.min,r.max)),u=d>1?Math.min(...m):0,h=100-Math.max(...m);return e.jsx(ye.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...n,ref:c,style:{...s.style,[l.startEdge]:u+"%",[l.endEdge]:h+"%"}})});F1.displayName=Gx;var Yx="SliderThumb",$1=o.forwardRef((s,t)=>{const a=nP(s.__scopeSlider),[n,r]=o.useState(null),l=Oe(t,c=>r(c)),i=o.useMemo(()=>n?a().findIndex(c=>c.ref.current===n):-1,[a,n]);return e.jsx(dP,{...s,ref:l,index:i})}),dP=o.forwardRef((s,t)=>{const{__scopeSlider:a,index:n,name:r,...l}=s,i=ko(Yx,a),c=O1(Yx,a),[d,m]=o.useState(null),u=Oe(t,f=>m(f)),h=d?i.form||!!d.closest("form"):!0,p=Qi(d),g=i.values[n],b=g===void 0?0:W1(g,i.min,i.max),N=xP(n,i.values.length),j=p==null?void 0:p[c.size],x=j?hP(j,b,c.direction):0;return o.useEffect(()=>{if(d)return i.thumbs.add(d),()=>{i.thumbs.delete(d)}},[d,i.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${b}% + ${x}px)`},children:[e.jsx(Hx.ItemSlot,{scope:s.__scopeSlider,children:e.jsx(ye.span,{role:"slider","aria-label":s["aria-label"]||N,"aria-valuemin":i.min,"aria-valuenow":g,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...l,ref:u,style:g===void 0?{display:"none"}:s.style,onFocus:ve(s.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),h&&e.jsx(B1,{name:r??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:g},n)]})});$1.displayName=Yx;var oP="RadioBubbleInput",B1=o.forwardRef(({__scopeSlider:s,value:t,...a},n)=>{const r=o.useRef(null),l=Oe(r,n),i=Ki(t);return o.useEffect(()=>{const c=r.current;if(!c)return;const d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==t&&u){const h=new Event("input",{bubbles:!0});u.call(c,t),c.dispatchEvent(h)}},[i,t]),e.jsx(ye.input,{style:{display:"none"},...a,ref:l,defaultValue:t})});B1.displayName=oP;function mP(s=[],t,a){const n=[...s];return n[a]=t,n.sort((r,l)=>r-l)}function W1(s,t,a){const l=100/(a-t)*(s-t);return Li(l,[0,100])}function xP(s,t){return t>2?`Value ${s+1} of ${t}`:t===2?["Minimum","Maximum"][s]:void 0}function uP(s,t){if(s.length===1)return 0;const a=s.map(r=>Math.abs(r-t)),n=Math.min(...a);return a.indexOf(n)}function hP(s,t,a){const n=s/2,l=Oh([0,50],[0,n]);return(n-l(t)*a)*a}function fP(s){return s.slice(0,-1).map((t,a)=>s[a+1]-t)}function pP(s,t){if(t>0){const a=fP(s);return Math.min(...a)>=t}return!0}function Oh(s,t){return a=>{if(s[0]===s[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(s[1]-s[0]);return t[0]+n*(a-s[0])}}function jP(s){return(String(s).split(".")[1]||"").length}function gP(s,t){const a=Math.pow(10,t);return Math.round(s*a)/a}var V1=A1,vP=z1,NP=F1,yP=$1;const is=o.forwardRef(({className:s,...t},a)=>e.jsxs(V1,{ref:a,className:X("relative flex w-full touch-none select-none items-center",s),...t,children:[e.jsx(vP,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(NP,{className:"absolute h-full bg-primary"})}),e.jsx(yP,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));is.displayName=V1.displayName;function cj(){const{user:s}=rs(),t=o.useRef(null),[a,n]=o.useState([]),[r,l]=o.useState(null),[i,c]=o.useState("select"),[d,m]=o.useState([]),[u,h]=o.useState(-1),[p,g]=o.useState([]),[b,N]=o.useState([]),[j,x]=o.useState(!1),[f,w]=o.useState({x:0,y:0});o.useEffect(()=>{N([{id:"1",name:"学术海报模板1",thumbnail:"/templates/academic1.jpg",elements:[{id:"title",type:"text",x:50,y:50,width:700,height:100,content:"研究项目标题",fontSize:48,fontFamily:"黑体",color:"#000000",alignment:"center",bold:!0}]},{id:"2",name:"学术海报模板2",thumbnail:"/templates/academic2.jpg",elements:[]},{id:"3",name:"简约风格",thumbnail:"/templates/minimal.jpg",elements:[]}]),g([{id:"1",name:"张同学",isOnline:!0,lastActive:new Date},{id:"2",name:"李同学",isOnline:!1,lastActive:new Date(Date.now()-1e3*60*5)}]);const $=[{id:Date.now().toString(),type:"text",x:100,y:50,width:600,height:80,content:"研究海报标题",fontSize:36,fontFamily:"黑体",color:"#000000",alignment:"center",bold:!0}];n($),m([$]),h(0)},[]),o.useEffect(()=>{D()},[a,r]);const D=()=>{const $=t.current;if(!$)return;const B=$.getContext("2d");if(B){B.clearRect(0,0,$.width,$.height),B.fillStyle="#ffffff",B.fillRect(0,0,$.width,$.height),B.strokeStyle="#f0f0f0",B.lineWidth=1;for(let A=0;A<$.width;A+=20)B.beginPath(),B.moveTo(A,0),B.lineTo(A,$.height),B.stroke();for(let A=0;A<$.height;A+=20)B.beginPath(),B.moveTo(0,A),B.lineTo($.width,A),B.stroke();a.forEach(A=>{if(A.type==="text"){B.font=`${A.bold?"bold ":""}${A.italic?"italic ":""}${A.fontSize}px ${A.fontFamily}`,B.fillStyle=A.color||"#000000",B.textAlign=A.alignment||"left",B.textBaseline="top";const _=A.alignment==="center"?A.x+A.width/2:A.alignment==="right"?A.x+A.width:A.x;if(B.fillText(A.content||"",_,A.y),A.underline){const q=B.measureText(A.content||"");B.beginPath(),B.moveTo(_-(A.alignment==="center"?q.width/2:0),A.y+A.fontSize),B.lineTo(_+(A.alignment==="center"?q.width/2:q.width),A.y+A.fontSize),B.strokeStyle=A.color||"#000000",B.stroke()}}else A.type==="shape"&&(B.fillStyle=A.backgroundColor||"#000000",A.shapeType==="rectangle"?B.fillRect(A.x,A.y,A.width,A.height):A.shapeType==="circle"?(B.beginPath(),B.arc(A.x+A.width/2,A.y+A.height/2,Math.min(A.width,A.height)/2,0,2*Math.PI),B.fill()):A.shapeType==="triangle"&&(B.beginPath(),B.moveTo(A.x+A.width/2,A.y),B.lineTo(A.x,A.y+A.height),B.lineTo(A.x+A.width,A.y+A.height),B.closePath(),B.fill()));(r==null?void 0:r.id)===A.id&&(B.strokeStyle="#3b82f6",B.lineWidth=2,B.setLineDash([5,5]),B.strokeRect(A.x-5,A.y-5,A.width+10,A.height+10),B.setLineDash([]))})}},y=$=>{const B={id:Date.now().toString(),type:$,x:100,y:100,width:$==="text"?200:100,height:$==="text"?40:100,content:$==="text"?"新文本":void 0,fontSize:$==="text"?16:void 0,fontFamily:$==="text"?"Arial":void 0,color:$==="text"?"#000000":void 0,backgroundColor:$==="shape"?"#3b82f6":void 0,shapeType:$==="shape"?"rectangle":void 0,alignment:$==="text"?"left":void 0},A=[...a,B];n(A),l(B),v(A)},T=$=>{if(!r)return;const B=a.map(A=>A.id===r.id?{...A,...$}:A);n(B),l({...r,...$}),v(B)},v=$=>{const B=d.slice(0,u+1);B.push($),m(B),h(B.length-1)},P=()=>{u>0&&(h(u-1),n(d[u-1]))},k=()=>{u<d.length-1&&(h(u+1),n(d[u+1]))},C=$=>{const B=t.current;if(!B)return;const A=B.getBoundingClientRect(),_=$.clientX-A.left,q=$.clientY-A.top,U=a.find(G=>_>=G.x&&_<=G.x+G.width&&q>=G.y&&q<=G.y+G.height);l(U||null)},M=$=>{if(!r)return;const B=t.current;if(!B)return;const A=B.getBoundingClientRect(),_=$.clientX-A.left,q=$.clientY-A.top;_>=r.x&&_<=r.x+r.width&&q>=r.y&&q<=r.y+r.height&&(x(!0),w({x:_-r.x,y:q-r.y}))},z=$=>{if(!j||!r)return;const B=t.current;if(!B)return;const A=B.getBoundingClientRect(),_=$.clientX-A.left,q=$.clientY-A.top;T({x:_-f.x,y:q-f.y})},I=()=>{x(!1)},F=$=>{n($.elements),v($.elements)};return s?s.role!=="student"?e.jsx(St,{to:"/dashboard",replace:!0}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Pe,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"海报设计器"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline",onClick:()=>console.log("Save"),children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"保存"]}),e.jsxs(S,{variant:"outline",onClick:()=>console.log("Preview"),children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"预览"]}),e.jsxs(S,{onClick:()=>console.log("Submit"),children:[e.jsx(Os,{className:"h-4 w-4 mr-2"}),"提交"]})]})]}),e.jsx(R,{className:"mb-4",children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex gap-2 border-r pr-4",children:[e.jsxs(S,{variant:i==="text"?"default":"outline",size:"sm",onClick:()=>{c("text"),y("text")},children:[e.jsx(fy,{className:"h-4 w-4"}),"文字"]}),e.jsxs(S,{variant:i==="shape"?"default":"outline",size:"sm",onClick:()=>{c("shape"),y("shape")},children:[e.jsx(Ep,{className:"h-4 w-4"}),"图形"]}),e.jsxs(S,{variant:"outline",size:"sm",disabled:!0,children:[e.jsx(ry,{className:"h-4 w-4"}),"图片"]}),e.jsxs(S,{variant:"outline",size:"sm",disabled:!0,children:[e.jsx(aa,{className:"h-4 w-4"}),"图表"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline",size:"sm",onClick:P,disabled:u<=0,children:[e.jsx(H3,{className:"h-4 w-4"}),"撤销"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:k,disabled:u>=d.length-1,children:[e.jsx(O3,{className:"h-4 w-4"}),"重做"]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsx(R,{className:"h-full",children:e.jsxs(E,{className:"p-4",children:[e.jsx("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden",children:e.jsx("canvas",{ref:t,width:800,height:600,className:"cursor-pointer",onClick:C,onMouseDown:M,onMouseMove:z,onMouseUp:I,onMouseLeave:I})}),e.jsxs("div",{className:"mt-4 flex items-center gap-4 text-sm text-gray-600",children:[e.jsx("span",{children:"协作者:"}),p.map($=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-300 flex items-center justify-center text-xs",children:$.name[0]}),e.jsx("span",{children:$.name}),$.isOnline?e.jsx(V,{variant:"secondary",className:"text-xs",children:"在线"}):e.jsxs("span",{className:"text-xs text-gray-500",children:[Math.floor((Date.now()-$.lastActive.getTime())/6e4),"分钟前"]})]},$.id))]})]})})}),e.jsxs("div",{className:"space-y-4",children:[r&&e.jsxs(R,{children:[e.jsxs(O,{className:"pb-3",children:[e.jsx(L,{className:"text-lg",children:"属性面板"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["选中元素：",r.type==="text"?"文本":"图形"]})]}),e.jsxs(E,{children:[r.type==="text"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"文本内容"}),e.jsx(se,{value:r.content||"",onChange:$=>T({content:$.target.value})})]}),e.jsxs("div",{children:[e.jsx(H,{children:"字体"}),e.jsxs(ie,{value:r.fontFamily,onValueChange:$=>T({fontFamily:$}),children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"黑体",children:"黑体"}),e.jsx(W,{value:"宋体",children:"宋体"}),e.jsx(W,{value:"Arial",children:"Arial"}),e.jsx(W,{value:"Times New Roman",children:"Times New Roman"})]})]})]}),e.jsxs("div",{children:[e.jsxs(H,{children:["大小: ",r.fontSize,"px"]}),e.jsx(is,{value:[r.fontSize||16],onValueChange:([$])=>T({fontSize:$}),min:12,max:72,step:1})]}),e.jsxs("div",{children:[e.jsx(H,{children:"颜色"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(se,{type:"color",value:r.color,onChange:$=>T({color:$.target.value}),className:"w-20"}),e.jsx(se,{value:r.color,onChange:$=>T({color:$.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"对齐"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{variant:r.alignment==="left"?"default":"outline",size:"sm",onClick:()=>T({alignment:"left"}),children:e.jsx(r3,{className:"h-4 w-4"})}),e.jsx(S,{variant:r.alignment==="center"?"default":"outline",size:"sm",onClick:()=>T({alignment:"center"}),children:e.jsx(n3,{className:"h-4 w-4"})}),e.jsx(S,{variant:r.alignment==="right"?"default":"outline",size:"sm",onClick:()=>T({alignment:"right"}),children:e.jsx(l3,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"样式"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{variant:r.bold?"default":"outline",size:"sm",onClick:()=>T({bold:!r.bold}),children:e.jsx(d3,{className:"h-4 w-4"})}),e.jsx(S,{variant:r.italic?"default":"outline",size:"sm",onClick:()=>T({italic:!r.italic}),children:e.jsx(w3,{className:"h-4 w-4"})}),e.jsx(S,{variant:r.underline?"default":"outline",size:"sm",onClick:()=>T({underline:!r.underline}),children:e.jsx(q3,{className:"h-4 w-4"})})]})]})]}),r.type==="shape"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"形状类型"}),e.jsxs(ie,{value:r.shapeType,onValueChange:$=>T({shapeType:$}),children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"rectangle",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ep,{className:"h-4 w-4"}),"矩形"]})}),e.jsx(W,{value:"circle",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oa,{className:"h-4 w-4"}),"圆形"]})}),e.jsx(W,{value:"triangle",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U3,{className:"h-4 w-4"}),"三角形"]})})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"背景色"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(se,{type:"color",value:r.backgroundColor,onChange:$=>T({backgroundColor:$.target.value}),className:"w-20"}),e.jsx(se,{value:r.backgroundColor,onChange:$=>T({backgroundColor:$.target.value})})]})]})]})]})]}),e.jsxs(R,{children:[e.jsx(O,{className:"pb-3",children:e.jsx(L,{className:"text-lg",children:"模板库"})}),e.jsx(E,{children:e.jsx(ot,{className:"h-64",children:e.jsxs("div",{className:"space-y-2",children:[b.map($=>e.jsx(S,{variant:"outline",className:"w-full justify-start",onClick:()=>F($),children:$.name},$.id)),e.jsxs(S,{variant:"outline",className:"w-full justify-start",children:[e.jsx(as,{className:"h-4 w-4 mr-2"}),"自定义模板"]})]})})})]})]})]})]}),e.jsx(Te,{})]}):e.jsx(St,{to:"/login",replace:!0})}function dj(){const{user:s}=rs();Qe();const[t,a]=o.useState([{id:"1",title:"研究背景",required:!0,status:"completed",wordCount:1200,content:""},{id:"2",title:"文献综述",required:!0,status:"completed",wordCount:1500,content:""},{id:"3",title:"研究方法",required:!0,status:"editing",wordCount:800,content:""},{id:"4",title:"实验过程",required:!0,status:"pending",wordCount:0,content:""},{id:"5",title:"结果分析",required:!0,status:"pending",wordCount:0,content:""},{id:"6",title:"结论与展望",required:!0,status:"pending",wordCount:0,content:""},{id:"7",title:"参考文献",required:!0,status:"editing",wordCount:0,content:""},{id:"8",title:"附录",required:!1,status:"pending",wordCount:0,content:""}]),[n,r]=o.useState(15),[l,i]=o.useState(!1),[c,d]=o.useState(null),[m,u]=o.useState(null),[h,p]=o.useState({}),[g,b]=o.useState([{id:"1",timestamp:new Date(Date.now()-864e5),sections:t,totalWordCount:3500,version:"v1.0"}]),[N,j]=o.useState(!1),x=t.reduce((U,G)=>U+G.wordCount,0),f=1e4,w=Math.min(Math.round(x/f*100),100),D=new Date;D.setDate(D.getDate()+3),D.setHours(D.getHours()+12);const y=()=>{const U=new Date,G=D.getTime()-U.getTime(),Y=Math.floor(G/(1e3*60*60*24)),ne=Math.floor(G%(1e3*60*60*24)/(1e3*60*60));return`${Y}天${ne}小时`},[T,v]=o.useState(y());o.useEffect(()=>{const U=setInterval(()=>{v(y())},6e4);return()=>clearInterval(U)},[]);const P=U=>{switch(U){case"completed":return e.jsx(fe,{className:"w-4 h-4 text-green-500"});case"editing":return e.jsx(dh,{className:"w-4 h-4 text-blue-500"});case"pending":return e.jsx(oa,{className:"w-4 h-4 text-gray-400"});default:return null}},k=U=>{switch(U){case"completed":return"已完成";case"editing":return"编辑中...";case"pending":return"待填写";default:return""}},C=U=>{u(U);const G=t.find(Y=>Y.id===U);G&&p({...h,[U]:G.content})},M=U=>{const G=h[U]||"",Y=G.split(/\s+/).filter(ne=>ne.length>0).length;a(t.map(ne=>ne.id===U?{...ne,content:G,wordCount:Y,status:"completed"}:ne)),u(null)},z=()=>{u(null)},I=()=>{const U={id:String(g.length+1),timestamp:new Date,sections:[...t],totalWordCount:x,version:`v1.${g.length}`};b([...g,U])},F=U=>{a(U.sections),j(!1)},$=()=>{const U=document.createElement("input");U.type="file",U.accept=".doc,.docx",U.onchange=G=>{var ne;((ne=G.target.files)==null?void 0:ne[0])&&alert("Word文档导入功能已启用")},U.click()},B=()=>{alert("自动排版功能已应用")},A=()=>{alert("格式检查完成：发现2个格式问题需要修正")},_=()=>{I(),i(!0),d(new Date),setTimeout(()=>i(!1),3e3)},q=()=>{if(w<100){alert("请完成所有必填项后再提交");return}alert("研究报告已成功提交")};return(s==null?void 0:s.role)!=="student"?e.jsx("div",{className:"container mx-auto p-6",children:e.jsx(R,{children:e.jsx(E,{className:"p-6",children:e.jsx("p",{className:"text-center text-gray-500",children:"只有学生可以访问研究报告提交系统"})})})}):e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs(R,{children:[e.jsxs(O,{className:"flex flex-row items-center justify-between",children:[e.jsx(L,{className:"text-2xl font-bold",children:"提交研究报告"}),e.jsxs(V,{variant:"destructive",className:"text-sm",children:[e.jsx(Ce,{className:"w-4 h-4 mr-1"}),"截止: ",T]})]}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-lg",children:"报告结构（必填项标*）"})}),e.jsx(E,{className:"space-y-3",children:t.map(U=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>C(U.id),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-gray-600",children:[U.id,"."]}),e.jsxs("span",{className:"font-medium",children:[U.title,U.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[P(U.status),e.jsx("span",{className:"text-sm text-gray-500",children:k(U.status)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[U.wordCount>0&&e.jsxs("span",{className:"text-sm text-gray-500",children:[U.wordCount,"字"]}),U.id==="7"&&e.jsxs(V,{variant:"outline",className:"text-sm",children:[n,"/10条"]})]})]}),m===U.id&&e.jsxs("div",{className:"mt-3 p-4 border rounded-lg bg-gray-50",children:[e.jsx(Ie,{value:h[U.id]||"",onChange:G=>p({...h,[U.id]:G.target.value}),placeholder:`请输入${U.title}内容...`,className:"min-h-[200px] mb-3"}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(S,{variant:"outline",size:"sm",onClick:z,children:"取消"}),e.jsx(S,{size:"sm",onClick:()=>M(U.id),children:"保存"})]})]})]},U.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"完成度:"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[w,"%"]})]}),e.jsx(te,{value:w,className:"h-3"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"字数统计:"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[x.toLocaleString()," / ",f.toLocaleString(),"字"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(S,{variant:"outline",onClick:$,children:[e.jsx(Ms,{className:"w-4 h-4 mr-2"}),"导入Word"]}),e.jsxs(S,{variant:"outline",onClick:B,children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"自动排版"]}),e.jsxs(S,{variant:"outline",onClick:A,children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),"检查格式"]}),e.jsxs(S,{variant:"outline",onClick:()=>j(!0),children:[e.jsx(Ot,{className:"w-4 h-4 mr-2"}),"版本历史"]}),e.jsxs(S,{variant:"outline",onClick:_,children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"保存草稿"]}),e.jsx(S,{onClick:q,disabled:w<100,className:"ml-auto",children:"提交"})]}),l&&c&&e.jsxs("div",{className:"text-sm text-green-600 text-center",children:["草稿已保存于 ",c.toLocaleTimeString()]})]})]}),e.jsx(Ge,{open:N,onOpenChange:j,children:e.jsxs(Be,{className:"max-w-2xl",children:[e.jsx(We,{children:e.jsx(Ve,{children:"版本历史"})}),e.jsx(ot,{className:"h-[400px] pr-4",children:e.jsx("div",{className:"space-y-4",children:g.map(U=>e.jsx(R,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>F(U),children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:U.version}),e.jsx("p",{className:"text-sm text-gray-500",children:U.timestamp.toLocaleString()}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["字数: ",U.totalWordCount.toLocaleString(),"字"]})]}),e.jsx(S,{variant:"outline",size:"sm",children:"恢复此版本"})]})})},U.id))})})]})})]})}function oj(){const{user:s}=rs(),t=Qe(),[a,n]=o.useState(!1),[r,l]=o.useState("hybrid"),[i,c]=o.useState(!1),d={date:"2025-10-15",time:"14:30-15:00",location:"理学楼 A301",mode:"hybrid",requirements:"15分钟展示 + 10分钟问答"},m=[{id:"1",name:"张教授",role:"chair",institution:"华中科技大学"},{id:"2",name:"李教授",role:"member",institution:"武汉大学"},{id:"3",name:"王教授",role:"member",institution:"华中科技大学"}],u=[{id:"1",studentName:"王小明",topic:"深度学习在医学图像中的应用",time:"13:30",duration:30},{id:"2",studentName:"李小红",topic:"基因编辑技术研究",time:"14:00",duration:30},{id:"3",studentName:"我",topic:"新材料合成与表征",time:"14:30",duration:30,isCurrentUser:!0},{id:"4",studentName:"陈小华",topic:"量子计算算法优化",time:"15:00",duration:30}],h=x=>{switch(x){case"online":return e.jsx(pl,{className:"w-4 h-4"});case"offline":return e.jsx(dr,{className:"w-4 h-4"});case"hybrid":return e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(dr,{className:"w-4 h-4"}),e.jsx(pl,{className:"w-4 h-4"})]});default:return null}},p=x=>{switch(x){case"online":return"纯线上";case"offline":return"纯线下";case"hybrid":return"线下 + 线上混合";default:return""}},g=()=>{t("/online-defense?id=defense-123")},b=()=>{const x=`答辩须知

时间：${d.date} ${d.time}
地点：${d.location}
形式：${p(d.mode)}
要求：${d.requirements}

注意事项：
1. 请提前15分钟到场准备
2. 准备好PPT和相关材料
3. 确保设备正常工作
4. 答辩时间严格控制在规定范围内`,f=new Blob([x],{type:"text/plain"}),w=URL.createObjectURL(f),D=document.createElement("a");D.href=w,D.download="答辩须知.txt",D.click(),URL.revokeObjectURL(w)},N=()=>{const x=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Research Platform//Defense Schedule//CN
BEGIN:VEVENT
UID:defense-${Date.now()}@research-platform
DTSTAMP:${new Date().toISOString().replace(/[-:]/g,"").split(".")[0]}Z
DTSTART:20251015T063000Z
DTEND:20251015T070000Z
SUMMARY:硕士研究生答辩 - 新材料合成与表征
LOCATION:${d.location}
DESCRIPTION:${d.requirements}\\n评委：${m.map(y=>y.name).join("、")}
END:VEVENT
END:VCALENDAR`,f=new Blob([x],{type:"text/calendar"}),w=URL.createObjectURL(f),D=document.createElement("a");D.href=w,D.download="答辩日程.ics",D.click(),URL.revokeObjectURL(w)},j=(s==null?void 0:s.role)==="admin";return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"答辩安排"}),e.jsxs(S,{variant:"outline",onClick:N,children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"导出日程"]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"我的答辩信息"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(hs,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium",children:"时间:"}),e.jsxs("span",{children:[d.date," ",d.time]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(dr,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium",children:"地点:"}),e.jsxs("span",{children:[d.location," / 在线会议室"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[h(d.mode),e.jsx("span",{className:"font-medium",children:"形式:"}),e.jsx("span",{children:p(d.mode)}),j&&e.jsxs(ie,{value:r,onValueChange:x=>l(x),children:[e.jsx(re,{className:"w-40 ml-2",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"offline",children:"纯线下"}),e.jsx(W,{value:"online",children:"纯线上"}),e.jsx(W,{value:"hybrid",children:"混合模式"})]})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(He,{className:"w-5 h-5 text-gray-600 mt-0.5"}),e.jsx("span",{className:"font-medium",children:"评委:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(x=>e.jsxs(V,{variant:x.role==="chair"?"default":"secondary",className:"cursor-pointer",onClick:()=>j&&c(!0),children:[x.name,x.role==="chair"&&"(主席)"]},x.id))})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ce,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium",children:"要求:"}),e.jsx("span",{children:d.requirements})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(S,{onClick:g,children:[e.jsx(jl,{className:"w-4 h-4 mr-2"}),"加入在线会议"]}),e.jsxs(S,{variant:"outline",onClick:b,children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"下载答辩须知"]}),e.jsxs(S,{variant:"outline",onClick:()=>n(!0),children:[e.jsx(fl,{className:"w-4 h-4 mr-2"}),"模拟答辩"]})]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"答辩顺序"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:u.map(x=>e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg transition-colors ${x.isCurrentUser?"bg-blue-50 border-2 border-blue-300":"bg-gray-50 hover:bg-gray-100"}`,children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-lg font-medium text-gray-700",children:x.time}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:x.studentName}),e.jsx("span",{className:"text-gray-600",children:"-"}),e.jsx("span",{className:"text-gray-700",children:x.topic}),x.isCurrentUser&&e.jsx(Ex,{className:"w-4 h-4 text-blue-600"})]})})]}),j&&e.jsx(S,{variant:"ghost",size:"sm",children:"编辑"})]},x.id))})})]}),e.jsx(Ge,{open:a,onOpenChange:n,children:e.jsxs(Be,{className:"max-w-2xl",children:[e.jsx(We,{children:e.jsx(Ve,{children:"模拟答辩"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"模拟答辩功能可以帮助您熟悉答辩流程，测试设备，练习演讲。"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"功能特点："}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600",children:[e.jsx("li",{children:"测试摄像头和麦克风"}),e.jsx("li",{children:"练习屏幕共享"}),e.jsx("li",{children:"计时功能，掌控节奏"}),e.jsx("li",{children:"录制回放，改进表现"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(S,{variant:"outline",onClick:()=>n(!1),children:"取消"}),e.jsx(S,{onClick:()=>{n(!1),t("/online-defense?id=mock-defense")},children:"开始模拟"})]})]})]})}),j&&e.jsx(Ge,{open:i,onOpenChange:c,children:e.jsxs(Be,{children:[e.jsx(We,{children:e.jsx(Ve,{children:"评委管理"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-3",children:m.map(x=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:x.name}),e.jsx("div",{className:"text-sm text-gray-500",children:x.institution})]}),e.jsxs(ie,{value:x.role,onValueChange:()=>{},children:[e.jsx(re,{className:"w-24",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"chair",children:"主席"}),e.jsx(W,{value:"member",children:"成员"})]})]})]},x.id))}),e.jsx(S,{className:"w-full",variant:"outline",children:"添加评委"})]})]})})]})}function mj(){const{user:s}=rs(),t=Qe(),[a]=V5();a.get("id");const[n,r]=o.useState(null),[l,i]=o.useState(!0),[c,d]=o.useState(!0),[m,u]=o.useState(!1),[h,p]=o.useState(null),[g,b]=o.useState(!1),[N,j]=o.useState([]),[x,f]=o.useState("good"),[w,D]=o.useState("video"),[y,T]=o.useState(!1),[v,P]=o.useState(!1),[k,C]=o.useState(""),[M,z]=o.useState(""),[I,F]=o.useState(80),[$,B]=o.useState(0),A=o.useRef(null),_=o.useRef({}),q=o.useRef(null),U=o.useRef(null),[G,Y]=o.useState([{id:"1",name:"张教授",role:"chair",videoEnabled:!0,audioEnabled:!0},{id:"2",name:"李教授",role:"reviewer",videoEnabled:!0,audioEnabled:!1},{id:"3",name:"王教授",role:"reviewer",videoEnabled:!1,audioEnabled:!0},{id:"4",name:"我",role:"student",videoEnabled:!0,audioEnabled:!0}]),[ne,ge]=o.useState([{id:"1",sender:"系统",message:"答辩会议已开始",timestamp:new Date,type:"system"},{id:"2",sender:"张教授",message:"请开始您的陈述",timestamp:new Date,type:"chat"}]),[ke,Z]=o.useState([{reviewerId:"1",reviewerName:"张教授",presentation:0,content:0,qa:0,overall:0,comments:"",submitted:!1},{reviewerId:"2",reviewerName:"李教授",presentation:0,content:0,qa:0,overall:0,comments:"",submitted:!1},{reviewerId:"3",reviewerName:"王教授",presentation:0,content:0,qa:0,overall:0,comments:"",submitted:!1}]);o.useEffect(()=>{(async()=>{try{const fs=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});r(fs),A.current&&(A.current.srcObject=fs)}catch(fs){console.error("Error accessing media devices:",fs)}})(),U.current=setInterval(()=>{B(fs=>fs+1)},1e3);const _s=setInterval(()=>{const fs=["good","good","fair","poor"];f(fs[Math.floor(Math.random()*fs.length)])},5e3);return()=>{n&&n.getTracks().forEach(fs=>fs.stop()),U.current&&clearInterval(U.current),clearInterval(_s)}},[]);const pe=()=>{if(n){const oe=n.getVideoTracks()[0];oe&&(oe.enabled=!l,i(!l))}},Ee=()=>{if(n){const oe=n.getAudioTracks()[0];oe&&(oe.enabled=!c,d(!c))}},ae=async()=>{try{const oe=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!1});p(oe),u(!0),oe.getVideoTracks()[0].onended=()=>{me()}}catch(oe){console.error("Error sharing screen:",oe)}},me=()=>{h&&(h.getTracks().forEach(oe=>oe.stop()),p(null),u(!1))},De=()=>{if(n){const oe=new MediaRecorder(n);q.current=oe,oe.ondataavailable=_s=>{_s.data.size>0&&j(fs=>[...fs,_s.data])},oe.start(),b(!0)}},Fe=()=>{q.current&&(q.current.stop(),b(!1),setTimeout(()=>{const oe=new Blob(N,{type:"video/webm"}),_s=URL.createObjectURL(oe),fs=document.createElement("a");fs.href=_s,fs.download=`defense-recording-${Date.now()}.webm`,fs.click(),URL.revokeObjectURL(_s),j([])},1e3))},bs=()=>{if(k.trim()){const oe={id:Date.now().toString(),sender:(s==null?void 0:s.name)||"我",message:k,timestamp:new Date,type:"chat"};ge([...ne,oe]),C("")}},it=()=>{if(M.trim()){const oe={id:Date.now().toString(),sender:(s==null?void 0:s.name)||"我",message:`[问题] ${M}`,timestamp:new Date,type:"question"};ge([...ne,oe]),z("")}},Wt=(oe,_s,fs)=>{Z(ke.map(Zn=>Zn.reviewerId===oe?{...Zn,[_s]:fs}:Zn))},La=oe=>{Z(ke.map(_s=>_s.reviewerId===oe?{..._s,submitted:!0}:_s)),alert("评分已提交")},za=oe=>{const _s=Math.floor(oe/60),fs=oe%60;return`${_s.toString().padStart(2,"0")}:${fs.toString().padStart(2,"0")}`},Fl=()=>{switch(x){case"good":return e.jsx(Td,{className:"w-4 h-4 text-green-600"});case"fair":return e.jsx(Td,{className:"w-4 h-4 text-yellow-600"});case"poor":return e.jsx(py,{className:"w-4 h-4 text-red-600"})}},Fa=(s==null?void 0:s.role)==="professor"||(s==null?void 0:s.role)==="teacher"||(s==null?void 0:s.role)==="admin";return e.jsxs("div",{className:"h-screen flex flex-col bg-gray-900",children:[e.jsxs("div",{className:"bg-gray-800 p-4 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h1",{className:"text-white text-lg font-semibold",children:"在线答辩平台"}),e.jsx(V,{variant:"outline",className:"text-white border-white",children:"答辩进行中"}),e.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsx("span",{children:za($)})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[Fl(),e.jsxs("span",{className:"text-white text-sm",children:["网络",x==="good"?"良好":x==="fair"?"一般":"较差"]})]}),e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>T(!0),className:"text-white hover:bg-gray-700",children:e.jsx(Je,{className:"w-4 h-4"})}),e.jsxs(S,{variant:"destructive",size:"sm",onClick:()=>{confirm("确定要离开答辩会议吗？")&&t("/defense-scheduling")},children:[e.jsx(E3,{className:"w-4 h-4 mr-2"}),"离开会议"]})]})]}),e.jsxs("div",{className:"flex-1 flex",children:[e.jsx("div",{className:"flex-1 p-4",children:e.jsxs("div",{className:"h-full bg-black rounded-lg relative",children:[e.jsx("div",{className:"h-full flex items-center justify-center",children:m&&h?e.jsx("video",{className:"h-full w-full object-contain",autoPlay:!0,ref:oe=>{oe&&h&&(oe.srcObject=h)}}):e.jsx("video",{ref:A,className:"h-full w-full object-contain",autoPlay:!0,muted:!0})}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4 flex space-x-2 overflow-x-auto",children:G.map(oe=>e.jsxs("div",{className:"relative",children:[e.jsx("video",{ref:_s=>_.current[oe.id]=_s,className:"w-32 h-24 bg-gray-800 rounded object-cover",autoPlay:!0}),e.jsxs("div",{className:"absolute bottom-1 left-1 right-1 flex justify-between items-center px-2",children:[e.jsx("span",{className:"text-white text-xs truncate",children:oe.name}),e.jsxs("div",{className:"flex space-x-1",children:[!oe.videoEnabled&&e.jsx(jm,{className:"w-3 h-3 text-red-500"}),!oe.audioEnabled&&e.jsx(pm,{className:"w-3 h-3 text-red-500"})]})]})]},oe.id))})]})}),e.jsx("div",{className:"w-96 bg-white border-l",children:e.jsxs(Ye,{value:w,onValueChange:D,className:"h-full flex flex-col",children:[e.jsxs(qe,{className:"w-full justify-start rounded-none border-b",children:[e.jsx(J,{value:"video",children:"视频控制"}),e.jsx(J,{value:"chat",children:"聊天"}),e.jsx(J,{value:"qa",children:"问答"}),Fa&&e.jsx(J,{value:"score",children:"评分"})]}),e.jsxs(ee,{value:"video",className:"flex-1 p-4 space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-sm",children:"会议控制"})}),e.jsxs(E,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(S,{variant:l?"default":"secondary",onClick:pe,className:"w-full",children:[l?e.jsx(jl,{className:"w-4 h-4 mr-2"}):e.jsx(jm,{className:"w-4 h-4 mr-2"}),l?"关闭视频":"开启视频"]}),e.jsxs(S,{variant:c?"default":"secondary",onClick:Ee,className:"w-full",children:[c?e.jsx(fl,{className:"w-4 h-4 mr-2"}):e.jsx(pm,{className:"w-4 h-4 mr-2"}),c?"静音":"取消静音"]})]}),e.jsxs(S,{variant:m?"destructive":"outline",onClick:m?me:ae,className:"w-full",children:[m?e.jsx(D3,{className:"w-4 h-4 mr-2"}):e.jsx(pl,{className:"w-4 h-4 mr-2"}),m?"停止共享":"共享屏幕"]}),e.jsxs(S,{variant:g?"destructive":"outline",onClick:g?Fe:De,className:"w-full",children:[g?e.jsx(oa,{className:"w-4 h-4 mr-2 text-red-600 animate-pulse"}):e.jsx(oa,{className:"w-4 h-4 mr-2"}),g?"停止录制":"开始录制"]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-sm",children:"参会人员"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-2",children:G.map(oe=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm",children:oe.name}),e.jsx(V,{variant:"secondary",className:"text-xs",children:oe.role==="chair"?"主席":oe.role==="reviewer"?"评委":oe.role==="student"?"学生":"观察员"})]}),e.jsxs("div",{className:"flex space-x-1",children:[oe.videoEnabled?e.jsx(jl,{className:"w-4 h-4 text-green-600"}):e.jsx(jm,{className:"w-4 h-4 text-red-600"}),oe.audioEnabled?e.jsx(fl,{className:"w-4 h-4 text-green-600"}):e.jsx(pm,{className:"w-4 h-4 text-red-600"})]})]},oe.id))})})]})]}),e.jsxs(ee,{value:"chat",className:"flex-1 flex flex-col p-4",children:[e.jsx(ot,{className:"flex-1 mb-4",children:e.jsx("div",{className:"space-y-3",children:ne.filter(oe=>oe.type!=="question").map(oe=>e.jsxs("div",{className:`p-3 rounded-lg ${oe.type==="system"?"bg-gray-100 text-center":oe.sender===((s==null?void 0:s.name)||"我")?"bg-blue-100 ml-8":"bg-gray-100 mr-8"}`,children:[oe.type!=="system"&&e.jsx("div",{className:"font-medium text-sm text-gray-700 mb-1",children:oe.sender}),e.jsx("div",{className:"text-sm",children:oe.message}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:oe.timestamp.toLocaleTimeString()})]},oe.id))})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Ie,{value:k,onChange:oe=>C(oe.target.value),placeholder:"输入消息...",className:"flex-1",rows:2,onKeyPress:oe=>{oe.key==="Enter"&&!oe.shiftKey&&(oe.preventDefault(),bs())}}),e.jsx(S,{onClick:bs,size:"sm",children:e.jsx(Os,{className:"w-4 h-4"})})]})]}),e.jsxs(ee,{value:"qa",className:"flex-1 flex flex-col p-4",children:[e.jsx(ot,{className:"flex-1 mb-4",children:e.jsxs("div",{className:"space-y-3",children:[ne.filter(oe=>oe.type==="question").map(oe=>e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx("div",{className:"font-medium text-sm text-gray-700 mb-1",children:oe.sender}),e.jsx("div",{className:"text-sm",children:oe.message.replace("[问题] ","")}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:oe.timestamp.toLocaleTimeString()})]},oe.id)),ne.filter(oe=>oe.type==="question").length===0&&e.jsx("div",{className:"text-center text-gray-500 text-sm py-8",children:"暂无提问"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ue,{children:e.jsx(xe,{className:"text-sm",children:"请在问答环节提出您的问题，答辩人将进行回答。"})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Ie,{value:M,onChange:oe=>z(oe.target.value),placeholder:"输入您的问题...",className:"flex-1",rows:2}),e.jsx(S,{onClick:it,size:"sm",children:"提问"})]})]})]}),Fa&&e.jsx(ee,{value:"score",className:"flex-1 p-4 overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-sm",children:"评分标准"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"陈述表现 (30%)"}),e.jsx(is,{value:[ke[0].presentation],onValueChange:oe=>Wt(ke[0].reviewerId,"presentation",oe[0]),max:100,step:5,className:"mt-2"}),e.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[ke[0].presentation," 分"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"内容质量 (40%)"}),e.jsx(is,{value:[ke[0].content],onValueChange:oe=>Wt(ke[0].reviewerId,"content",oe[0]),max:100,step:5,className:"mt-2"}),e.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[ke[0].content," 分"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"问答表现 (30%)"}),e.jsx(is,{value:[ke[0].qa],onValueChange:oe=>Wt(ke[0].reviewerId,"qa",oe[0]),max:100,step:5,className:"mt-2"}),e.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[ke[0].qa," 分"]})]}),e.jsx("div",{className:"pt-3 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"总分"}),e.jsx("span",{className:"text-lg font-bold",children:Math.round(ke[0].presentation*.3+ke[0].content*.4+ke[0].qa*.3)})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"评语"}),e.jsx(Ie,{value:ke[0].comments,onChange:oe=>Wt(ke[0].reviewerId,"comments",oe.target.value),placeholder:"请输入评语...",className:"mt-2",rows:3})]}),e.jsx(S,{onClick:()=>La(ke[0].reviewerId),className:"w-full",disabled:ke[0].submitted,children:ke[0].submitted?"已提交":"提交评分"})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-sm",children:"其他评委评分状态"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-2",children:ke.slice(1).map(oe=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:oe.reviewerName}),e.jsx(V,{variant:oe.submitted?"default":"secondary",children:oe.submitted?"已评分":"待评分"})]},oe.reviewerId))})})]})]})})]})})]}),e.jsx(Ge,{open:y,onOpenChange:T,children:e.jsxs(Be,{children:[e.jsx(We,{children:e.jsx(Ve,{children:"会议设置"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"音量"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(Y3,{className:"w-4 h-4 text-gray-600"}),e.jsx(is,{value:[I],onValueChange:oe=>F(oe[0]),max:100,className:"flex-1"}),e.jsx(Pd,{className:"w-4 h-4 text-gray-600"}),e.jsxs("span",{className:"text-sm w-12 text-right",children:[I,"%"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"视频质量"}),e.jsxs("select",{className:"w-full mt-2 p-2 border rounded",children:[e.jsx("option",{value:"high",children:"高清 (720p)"}),e.jsx("option",{value:"medium",children:"标清 (480p)"}),e.jsx("option",{value:"low",children:"流畅 (360p)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"录制设置"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"text-sm",children:"录制所有参与者视频"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"text-sm",children:"录制屏幕共享"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:"text-sm",children:"录制聊天记录"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(S,{variant:"outline",onClick:()=>T(!1),children:"取消"}),e.jsx(S,{onClick:()=>T(!1),children:"保存"})]})]})]})})]})}function xj(){var $;const{user:s}=rs();Qe();const[t,a]=o.useState("grid"),[n,r]=o.useState("all"),[l,i]=o.useState(""),[c,d]=o.useState("latest"),[m,u]=o.useState(null),[h,p]=o.useState(!1),[g,b]=o.useState(""),[N,j]=o.useState(!1),[x,f]=o.useState([{id:"1",title:"深度学习在医学图像分析中的应用",author:"王小明",authorId:"user1",category:"research",thumbnail:"/api/placeholder/400/300",description:"本研究探讨了深度学习技术在医学图像分析中的创新应用，包括病变检测、图像分割和疾病诊断等方面。",createdAt:new Date("2025-01-15"),likes:156,comments:23,views:892,tags:["深度学习","医学图像","AI"],isLiked:!1,awardLevel:"gold"},{id:"2",title:"新型纳米材料的合成与表征",author:"李小红",authorId:"user2",category:"experiment",thumbnail:"/api/placeholder/400/300",description:"成功合成了一种新型纳米材料，并对其物理化学性质进行了全面表征，展现出优异的光电性能。",createdAt:new Date("2025-01-10"),likes:98,comments:15,views:567,tags:["纳米材料","材料科学","实验"],isLiked:!0,awardLevel:"silver"},{id:"3",title:"基因编辑技术的伦理思考",author:"张教授",authorId:"prof1",category:"review",thumbnail:"/api/placeholder/400/300",description:"从生物伦理学角度深入探讨基因编辑技术的应用边界和社会影响。",createdAt:new Date("2025-01-08"),likes:234,comments:45,views:1203,tags:["基因编辑","生物伦理","综述"],isLiked:!1,awardLevel:"gold"},{id:"4",title:"创新UI设计系统构建",author:"陈设计师",authorId:"user3",category:"design",thumbnail:"/api/placeholder/400/300",description:"构建了一套完整的UI设计系统，包含组件库、设计规范和交互模式。",createdAt:new Date("2025-01-05"),likes:167,comments:28,views:734,tags:["UI设计","设计系统","用户体验"],isLiked:!1}]),[w,D]=o.useState([{id:"1",userId:"user10",userName:"学术爱好者",content:"非常精彩的研究，学到了很多！",createdAt:new Date("2025-01-16")},{id:"2",userId:"prof2",userName:"李教授",content:"研究方法很创新，建议可以进一步探讨临床应用。",createdAt:new Date("2025-01-17")}]),y=[{value:"all",label:"全部作品"},{value:"research",label:"研究成果"},{value:"experiment",label:"实验报告"},{value:"design",label:"设计作品"},{value:"review",label:"文献综述"}],T={totalWorks:x.length,totalViews:x.reduce((B,A)=>B+A.views,0),totalLikes:x.reduce((B,A)=>B+A.likes,0),awardedWorks:x.filter(B=>B.awardLevel).length},v=x.filter(B=>{const A=n==="all"||B.category===n,_=B.title.toLowerCase().includes(l.toLowerCase())||B.author.toLowerCase().includes(l.toLowerCase())||B.tags.some(q=>q.toLowerCase().includes(l.toLowerCase()));return A&&_}).sort((B,A)=>{switch(c){case"popular":return A.likes-B.likes;case"mostViewed":return A.views-B.views;case"latest":default:return A.createdAt.getTime()-B.createdAt.getTime()}}),P=B=>{f(x.map(A=>A.id===B?{...A,isLiked:!A.isLiked,likes:A.isLiked?A.likes-1:A.likes+1}:A))},k=B=>{u(B),p(!0),f(x.map(A=>A.id===B.id?{...A,views:A.views+1}:A))},C=()=>{if(g.trim()&&m){const B={id:Date.now().toString(),userId:(s==null?void 0:s.id)||"anonymous",userName:(s==null?void 0:s.name)||"匿名用户",content:g,createdAt:new Date};D([...w,B]),b(""),f(x.map(A=>A.id===m.id?{...A,comments:A.comments+1}:A))}},M=B=>{u(B),j(!0)},z=B=>{B.downloadUrl||s?alert(`正在下载 "${B.title}"...`):alert("请登录后下载")},I=B=>{switch(B){case"gold":return e.jsx(or,{className:"w-5 h-5 text-yellow-500"});case"silver":return e.jsx(or,{className:"w-5 h-5 text-gray-400"});case"bronze":return e.jsx(or,{className:"w-5 h-5 text-orange-600"});default:return null}},F=m?`${window.location.origin}/achievement/${m.id}`:"";return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"成果展示墙"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"展示优秀的学术成果和创新作品"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(Kt,{className:"w-4 h-4"}),e.jsxs("span",{children:[T.awardedWorks," 获奖作品"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsxs("span",{children:[T.totalViews.toLocaleString()," 总浏览"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(mo,{className:"w-4 h-4"}),e.jsxs("span",{children:[T.totalLikes," 总点赞"]})]})]})]}),e.jsx(R,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-[300px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(se,{placeholder:"搜索作品标题、作者或标签...",value:l,onChange:B=>i(B.target.value),className:"pl-10"})]})}),e.jsxs(ie,{value:n,onValueChange:r,children:[e.jsx(re,{className:"w-40",children:e.jsx(ce,{})}),e.jsx(le,{children:y.map(B=>e.jsx(W,{value:B.value,children:B.label},B.value))})]}),e.jsxs(ie,{value:c,onValueChange:B=>d(B),children:[e.jsx(re,{className:"w-32",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"latest",children:"最新发布"}),e.jsx(W,{value:"popular",children:"最受欢迎"}),e.jsx(W,{value:"mostViewed",children:"最多浏览"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{variant:t==="grid"?"default":"outline",size:"icon",onClick:()=>a("grid"),children:e.jsx(ay,{className:"w-4 h-4"})}),e.jsx(S,{variant:t==="list"?"default":"outline",size:"icon",onClick:()=>a("list"),children:e.jsx(kd,{className:"w-4 h-4"})})]})]})})}),t==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:v.map(B=>{var A;return e.jsxs(R,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>k(B),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:B.thumbnail,alt:B.title,className:"w-full h-48 object-cover rounded-t-lg"}),B.awardLevel&&e.jsx("div",{className:"absolute top-2 right-2 bg-white rounded-full p-2 shadow-lg",children:I(B.awardLevel)})]}),e.jsxs(E,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:B.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:B.description}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(Xs,{className:"w-4 h-4"}),e.jsx("span",{children:B.author})]}),e.jsx(V,{variant:"secondary",children:(A=y.find(_=>_.value===B.category))==null?void 0:A.label})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:B.tags.slice(0,3).map(_=>e.jsx(V,{variant:"outline",className:"text-xs",children:_},_))}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:`flex items-center space-x-1 hover:text-red-600 transition-colors ${B.isLiked?"text-red-600":""}`,onClick:_=>{_.stopPropagation(),P(B.id)},children:[e.jsx(na,{className:`w-4 h-4 ${B.isLiked?"fill-current":""}`}),e.jsx("span",{children:B.likes})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(An,{className:"w-4 h-4"}),e.jsx("span",{children:B.comments})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsx("span",{children:B.views})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"hover:text-blue-600 transition-colors",onClick:_=>{_.stopPropagation(),M(B)},children:e.jsx(Kc,{className:"w-4 h-4"})}),e.jsx("button",{className:"hover:text-green-600 transition-colors",onClick:_=>{_.stopPropagation(),z(B)},children:e.jsx(Se,{className:"w-4 h-4"})})]})]})]})]},B.id)})}):e.jsx("div",{className:"space-y-4",children:v.map(B=>{var A;return e.jsx(R,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>k(B),children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("img",{src:B.thumbnail,alt:B.title,className:"w-32 h-24 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg mb-1 flex items-center space-x-2",children:[e.jsx("span",{children:B.title}),B.awardLevel&&I(B.awardLevel)]}),e.jsx("p",{className:"text-gray-600 mb-3",children:B.description})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Xs,{className:"w-4 h-4"}),e.jsx("span",{children:B.author})]}),e.jsx(V,{variant:"secondary",children:(A=y.find(_=>_.value===B.category))==null?void 0:A.label}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(hs,{className:"w-4 h-4"}),e.jsx("span",{children:B.createdAt.toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("button",{className:`flex items-center space-x-1 hover:text-red-600 transition-colors ${B.isLiked?"text-red-600":""}`,onClick:_=>{_.stopPropagation(),P(B.id)},children:[e.jsx(na,{className:`w-4 h-4 ${B.isLiked?"fill-current":""}`}),e.jsx("span",{children:B.likes})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(An,{className:"w-4 h-4"}),e.jsx("span",{children:B.comments})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsx("span",{children:B.views})]}),e.jsx("button",{className:"hover:text-blue-600 transition-colors",onClick:_=>{_.stopPropagation(),M(B)},children:e.jsx(Kc,{className:"w-4 h-4"})}),e.jsx("button",{className:"hover:text-green-600 transition-colors",onClick:_=>{_.stopPropagation(),z(B)},children:e.jsx(Se,{className:"w-4 h-4"})})]})]})]})]})})},B.id)})}),v.length===0&&e.jsx(R,{children:e.jsx(E,{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"没有找到相关作品"})})}),e.jsx(Ge,{open:h,onOpenChange:p,children:e.jsx(Be,{className:"max-w-4xl max-h-[90vh] overflow-hidden",children:m&&e.jsxs(e.Fragment,{children:[e.jsx(We,{children:e.jsxs(Ve,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:m.title}),m.awardLevel&&I(m.awardLevel)]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>M(m),children:[e.jsx(Kc,{className:"w-4 h-4 mr-2"}),"分享"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>z(m),children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"下载"]})]})]})}),e.jsxs("div",{className:"space-y-4 overflow-y-auto max-h-[calc(90vh-8rem)]",children:[e.jsx("img",{src:m.thumbnail,alt:m.title,className:"w-full rounded-lg"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xs,{className:"w-5 h-5 text-gray-500"}),e.jsx("span",{className:"font-medium",children:m.author})]}),e.jsx(V,{variant:"secondary",children:($=y.find(B=>B.value===m.category))==null?void 0:$.label}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(hs,{className:"w-4 h-4"}),e.jsx("span",{children:m.createdAt.toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{className:`flex items-center space-x-1 hover:text-red-600 transition-colors ${m.isLiked?"text-red-600":""}`,onClick:()=>P(m.id),children:[e.jsx(na,{className:`w-5 h-5 ${m.isLiked?"fill-current":""}`}),e.jsx("span",{children:m.likes})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[e.jsx(An,{className:"w-5 h-5"}),e.jsx("span",{children:m.comments})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[e.jsx(Le,{className:"w-5 h-5"}),e.jsx("span",{children:m.views})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"作品描述"}),e.jsx("p",{className:"text-gray-700",children:m.description})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"标签"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.tags.map(B=>e.jsx(V,{variant:"outline",children:B},B))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold mb-3",children:["评论 (",w.length,")"]}),e.jsx("div",{className:"space-y-3 mb-4",children:w.map(B=>e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:B.userName}),e.jsx("span",{className:"text-xs text-gray-500",children:B.createdAt.toLocaleString()})]}),e.jsx("p",{className:"text-sm text-gray-700",children:B.content})]},B.id))}),s&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Ie,{placeholder:"发表评论...",value:g,onChange:B=>b(B.target.value),rows:2}),e.jsx(S,{onClick:C,children:"发送"})]})]})]})]})})}),e.jsx(Ge,{open:N,onOpenChange:j,children:e.jsxs(Be,{children:[e.jsx(We,{children:e.jsx(Ve,{children:"分享作品"})}),m&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"分享链接"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(se,{value:F,readOnly:!0}),e.jsx(S,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(F),alert("链接已复制到剪贴板")},children:"复制"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"分享到"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(S,{variant:"outline",size:"sm",children:"微信"}),e.jsx(S,{variant:"outline",size:"sm",children:"QQ"}),e.jsx(S,{variant:"outline",size:"sm",children:"微博"}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(h3,{className:"w-4 h-4 mr-2"}),"复制链接"]})]})]})]})]})})]})}function uj(){const{user:s}=rs(),t=Qe(),[a,n]=o.useState(""),[r,l]=o.useState(""),[i,c]=o.useState(!1),[d,m]=o.useState(!1),u=[{id:"1",name:"张三",studentId:"2024001"},{id:"2",name:"李四",studentId:"2024002"},{id:"3",name:"王五",studentId:"2024003"},{id:"4",name:"赵六",studentId:"2024004"}],[h,p]=o.useState([{name:"过程表现",icon:QN,weight:30,subScores:[{name:"出勤情况",weight:25,score:0,maxScore:100},{name:"实验态度",weight:25,score:0,maxScore:100},{name:"团队协作",weight:25,score:0,maxScore:100},{name:"进度把控",weight:25,score:0,maxScore:100}],comment:""},{name:"海报质量",icon:_x,weight:20,subScores:[{name:"设计美观",weight:30,score:0,maxScore:100},{name:"内容完整",weight:40,score:0,maxScore:100},{name:"创新性",weight:30,score:0,maxScore:100}],comment:""},{name:"大报告内容",icon:Ne,weight:30,subScores:[{name:"文献综述",weight:20,score:0,maxScore:100},{name:"研究方法",weight:25,score:0,maxScore:100},{name:"数据分析",weight:30,score:0,maxScore:100},{name:"结论讨论",weight:25,score:0,maxScore:100}],comment:""},{name:"答辩表现",icon:xt,weight:20,subScores:[{name:"表达清晰",weight:35,score:0,maxScore:100},{name:"回答准确",weight:35,score:0,maxScore:100},{name:"时间控制",weight:30,score:0,maxScore:100}],comment:""}]),g=k=>{const C=k.subScores.reduce((z,I)=>z+I.weight,0);return k.subScores.reduce((z,I)=>z+I.score*I.weight/I.maxScore,0)/C*100},b=()=>{const k=h.reduce((M,z)=>M+z.weight,0);return h.reduce((M,z)=>M+g(z)*z.weight/100,0)/k*100},N=k=>k>=90?{grade:"A",color:"text-green-600"}:k>=80?{grade:"B",color:"text-blue-600"}:k>=70?{grade:"C",color:"text-yellow-600"}:k>=60?{grade:"D",color:"text-orange-600"}:{grade:"F",color:"text-red-600"},j=(k,C,M)=>{const z=[...h];z[k].subScores[C].score=M,p(z)},x=(k,C)=>{const M=[...h];M[k].comment=C,p(M)},f=(k,C)=>{const M=[...h];M[k].weight=C,p(M)},w=()=>{const k=h.map(C=>({...C,subScores:C.subScores.map(M=>({...M,score:0})),comment:""}));p(k),l("")},D=async()=>{if(!a){alert("请选择学生");return}c(!0),await new Promise(k=>setTimeout(k,1500)),c(!1),m(!0),setTimeout(()=>m(!1),3e3)},y=()=>{const k=u.find(B=>B.id===a),C=b(),M=N(C),z={student:k==null?void 0:k.name,studentId:k==null?void 0:k.studentId,totalScore:C.toFixed(2),grade:M.grade,categories:h.map(B=>({name:B.name,score:g(B).toFixed(2),weight:B.weight,comment:B.comment,subScores:B.subScores})),overallComment:r,evaluator:s==null?void 0:s.name,date:new Date().toLocaleDateString()},I=new Blob([JSON.stringify(z,null,2)],{type:"application/json"}),F=URL.createObjectURL(I),$=document.createElement("a");$.href=F,$.download=`score_${k==null?void 0:k.studentId}_${Date.now()}.json`,$.click()},T=b(),v=N(T),P=h.reduce((k,C)=>k+C.weight,0);return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"多维度评分表"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"对学生进行全面的过程、成果和能力评价"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(S,{variant:"outline",onClick:w,disabled:i,children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"重置评分"]}),e.jsxs(S,{variant:"outline",onClick:y,disabled:!a||i,children:[e.jsx(lh,{className:"w-4 h-4 mr-2"}),"导出成绩"]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"选择评分学生"})}),e.jsx(E,{children:e.jsxs(ie,{value:a,onValueChange:n,children:[e.jsx(re,{children:e.jsx(ce,{placeholder:"请选择要评分的学生"})}),e.jsx(le,{children:u.map(k=>e.jsxs(W,{value:k.id,children:[k.name," (",k.studentId,")"]},k.id))})]})})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"评分总览"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-4xl font-bold",children:T.toFixed(1)}),e.jsx("div",{className:`text-3xl font-bold ${v.color}`,children:v.grade})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"权重总和"}),e.jsxs("p",{className:`text-lg font-semibold ${P!==100?"text-red-600":"text-green-600"}`,children:[P,"%"]})]})]}),e.jsx(te,{value:T,className:"h-3"}),P!==100&&e.jsxs(ue,{children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx(xe,{children:"权重总和不等于100%，请调整各项权重"})]})]})]}),h.map((k,C)=>{const M=g(k),z=k.icon;return e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(z,{className:"w-5 h-5"}),e.jsx("span",{children:k.name})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{children:"权重:"}),e.jsx(se,{type:"number",value:k.weight,onChange:I=>f(C,parseInt(I.target.value)||0),className:"w-20",min:"0",max:"100"}),e.jsx("span",{children:"%"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"得分"}),e.jsx("p",{className:"text-xl font-bold",children:M.toFixed(1)})]})]})]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-3",children:k.subScores.map((I,F)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(H,{className:"text-sm",children:[I.name," (权重: ",I.weight,"%)"]}),e.jsxs("span",{className:"text-sm font-medium",children:[I.score,"/",I.maxScore]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(is,{value:[I.score],onValueChange:$=>j(C,F,$[0]),max:I.maxScore,step:1,className:"flex-1"}),e.jsx(se,{type:"number",value:I.score,onChange:$=>j(C,F,parseInt($.target.value)||0),className:"w-20",min:"0",max:I.maxScore})]})]},I.name))}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"评语"}),e.jsx(Ie,{placeholder:`请输入${k.name}的评价...`,value:k.comment,onChange:I=>x(C,I.target.value),rows:2})]})]})]},k.name)}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"总体评价"})}),e.jsx(E,{children:e.jsx(Ie,{placeholder:"请输入对学生的总体评价...",value:r,onChange:k=>l(k.target.value),rows:4})})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(S,{variant:"outline",onClick:()=>t("/dashboard"),disabled:i,children:"取消"}),e.jsx(S,{onClick:D,disabled:i||P!==100,children:i?e.jsxs(e.Fragment,{children:[e.jsx(xl,{className:"w-4 h-4 mr-2 animate-spin"}),"提交中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"保存评分"]})})]}),d&&e.jsxs(ue,{className:"bg-green-50 border-green-200",children:[e.jsx(fe,{className:"h-4 w-4 text-green-600"}),e.jsx(xe,{className:"text-green-800",children:"评分已成功保存！"})]})]})]})}function hj(){const{user:s}=rs(),t=Qe(),[a,n]=o.useState(""),[r,l]=o.useState(""),[i,c]=o.useState(""),[d,m]=o.useState(!1),[u,h]=o.useState(!1),[p,g]=o.useState(!1),[b,N]=o.useState(!1),[j,x]=o.useState([{id:"1",name:"默认评分标准",description:"适用于大多数实验室轮转课程的标准评分模板",isDefault:!0,createdBy:"系统",createdAt:"2024-01-01",items:[{id:"1",name:"过程表现",weight:30,maxScore:100,subItems:[{id:"1-1",name:"出勤情况",weight:25,maxScore:100},{id:"1-2",name:"实验态度",weight:25,maxScore:100},{id:"1-3",name:"团队协作",weight:25,maxScore:100},{id:"1-4",name:"进度把控",weight:25,maxScore:100}]},{id:"2",name:"海报质量",weight:20,maxScore:100,subItems:[{id:"2-1",name:"设计美观",weight:30,maxScore:100},{id:"2-2",name:"内容完整",weight:40,maxScore:100},{id:"2-3",name:"创新性",weight:30,maxScore:100}]},{id:"3",name:"大报告内容",weight:30,maxScore:100,subItems:[{id:"3-1",name:"文献综述",weight:20,maxScore:100},{id:"3-2",name:"研究方法",weight:25,maxScore:100},{id:"3-3",name:"数据分析",weight:30,maxScore:100},{id:"3-4",name:"结论讨论",weight:25,maxScore:100}]},{id:"4",name:"答辩表现",weight:20,maxScore:100,subItems:[{id:"4-1",name:"表达清晰",weight:35,maxScore:100},{id:"4-2",name:"回答准确",weight:35,maxScore:100},{id:"4-3",name:"时间控制",weight:30,maxScore:100}]}]}]),[f,w]=o.useState([]),D=A=>{const _=j.find(q=>q.id===A);_&&(w([..._.items]),l(_.name),c(_.description))},y=A=>A.reduce((_,q)=>_+q.weight,0),T=A=>!A||A.length===0?!0:y(A)===100,v=()=>{const A={id:Date.now().toString(),name:"新评分项",weight:0,maxScore:100,subItems:[]};w([...f,A])},P=A=>{const _=f.map(q=>{if(q.id===A){const U={id:`${A}-${Date.now()}`,name:"新子项",weight:0,maxScore:100};return{...q,subItems:[...q.subItems||[],U]}}return q});w(_)},k=(A,_,q)=>{const U=f.map(G=>G.id===A?{...G,[_]:q}:G.subItems?{...G,subItems:G.subItems.map(Y=>Y.id===A?{...Y,[_]:q}:Y)}:G);w(U)},C=A=>{const _=f.filter(q=>q.id!==A);w(_)},M=(A,_)=>{const q=f.map(U=>{var G;return U.id===A?{...U,subItems:(G=U.subItems)==null?void 0:G.filter(Y=>Y.id!==_)}:U});w(q)},z=async()=>{if(!r){alert("请输入模板名称");return}if(y(f)!==100){alert("一级评分项权重总和必须为100%");return}if(f.some(q=>q.subItems&&q.subItems.length>0&&!T(q.subItems))){alert("所有子项权重总和必须为100%");return}g(!0),await new Promise(q=>setTimeout(q,1500));const _={id:Date.now().toString(),name:r,description:i,isDefault:!1,createdBy:(s==null?void 0:s.name)||"未知",createdAt:new Date().toLocaleDateString(),items:f};x([...j,_]),g(!1),N(!0),setTimeout(()=>N(!1),3e3)},I=()=>{const A={name:r,description:i,items:f,exportedAt:new Date().toISOString(),exportedBy:s==null?void 0:s.name},_=new Blob([JSON.stringify(A,null,2)],{type:"application/json"}),q=URL.createObjectURL(_),U=document.createElement("a");U.href=q,U.download=`scoring_template_${Date.now()}.json`,U.click()},F=A=>{var U;const _=(U=A.target.files)==null?void 0:U[0];if(!_)return;const q=new FileReader;q.onload=G=>{var Y;try{const ne=JSON.parse((Y=G.target)==null?void 0:Y.result);l(ne.name||"导入的模板"),c(ne.description||""),w(ne.items||[])}catch{alert("导入失败，请检查文件格式")}},q.readAsText(_)},$=y(f),B=$===100;return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"评分标准配置"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"设置和管理实验室轮转课程的评分标准模板"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx(S,{variant:"outline",onClick:()=>t("/multidimensional-scoring"),children:"返回评分"})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"选择模板"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(ie,{value:a,onValueChange:A=>{n(A),A!=="new"?D(A):(w([]),l(""),c(""))},children:[e.jsx(re,{className:"flex-1",children:e.jsx(ce,{placeholder:"选择已有模板或创建新模板"})}),e.jsxs(le,{children:[e.jsx(W,{value:"new",children:"+ 创建新模板"}),j.map(A=>e.jsxs(W,{value:A.id,children:[A.name," ",A.isDefault&&"(默认)"]},A.id))]})]}),e.jsxs(Ge,{open:u,onOpenChange:h,children:[e.jsx(Ta,{asChild:!0,children:e.jsxs(S,{variant:"outline",children:[e.jsx(Ot,{className:"w-4 h-4 mr-2"}),"历史版本"]})}),e.jsxs(Be,{className:"max-w-2xl",children:[e.jsx(We,{children:e.jsx(Ve,{children:"历史版本"})}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:j.map(A=>e.jsx("div",{className:"border rounded-lg p-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:A.name}),e.jsx("p",{className:"text-sm text-gray-600",children:A.description}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["创建者: ",A.createdBy," | 创建时间: ",A.createdAt]})]}),e.jsx(S,{size:"sm",variant:"outline",onClick:()=>{n(A.id),D(A.id),h(!1)},children:"使用"})]})},A.id))})]})]})]}),(a||f.length>0)&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"模板名称"}),e.jsx(se,{value:r,onChange:A=>l(A.target.value),placeholder:"请输入模板名称"})]}),e.jsxs("div",{children:[e.jsx(H,{children:"模板描述"}),e.jsx(se,{value:i,onChange:A=>c(A.target.value),placeholder:"请输入模板描述"})]})]})]})]}),(a||f.length>0)&&e.jsxs(e.Fragment,{children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(L,{children:"权重配置"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${B?"text-green-600":"text-red-600"}`,children:["总权重: ",$,"%"]}),e.jsxs(S,{size:"sm",onClick:v,children:[e.jsx(as,{className:"w-4 h-4 mr-1"}),"添加评分项"]})]})]})}),e.jsxs(E,{className:"space-y-4",children:[!B&&e.jsxs(ue,{children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsxs(xe,{children:["一级评分项权重总和必须为100%，当前为",$,"%"]})]}),f.map((A,_)=>{const q=y(A.subItems||[]),U=T(A.subItems);return e.jsx(R,{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-1 space-y-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S3,{className:"w-4 h-4 text-gray-400"}),e.jsx(se,{value:A.name,onChange:G=>k(A.id,"name",G.target.value),placeholder:"评分项名称",className:"flex-1"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{children:"权重:"}),e.jsx(se,{type:"number",value:A.weight,onChange:G=>k(A.id,"weight",parseInt(G.target.value)||0),className:"w-20",min:"0",max:"100"}),e.jsx("span",{children:"%"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{children:"满分:"}),e.jsx(se,{type:"number",value:A.maxScore,onChange:G=>k(A.id,"maxScore",parseInt(G.target.value)||0),className:"w-20",min:"0"})]}),e.jsx(S,{size:"sm",variant:"ghost",onClick:()=>C(A.id),children:e.jsx(ut,{className:"w-4 h-4"})})]}),A.subItems&&A.subItems.length>0&&e.jsxs("div",{className:"ml-8 space-y-2",children:[!U&&e.jsxs("p",{className:"text-sm text-red-600",children:["子项权重总和: ",q,"% (必须为100%)"]}),A.subItems.map(G=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(se,{value:G.name,onChange:Y=>k(G.id,"name",Y.target.value),placeholder:"子项名称",className:"flex-1"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"text-sm",children:"权重:"}),e.jsx(se,{type:"number",value:G.weight,onChange:Y=>k(G.id,"weight",parseInt(Y.target.value)||0),className:"w-16",min:"0",max:"100"}),e.jsx("span",{className:"text-sm",children:"%"})]}),e.jsx(S,{size:"sm",variant:"ghost",onClick:()=>M(A.id,G.id),children:e.jsx(ut,{className:"w-3 h-3"})})]},G.id))]}),e.jsx("div",{className:"ml-8",children:e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>P(A.id),children:[e.jsx(as,{className:"w-3 h-3 mr-1"}),"添加子项"]})})]})},A.id)})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(Ge,{open:d,onOpenChange:m,children:[e.jsx(Ta,{asChild:!0,children:e.jsxs(S,{variant:"outline",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"预览"]})}),e.jsxs(Be,{className:"max-w-2xl",children:[e.jsx(We,{children:e.jsx(Ve,{children:"评分标准预览"})}),e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium mb-2",children:r||"未命名模板"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:i}),f.map(A=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:A.name}),e.jsxs("span",{children:[A.weight,"% (满分: ",A.maxScore,")"]})]}),A.subItems&&A.subItems.length>0&&e.jsx("div",{className:"ml-4 mt-2 space-y-1",children:A.subItems.map(_=>e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:["• ",_.name]}),e.jsxs("span",{children:[_.weight,"%"]})]},_.id))})]},A.id))]})})]})]}),e.jsxs(S,{variant:"outline",onClick:I,children:[e.jsx(lh,{className:"w-4 h-4 mr-2"}),"导出"]}),e.jsxs("label",{children:[e.jsx(se,{type:"file",accept:".json",onChange:F,className:"hidden"}),e.jsx(S,{variant:"outline",asChild:!0,children:e.jsxs("span",{children:[e.jsx(Ix,{className:"w-4 h-4 mr-2"}),"导入"]})})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(S,{variant:"outline",onClick:()=>{w([]),l(""),c(""),n("")},children:"取消"}),e.jsx(S,{onClick:z,disabled:p||!B,children:p?e.jsxs(e.Fragment,{children:[e.jsx(xl,{className:"w-4 h-4 mr-2 animate-spin"}),"保存中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"保存模板"]})})]})]}),b&&e.jsxs(ue,{className:"bg-green-50 border-green-200",children:[e.jsx(fe,{className:"h-4 w-4 text-green-600"}),e.jsx(xe,{className:"text-green-800",children:"评分标准模板已成功保存！"})]})]})]})}var _h="Radio",[wP,U1]=Ct(_h),[bP,SP]=wP(_h),q1=o.forwardRef((s,t)=>{const{__scopeRadio:a,name:n,checked:r=!1,required:l,disabled:i,value:c="on",onCheck:d,form:m,...u}=s,[h,p]=o.useState(null),g=Oe(t,j=>p(j)),b=o.useRef(!1),N=h?m||!!h.closest("form"):!0;return e.jsxs(bP,{scope:a,checked:r,disabled:i,children:[e.jsx(ye.button,{type:"button",role:"radio","aria-checked":r,"data-state":K1(r),"data-disabled":i?"":void 0,disabled:i,value:c,...u,ref:g,onClick:ve(s.onClick,j=>{r||d==null||d(),N&&(b.current=j.isPropagationStopped(),b.current||j.stopPropagation())})}),N&&e.jsx(Y1,{control:h,bubbles:!b.current,name:n,value:c,checked:r,required:l,disabled:i,form:m,style:{transform:"translateX(-100%)"}})]})});q1.displayName=_h;var H1="RadioIndicator",G1=o.forwardRef((s,t)=>{const{__scopeRadio:a,forceMount:n,...r}=s,l=SP(H1,a);return e.jsx(Bt,{present:n||l.checked,children:e.jsx(ye.span,{"data-state":K1(l.checked),"data-disabled":l.disabled?"":void 0,...r,ref:t})})});G1.displayName=H1;var CP="RadioBubbleInput",Y1=o.forwardRef(({__scopeRadio:s,control:t,checked:a,bubbles:n=!0,...r},l)=>{const i=o.useRef(null),c=Oe(i,l),d=Ki(a),m=Qi(t);return o.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(d!==a&&g){const b=new Event("click",{bubbles:n});g.call(u,a),u.dispatchEvent(b)}},[d,a,n]),e.jsx(ye.input,{type:"radio","aria-hidden":!0,defaultChecked:a,...r,tabIndex:-1,ref:c,style:{...r.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Y1.displayName=CP;function K1(s){return s?"checked":"unchecked"}var kP=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Mo="RadioGroup",[MP,$A]=Ct(Mo,[wo,U1]),Q1=wo(),X1=U1(),[PP,TP]=MP(Mo),Z1=o.forwardRef((s,t)=>{const{__scopeRadioGroup:a,name:n,defaultValue:r,value:l,required:i=!1,disabled:c=!1,orientation:d,dir:m,loop:u=!0,onValueChange:h,...p}=s,g=Q1(a),b=Al(m),[N,j]=Da({prop:l,defaultProp:r??null,onChange:h,caller:Mo});return e.jsx(PP,{scope:a,name:n,required:i,disabled:c,value:N,onValueChange:j,children:e.jsx($w,{asChild:!0,...g,orientation:d,dir:b,loop:u,children:e.jsx(ye.div,{role:"radiogroup","aria-required":i,"aria-orientation":d,"data-disabled":c?"":void 0,dir:b,...p,ref:t})})})});Z1.displayName=Mo;var J1="RadioGroupItem",eb=o.forwardRef((s,t)=>{const{__scopeRadioGroup:a,disabled:n,...r}=s,l=TP(J1,a),i=l.disabled||n,c=Q1(a),d=X1(a),m=o.useRef(null),u=Oe(t,m),h=l.value===r.value,p=o.useRef(!1);return o.useEffect(()=>{const g=N=>{kP.includes(N.key)&&(p.current=!0)},b=()=>p.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",b)}},[]),e.jsx(Bw,{asChild:!0,...c,focusable:!i,active:h,children:e.jsx(q1,{disabled:i,required:l.required,checked:h,...d,...r,name:l.name,ref:u,onCheck:()=>l.onValueChange(r.value),onKeyDown:ve(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:ve(r.onFocus,()=>{var g;p.current&&((g=m.current)==null||g.click())})})})});eb.displayName=J1;var DP="RadioGroupIndicator",sb=o.forwardRef((s,t)=>{const{__scopeRadioGroup:a,...n}=s,r=X1(a);return e.jsx(G1,{...r,...n,ref:t})});sb.displayName=DP;var tb=Z1,ab=eb,RP=sb;const zl=o.forwardRef(({className:s,...t},a)=>e.jsx(tb,{className:X("grid gap-2",s),...t,ref:a}));zl.displayName=tb.displayName;const Rt=o.forwardRef(({className:s,...t},a)=>e.jsx(ab,{ref:a,className:X("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:e.jsx(RP,{className:"flex items-center justify-center",children:e.jsx(oa,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Rt.displayName=ab.displayName;function fj(){const{user:s}=rs(),t=Qe(),[a,n]=o.useState([]),[r,l]=o.useState("all"),[i,c]=o.useState("all"),[d,m]=o.useState("all"),[u,h]=o.useState("unified"),[p,g]=o.useState(85),[b,N]=o.useState(85),[j,x]=o.useState(95),[f,w]=o.useState(""),[D,y]=o.useState(!0),[T,v]=o.useState(!1),[P,k]=o.useState(!1),[C,M]=o.useState(!1),z=[{id:"1",studentName:"王小明",studentId:"2024001",assignmentTitle:"实验报告3",submittedAt:"10-15 08:30",status:"ungraded",group:"A组"},{id:"2",studentName:"李小红",studentId:"2024002",assignmentTitle:"实验报告3",submittedAt:"10-15 09:15",status:"ungraded",group:"A组"},{id:"3",studentName:"张小华",studentId:"2024003",assignmentTitle:"实验报告3",submittedAt:"10-15 10:20",status:"ungraded",group:"B组"},{id:"4",studentName:"刘小刚",studentId:"2024004",assignmentTitle:"实验报告3",submittedAt:"10-14 14:30",status:"graded",currentScore:88,group:"B组"},{id:"5",studentName:"陈小美",studentId:"2024005",assignmentTitle:"实验报告3",submittedAt:"10-14 16:45",status:"ungraded",group:"C组"},{id:"6",studentName:"赵小强",studentId:"2024006",assignmentTitle:"实验报告3",submittedAt:"10-13 11:20",status:"graded",currentScore:92,group:"C组"}],I=[{id:"1",name:"良好完成，继续努力",content:"作业完成质量良好，继续保持并努力提升。"},{id:"2",name:"优秀表现",content:"作业完成出色，展现了深入的理解和思考。"},{id:"3",name:"需要改进",content:"作业基本完成，但仍有改进空间，请注意以下几点..."},{id:"4",name:"请补充完善",content:"作业内容不够完整，请补充相关内容后重新提交。"}],F=z.filter(Y=>{if(r!=="all"&&Y.status!==r||i!=="all"&&Y.group!==i)return!1;if(d==="thisWeek"){const ne=Y.submittedAt.split(" ")[0],ge=parseInt(ne.split("-")[1]);if(ge<13||ge>15)return!1}return!0}),$=Array.from(new Set(z.map(Y=>Y.group).filter(Boolean))),B=Y=>{n(ne=>ne.includes(Y)?ne.filter(ge=>ge!==Y):[...ne,Y])},A=()=>{a.length===F.length?n([]):n(F.map(Y=>Y.id))},_=()=>a.map(Y=>{var ke;const ne=z.find(Z=>Z.id===Y);if(!ne)return null;let ge;return u==="unified"?ge=p:ge=Math.floor(Math.random()*(j-b+1))+b,{...ne,previewScore:ge,comment:((ke=I.find(Z=>Z.id===f))==null?void 0:ke.content)||""}}).filter(Boolean),q=async()=>{k(!0),await new Promise(Y=>setTimeout(Y,2e3)),k(!1),v(!1),M(!0),n([]),setTimeout(()=>M(!1),3e3)},U=a.length,G=T?_():[];return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"批量评分操作"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"快速高效地为多个作业评分"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(V,{variant:"secondary",className:"px-3 py-1",children:["已选: ",U,"个作业"]}),e.jsx(S,{variant:"outline",onClick:()=>t("/multidimensional-scoring"),children:"单个评分"})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(rn,{className:"w-5 h-5"}),e.jsx("span",{children:"筛选作业"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"selectAll",checked:U===F.length&&U>0,onCheckedChange:A}),e.jsx(H,{htmlFor:"selectAll",className:"cursor-pointer",children:"全选"})]})]})}),e.jsx(E,{className:"space-y-4",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(ie,{value:r,onValueChange:l,children:[e.jsx(re,{className:"w-40",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"所有状态"}),e.jsx(W,{value:"ungraded",children:"未评分"}),e.jsx(W,{value:"graded",children:"已评分"})]})]}),e.jsxs(ie,{value:d,onValueChange:m,children:[e.jsx(re,{className:"w-40",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"所有时间"}),e.jsx(W,{value:"thisWeek",children:"本周提交"}),e.jsx(W,{value:"lastWeek",children:"上周提交"})]})]}),e.jsxs(ie,{value:i,onValueChange:c,children:[e.jsx(re,{className:"w-40",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"所有小组"}),$.map(Y=>e.jsx(W,{value:Y,children:Y},Y))]})]})]})})]}),e.jsx(R,{children:e.jsx(E,{className:"p-0",children:e.jsx("div",{className:"divide-y",children:F.map(Y=>e.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Ae,{checked:a.includes(Y.id),onCheckedChange:()=>B(Y.id)}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:Y.studentName}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",Y.studentId,")"]}),Y.group&&e.jsx(V,{variant:"outline",className:"text-xs",children:Y.group})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(Ne,{className:"w-3 h-3"}),e.jsx("span",{children:Y.assignmentTitle})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(Ce,{className:"w-3 h-3"}),e.jsxs("span",{children:["提交: ",Y.submittedAt]})]})]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:Y.status==="graded"?e.jsxs(V,{variant:"default",className:"bg-green-600",children:["已评分: ",Y.currentScore,"分"]}):e.jsx(V,{variant:"secondary",children:"未评分"})})]},Y.id))})})}),U>0&&e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"批量评分设置"})}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(H,{children:"评分模式"}),e.jsxs(zl,{value:u,onValueChange:Y=>h(Y),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rt,{value:"unified",id:"unified"}),e.jsx(H,{htmlFor:"unified",className:"cursor-pointer",children:"统一分数"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rt,{value:"range",id:"range"}),e.jsx(H,{htmlFor:"range",className:"cursor-pointer",children:"区间分数"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(H,{children:"分数设置"}),u==="unified"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"统一分数:"}),e.jsx(se,{type:"number",value:p,onChange:Y=>g(parseInt(Y.target.value)||0),className:"w-24",min:"0",max:"100"}),e.jsx("span",{children:"分"})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"分数范围:"}),e.jsx(se,{type:"number",value:b,onChange:Y=>N(parseInt(Y.target.value)||0),className:"w-24",min:"0",max:"100"}),e.jsx("span",{children:"-"}),e.jsx(se,{type:"number",value:j,onChange:Y=>x(parseInt(Y.target.value)||0),className:"w-24",min:"0",max:"100"}),e.jsx("span",{children:"分"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(H,{children:"评语模板"}),e.jsxs(ie,{value:f,onValueChange:w,children:[e.jsx(re,{children:e.jsx(ce,{placeholder:"选择评语模板"})}),e.jsx(le,{children:I.map(Y=>e.jsx(W,{value:Y.id,children:Y.name},Y.id))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"notification",checked:D,onCheckedChange:Y=>y(!!Y)}),e.jsx(H,{htmlFor:"notification",className:"cursor-pointer",children:"发送成绩通知"})]})]})]}),U>0&&e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsxs(S,{variant:"outline",onClick:()=>n([]),children:[e.jsx(Lt,{className:"w-4 h-4 mr-2"}),"取消选择"]}),e.jsxs(S,{variant:"outline",onClick:()=>v(!0),children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"预览结果"]}),e.jsxs(S,{onClick:()=>v(!0),disabled:!f||u==="range"&&b>j,children:[e.jsx(xl,{className:"w-4 h-4 mr-2"}),"确认评分"]})]}),e.jsx(Ge,{open:T,onOpenChange:v,children:e.jsxs(Be,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[e.jsx(We,{children:e.jsx(Ve,{children:"评分预览"})}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs(ue,{children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx(xe,{children:"请确认以下评分信息，提交后将批量更新所有选中的作业成绩。"})]}),e.jsx("div",{className:"space-y-2",children:G.map(Y=>e.jsx("div",{className:"border rounded-lg p-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[Y.studentName," (",Y.studentId,")"]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[Y.assignmentTitle," - 提交时间: ",Y.submittedAt]}),Y.comment&&e.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:[e.jsx("span",{className:"font-medium",children:"评语:"})," ",Y.comment]})]}),e.jsxs(V,{variant:"default",className:"bg-blue-600",children:[Y.previewScore,"分"]})]})},Y.id))}),D&&e.jsxs(ue,{children:[e.jsx(Os,{className:"h-4 w-4"}),e.jsx(xe,{children:"评分完成后将自动发送成绩通知给所有学生。"})]})]}),e.jsxs(Wn,{className:"mt-6",children:[e.jsx(S,{variant:"outline",onClick:()=>v(!1),children:"返回修改"}),e.jsx(S,{onClick:q,disabled:P,children:P?e.jsxs(e.Fragment,{children:[e.jsx(xl,{className:"w-4 h-4 mr-2 animate-spin"}),"处理中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"确认提交"]})})]})]})}),C&&e.jsxs(ue,{className:"fixed bottom-4 right-4 w-96 bg-green-50 border-green-200",children:[e.jsx(fe,{className:"h-4 w-4 text-green-600"}),e.jsxs(xe,{className:"text-green-800",children:["成功为 ",G.length," 个作业完成评分！",D&&" 成绩通知已发送。"]})]})]})}function pj(){const{user:s}=rs();Qe();const[t,a]=o.useState("lab-rotation"),[n,r]=o.useState(!1),[l,i]=o.useState(""),[c,d]=o.useState(!1),[m,u]=o.useState(!1),h={"lab-rotation":{id:"1",courseName:"实验室轮转课程",courseCode:"LAB001",semester:"2024秋季",totalScore:87.4,grade:"A-",status:"final",publishedDate:"2024-10-15",instructor:"张教授",gradeItems:[{id:"1",category:"过程表现",weight:30,score:85,maxScore:100,details:[{item:"出勤情况",score:20,maxScore:20},{item:"任务完成质量",score:35,maxScore:40},{item:"团队协作",score:30,maxScore:40}]},{id:"2",category:"海报质量",weight:20,score:90,maxScore:100,details:[{item:"设计美观",score:25,maxScore:30},{item:"内容完整",score:35,maxScore:40},{item:"创新性",score:30,maxScore:30}]},{id:"3",category:"大报告内容",weight:30,score:88,maxScore:100},{id:"4",category:"答辩表现",weight:20,score:92,maxScore:100}],feedback:"学生表现优秀，研究思路清晰，实验设计合理。海报设计有创意，答辩表现自信。建议在团队协作方面加强沟通能力，在研究深度上可以进一步提升。",improvements:["加强团队协作中的沟通技巧","深化研究内容的理论基础","提高实验数据的分析能力"]},"research-methods":{id:"2",courseName:"研究方法论",courseCode:"RES201",semester:"2024秋季",totalScore:91.5,grade:"A",status:"preliminary",instructor:"李教授",gradeItems:[{id:"1",category:"课堂参与",weight:20,score:95,maxScore:100},{id:"2",category:"作业表现",weight:30,score:92,maxScore:100},{id:"3",category:"期中考试",weight:25,score:88,maxScore:100},{id:"4",category:"期末项目",weight:25,score:91,maxScore:100}],feedback:"学习态度认真，理解能力强，能够将理论知识应用于实践。"}},p=[{semester:"2024春季",gpa:3.8,courses:[{name:"高等数学II",grade:"A",score:93},{name:"数据结构",grade:"A-",score:88},{name:"概率论",grade:"B+",score:85},{name:"专业英语",grade:"A",score:92}]},{semester:"2023秋季",gpa:3.7,courses:[{name:"高等数学I",grade:"A-",score:89},{name:"程序设计基础",grade:"A",score:94},{name:"线性代数",grade:"B+",score:84},{name:"大学物理",grade:"A-",score:87}]}],g=h[t],b=async()=>{u(!0),await new Promise(f=>setTimeout(f,1500)),u(!1),r(!1),i("")},N=f=>{console.log(`Downloading transcript in ${f} format`),d(!1)},j=f=>f.startsWith("A")?"bg-green-100 text-green-800":f.startsWith("B")?"bg-blue-100 text-blue-800":f.startsWith("C")?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",x=f=>{switch(f){case"final":return"bg-green-100 text-green-800";case"preliminary":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"成绩查询系统"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"查看详细成绩和反馈信息"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(S,{variant:"outline",onClick:()=>d(!0),children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"下载成绩单"]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"当前学期课程"})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(h).map(([f,w])=>e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${t===f?"border-blue-500 bg-blue-50":"hover:border-gray-400"}`,onClick:()=>a(f),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:w.courseName}),e.jsxs("p",{className:"text-sm text-gray-600",children:[w.courseCode," · ",w.instructor]})]}),e.jsx(V,{className:x(w.status),children:w.status==="final"?"已发布":w.status==="preliminary"?"初步成绩":"待发布"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-2xl font-bold",children:w.totalScore}),e.jsx("span",{className:"text-sm text-gray-600",children:" 分"})]}),e.jsx(V,{className:`${j(w.grade)} px-3 py-1`,children:w.grade})]}),e.jsx(Us,{className:"w-5 h-5 text-gray-400"})]})]},f))})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(L,{children:[g.courseName," - 成绩详情"]}),g.publishedDate&&e.jsxs("span",{className:"text-sm text-gray-600",children:["发布时间: ",g.publishedDate]})]})}),e.jsx(E,{children:e.jsxs(Ye,{defaultValue:"breakdown",className:"space-y-4",children:[e.jsxs(qe,{children:[e.jsx(J,{value:"breakdown",children:"分项成绩"}),e.jsx(J,{value:"feedback",children:"评语反馈"}),e.jsx(J,{value:"history",children:"历史记录"}),e.jsx(J,{value:"analysis",children:"对比分析"})]}),e.jsxs(ee,{value:"breakdown",className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-lg font-semibold",children:"总分"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-600",children:g.totalScore}),e.jsx("span",{className:"text-gray-600",children:"/ 100"})]})]}),e.jsx(te,{value:g.totalScore,className:"h-3"}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"等级评定"}),e.jsx(V,{className:`${j(g.grade)} px-3`,children:g.grade})]})]}),e.jsx("div",{className:"space-y-4",children:g.gradeItems.map(f=>e.jsx(R,{children:e.jsxs(E,{className:"pt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:f.category}),e.jsxs("p",{className:"text-sm text-gray-600",children:["权重: ",f.weight,"%"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold",children:f.score}),e.jsxs("div",{className:"text-sm text-gray-600",children:["/ ",f.maxScore]})]})]}),e.jsx(te,{value:f.score/f.maxScore*100,className:"h-2 mb-3"}),f.details&&e.jsx("div",{className:"mt-4 space-y-2 border-t pt-3",children:f.details.map((w,D)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:w.item}),e.jsxs("span",{className:"font-medium",children:[w.score,"/",w.maxScore]})]},D))})]})},f.id))})]}),e.jsxs(ee,{value:"feedback",className:"space-y-4",children:[g.feedback&&e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-lg",children:"导师评语"})}),e.jsx(E,{children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:g.feedback})})]}),g.improvements&&g.improvements.length>0&&e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"text-lg flex items-center space-x-2",children:[e.jsx(xs,{className:"w-5 h-5"}),e.jsx("span",{children:"改进建议"})]})}),e.jsx(E,{children:e.jsx("ul",{className:"space-y-2",children:g.improvements.map((f,w)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(rt,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:f})]},w))})})]}),e.jsxs(ue,{children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsxs(xe,{children:["如对成绩有疑问，可在成绩发布后7个工作日内提出申诉。",e.jsx(S,{variant:"link",className:"p-0 h-auto ml-2",onClick:()=>r(!0),children:"提出申诉"})]})]})]}),e.jsx(ee,{value:"history",className:"space-y-4",children:p.map((f,w)=>e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(L,{className:"text-lg",children:f.semester}),e.jsxs(V,{variant:"outline",children:["GPA: ",f.gpa]})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-2",children:f.courses.map((D,y)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:[e.jsx("span",{className:"font-medium",children:D.name}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-gray-600",children:[D.score,"分"]}),e.jsx(V,{className:`${j(D.grade)} px-2 py-0.5 text-xs`,children:D.grade})]})]},y))})})]},w))}),e.jsxs(ee,{value:"analysis",className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-lg",children:"成绩对比分析"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"班级排名"}),e.jsx(V,{variant:"default",children:"前 15%"})]}),e.jsx(te,{value:85,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"年级排名"}),e.jsx(V,{variant:"default",children:"前 20%"})]}),e.jsx(te,{value:80,className:"h-2"})]}),e.jsx("div",{className:"pt-3 border-t",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"87.4"}),e.jsx("div",{className:"text-sm text-gray-600",children:"我的成绩"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:"82.3"}),e.jsx("div",{className:"text-sm text-gray-600",children:"班级平均"})]})]})})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-lg",children:"能力分析"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-green-700 mb-2 flex items-center space-x-2",children:[e.jsx(Ds,{className:"w-4 h-4"}),e.jsx("span",{children:"优势项目"})]}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[e.jsx("li",{children:"• 答辩表现 (92分) - 表达清晰，逻辑严密"}),e.jsx("li",{children:"• 海报设计 (90分) - 创意突出，视觉效果好"})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-orange-700 mb-2 flex items-center space-x-2",children:[e.jsx(rt,{className:"w-4 h-4"}),e.jsx("span",{children:"提升空间"})]}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[e.jsx("li",{children:"• 团队协作 (75%) - 加强沟通技巧"}),e.jsx("li",{children:"• 理论深度 - 深化研究基础"})]})]})]})})]})]})]})})]}),e.jsx(Ge,{open:n,onOpenChange:r,children:e.jsxs(Be,{children:[e.jsx(We,{children:e.jsx(Ve,{children:"成绩申诉"})}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"申诉课程"}),e.jsxs("div",{className:"mt-1 p-2 bg-gray-50 rounded",children:[g.courseName," (",g.courseCode,")"]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"当前成绩"}),e.jsxs("div",{className:"mt-1 p-2 bg-gray-50 rounded",children:[g.totalScore,"分 (",g.grade,")"]})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"reason",children:"申诉理由"}),e.jsx(Ie,{id:"reason",value:l,onChange:f=>i(f.target.value),placeholder:"请详细说明申诉理由...",className:"mt-1 min-h-[120px]"})]}),e.jsxs(ue,{children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx(xe,{children:"申诉将由课程负责人和教学委员会共同审核，审核结果将在5个工作日内通知。"})]})]}),e.jsxs(Wn,{className:"mt-6",children:[e.jsx(S,{variant:"outline",onClick:()=>r(!1),children:"取消"}),e.jsx(S,{onClick:b,disabled:!l.trim()||m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4 mr-2 animate-spin"}),"提交中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(xt,{className:"w-4 h-4 mr-2"}),"提交申诉"]})})]})]})}),e.jsx(Ge,{open:c,onOpenChange:d,children:e.jsxs(Be,{children:[e.jsx(We,{children:e.jsx(Ve,{children:"下载成绩单"})}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs(ue,{children:[e.jsx(Ne,{className:"h-4 w-4"}),e.jsx(xe,{children:"成绩单将包含您所有已发布的课程成绩和评语信息。"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(S,{variant:"outline",className:"w-full justify-start",onClick:()=>N("pdf"),children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"下载 PDF 格式"]}),e.jsxs(S,{variant:"outline",className:"w-full justify-start",onClick:()=>N("excel"),children:[e.jsx(aa,{className:"w-4 h-4 mr-2"}),"下载 Excel 格式"]})]})]})]})})]})}function jj(){const{user:s}=rs(),[t,a]=o.useState("current-semester"),[n,r]=o.useState("all"),[l,i]=o.useState(!1),[c,d]=o.useState(!1),[m,u]=o.useState({reportType:"月度教学质量报告",timeRange:{start:"2025-10-01",end:"2025-10-31"},includeSections:{executiveSummary:!0,courseCompletion:!0,gradeAnalysis:!0,teacherWorkload:!0,recommendations:!0,detailedData:!1},outputFormats:{pdf:!0,word:!0,excel:!1,ppt:!0}}),h={totalStudents:284,averageScore:83.7,passRate:92.3,excellentRate:35.6,distribution:[{grade:"A",count:65,percentage:22.9},{grade:"A-",count:36,percentage:12.7},{grade:"B+",count:42,percentage:14.8},{grade:"B",count:58,percentage:20.4},{grade:"B-",count:35,percentage:12.3},{grade:"C+",count:26,percentage:9.2},{grade:"C",count:15,percentage:5.3},{grade:"F",count:7,percentage:2.5}],trendData:[{period:"2024春",averageScore:81.2,passRate:89.5},{period:"2024夏",averageScore:82.8,passRate:91.2},{period:"2024秋",averageScore:83.7,passRate:92.3}]},p=[{courseName:"实验室轮转课程",courseCode:"LAB001",semester:"2024秋",averageScore:85.4,passRate:95.8,studentCount:67,trend:"up"},{courseName:"研究方法论",courseCode:"RES201",semester:"2024秋",averageScore:82.1,passRate:89.2,studentCount:89,trend:"stable"},{courseName:"学术写作",courseCode:"ACA301",semester:"2024秋",averageScore:81.9,passRate:91.5,studentCount:78,trend:"down"},{courseName:"数据分析",courseCode:"DAT401",semester:"2024秋",averageScore:84.6,passRate:93.4,studentCount:50,trend:"up"}],g=[{type:"low_score",description:"实验室轮转课程中发现7名学生成绩低于60分",severity:"high",recommendation:"建议安排额外辅导和补考机会",affectedCount:7},{type:"high_variance",description:"数据分析课程成绩分布方差较大，存在两极分化现象",severity:"medium",recommendation:"调整教学方法，加强基础知识巩固",affectedCount:15},{type:"grade_gap",description:"学术写作课程男女学生成绩差异显著",severity:"medium",recommendation:"分析性别差异原因，优化教学内容",affectedCount:23}],b=async()=>{d(!0),await new Promise(x=>setTimeout(x,3e3)),d(!1),i(!1),console.log("Report generated with config:",m)},N=x=>{switch(x){case"up":return e.jsx(xs,{className:"w-4 h-4 text-green-500"});case"down":return e.jsx(xs,{className:"w-4 h-4 text-red-500 rotate-180"});default:return e.jsx(Ts,{className:"w-4 h-4 text-gray-500"})}},j=x=>{switch(x){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"成绩分析报告"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"自动生成统计分析，提供全面的成绩分析和报告功能"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(ie,{value:t,onValueChange:a,children:[e.jsx(re,{className:"w-32",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"current-semester",children:"本学期"}),e.jsx(W,{value:"last-semester",children:"上学期"}),e.jsx(W,{value:"current-year",children:"本学年"}),e.jsx(W,{value:"custom",children:"自定义"})]})]}),e.jsxs(S,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ns,{className:"w-4 h-4 mr-2"}),"智能报告生成器"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"w-8 h-8 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:h.totalStudents}),e.jsx("p",{className:"text-gray-600 text-sm",children:"总学生数"})]})]})})}),e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"w-8 h-8 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:h.averageScore}),e.jsx("p",{className:"text-gray-600 text-sm",children:"平均分"})]})]})})}),e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"w-8 h-8 text-emerald-500"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[h.passRate,"%"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"通过率"})]})]})})}),e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Kt,{className:"w-8 h-8 text-yellow-500"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[h.excellentRate,"%"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"优秀率"})]})]})})})]}),e.jsxs(Ye,{defaultValue:"distribution",className:"space-y-4",children:[e.jsxs(qe,{className:"grid w-full grid-cols-5",children:[e.jsx(J,{value:"distribution",children:"成绩分布"}),e.jsx(J,{value:"trends",children:"趋势分析"}),e.jsx(J,{value:"comparison",children:"对比分析"}),e.jsx(J,{value:"anomalies",children:"异常检测"}),e.jsx(J,{value:"insights",children:"智能洞察"})]}),e.jsx(ee,{value:"distribution",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(Rl,{className:"w-5 h-5"}),e.jsx("span",{children:"成绩分布"})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:h.distribution.map((x,f)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(V,{variant:"outline",className:`w-8 justify-center ${x.grade.startsWith("A")?"border-green-500 text-green-700":x.grade.startsWith("B")?"border-blue-500 text-blue-700":x.grade.startsWith("C")?"border-yellow-500 text-yellow-700":"border-red-500 text-red-700"}`,children:x.grade}),e.jsxs("span",{className:"text-sm",children:[x.count," 人"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${x.grade.startsWith("A")?"bg-green-500":x.grade.startsWith("B")?"bg-blue-500":x.grade.startsWith("C")?"bg-yellow-500":"bg-red-500"}`,style:{width:`${x.percentage}%`}})}),e.jsxs("span",{className:"text-sm font-medium w-12 text-right",children:[x.percentage,"%"]})]})]},f))})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(Cs,{className:"w-5 h-5"}),e.jsx("span",{children:"分数段分析"})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"90-100分 (优秀)"}),e.jsx("span",{className:"text-sm",children:"65人 (22.9%)"})]}),e.jsx(te,{value:22.9,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"80-89分 (良好)"}),e.jsx("span",{className:"text-sm",children:"136人 (47.9%)"})]}),e.jsx(te,{value:47.9,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"70-79分 (中等)"}),e.jsx("span",{className:"text-sm",children:"61人(21.5%)"})]}),e.jsx(te,{value:21.5,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"60-69分 (及格)"}),e.jsx("span",{className:"text-sm",children:"15人 (5.3%)"})]}),e.jsx(te,{value:5.3,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"0-59分 (不及格)"}),e.jsx("span",{className:"text-sm",children:"7人 (2.5%)"})]}),e.jsx(te,{value:2.5,className:"h-2 bg-red-100"})]})]})})]})]})}),e.jsx(ee,{value:"trends",className:"space-y-4",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(xs,{className:"w-5 h-5"}),e.jsx("span",{children:"成绩趋势分析"})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Cs,{className:"w-16 h-16 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"成绩趋势图表"}),e.jsx("p",{className:"text-sm text-gray-400",children:"显示最近三个学期的平均分和通过率变化"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:h.trendData.map((x,f)=>e.jsx(R,{className:"border-l-4 border-l-blue-500",children:e.jsx(E,{className:"pt-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold",children:x.period}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"平均分"}),e.jsx("span",{className:"font-medium",children:x.averageScore})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"通过率"}),e.jsxs("span",{className:"font-medium",children:[x.passRate,"%"]})]})]})]})})},f))})]})})]})}),e.jsx(ee,{value:"comparison",className:"space-y-4",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(Cs,{className:"w-5 h-5"}),e.jsx("span",{children:"课程对比分析"})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:p.map((x,f)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:x.courseName}),e.jsxs("p",{className:"text-sm text-gray-600",children:[x.courseCode," · ",x.semester]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[N(x.trend),e.jsxs(V,{variant:"outline",children:[x.studentCount,"人"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"平均分"}),e.jsx("span",{className:"font-semibold",children:x.averageScore})]}),e.jsx(te,{value:x.averageScore,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"通过率"}),e.jsxs("span",{className:"font-semibold",children:[x.passRate,"%"]})]}),e.jsx(te,{value:x.passRate,className:"h-2"})]})]})]},f))})})]})}),e.jsx(ee,{value:"anomalies",className:"space-y-4",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"w-5 h-5"}),e.jsx("span",{children:"异常数据检测"})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:g.map((x,f)=>e.jsxs(ue,{className:`${j(x.severity)} border-l-4`,children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsx(xe,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:"font-medium",children:x.description}),e.jsxs(V,{variant:"outline",className:"ml-2",children:["影响 ",x.affectedCount," 人"]})]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"建议措施:"})," ",x.recommendation]})]})})]},f))})})]})}),e.jsx(ee,{value:"insights",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(zt,{className:"w-5 h-5"}),e.jsx("span",{children:"AI 智能洞察"})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border-l-4 border-blue-400",children:[e.jsx("h5",{className:"font-semibold text-blue-800 mb-1",children:"教学质量评估"}),e.jsx("p",{className:"text-sm text-blue-700",children:"本学期整体教学质量良好，平均分比上学期提升1.9分，通过率提升2.8%。 建议继续保持现有教学模式，适当增加实践环节。"})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border-l-4 border-green-400",children:[e.jsx("h5",{className:"font-semibold text-green-800 mb-1",children:"优势发现"}),e.jsx("p",{className:"text-sm text-green-700",children:"实验室轮转课程表现突出，学生满意度高，建议将该课程的教学方法推广到其他课程。"})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border-l-4 border-yellow-400",children:[e.jsx("h5",{className:"font-semibold text-yellow-800 mb-1",children:"改进建议"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"数据分析课程成绩分化明显，建议开设先修班或基础辅导班，帮助基础薄弱的学生。"})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"w-5 h-5"}),e.jsx("span",{children:"关键指标监控"})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"教学目标完成度"}),e.jsx("span",{className:"text-sm font-semibold",children:"94.2%"})]}),e.jsx(te,{value:94.2,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"学生满意度"}),e.jsx("span",{className:"text-sm font-semibold",children:"4.7/5.0"})]}),e.jsx(te,{value:94,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"课程难度适配性"}),e.jsx("span",{className:"text-sm font-semibold",children:"88.5%"})]}),e.jsx(te,{value:88.5,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"教学资源利用率"}),e.jsx("span",{className:"text-sm font-semibold",children:"91.3%"})]}),e.jsx(te,{value:91.3,className:"h-2"})]})]})})]})]})})]}),e.jsx(Ge,{open:l,onOpenChange:i,children:e.jsxs(Be,{className:"max-w-2xl",children:[e.jsx(We,{children:e.jsxs(Ve,{className:"flex items-center space-x-2",children:[e.jsx(Ns,{className:"w-5 h-5"}),e.jsx("span",{children:"智能报告生成器"})]})}),e.jsxs("div",{className:"space-y-6 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"报告类型"}),e.jsxs(ie,{value:m.reportType,onValueChange:x=>u(f=>({...f,reportType:x})),children:[e.jsx(re,{className:"mt-1",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"月度教学质量报告",children:"月度教学质量报告"}),e.jsx(W,{value:"学期成绩分析报告",children:"学期成绩分析报告"}),e.jsx(W,{value:"课程对比分析报告",children:"课程对比分析报告"}),e.jsx(W,{value:"学生发展报告",children:"学生发展报告"})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"时间范围"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm",value:m.timeRange.start,onChange:x=>u(f=>({...f,timeRange:{...f.timeRange,start:x.target.value}}))}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm",value:m.timeRange.end,onChange:x=>u(f=>({...f,timeRange:{...f.timeRange,end:x.target.value}}))})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{className:"text-base font-medium",children:"包含内容"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 mt-3",children:Object.entries({executiveSummary:"执行摘要 (AI自动生成)",courseCompletion:"课程完成情况统计",gradeAnalysis:"学生成绩分析",teacherWorkload:"导师工作量统计",recommendations:"问题与建议 (AI分析)",detailedData:"详细数据附录"}).map(([x,f])=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:x,checked:m.includeSections[x],onCheckedChange:w=>u(D=>({...D,includeSections:{...D.includeSections,[x]:w}}))}),e.jsx(H,{htmlFor:x,className:"text-sm",children:f})]},x))})]}),e.jsxs("div",{children:[e.jsx(H,{className:"text-base font-medium",children:"输出格式"}),e.jsx("div",{className:"flex space-x-4 mt-3",children:Object.entries({pdf:"PDF",word:"Word",excel:"Excel",ppt:"PPT"}).map(([x,f])=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:x,checked:m.outputFormats[x],onCheckedChange:w=>u(D=>({...D,outputFormats:{...D.outputFormats,[x]:w}}))}),e.jsx(H,{htmlFor:x,className:"text-sm",children:f})]},x))})]}),e.jsxs(ue,{children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx(xe,{children:"报告生成通常需要2-5分钟，生成完成后将自动下载到您的设备。"})]})]}),e.jsxs(Wn,{className:"mt-6",children:[e.jsx(S,{variant:"outline",onClick:()=>i(!1),children:"取消"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(S,{variant:"outline",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"预览报告"]}),e.jsx(S,{onClick:b,disabled:c,className:"bg-blue-600 hover:bg-blue-700",children:c?e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4 mr-2 animate-spin"}),"生成中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"生成报告"]})})]})]})]})})]})}function gj(){const{user:s}=rs(),t=Qe(),[a,n]=o.useState({id:"1",name:"综合素质评价方案",target:"2023级实验班",period:"2025学年",status:"draft",createdAt:"2024-10-01",dimensions:[{id:"1",name:"思想品德",weight:20,description:"评估学生的思想道德品质和社会责任感",criteria:[{id:"1",name:"社会实践参与度",weight:40,description:"参与社会实践活动的积极程度"},{id:"2",name:"集体活动贡献",weight:30,description:"在集体活动中的贡献和表现"},{id:"3",name:"导师评价",weight:30,description:"导师对学生品德表现的评价"}]},{id:"2",name:"课程成绩",weight:40,description:"学生在各门课程中的学术表现",criteria:[{id:"1",name:"专业课程成绩",weight:60,description:"专业核心课程的成绩表现"},{id:"2",name:"通识课程成绩",weight:25,description:"通识教育课程的成绩表现"},{id:"3",name:"实践课程成绩",weight:15,description:"实验实践课程的成绩表现"}]},{id:"3",name:"科技创新",weight:25,description:"学生在科技创新方面的能力和成果",criteria:[{id:"1",name:"科研项目参与",weight:40,description:"参与科研项目的情况和贡献"},{id:"2",name:"学术竞赛获奖",weight:35,description:"在各类学术竞赛中的获奖情况"},{id:"3",name:"创新作品发表",weight:25,description:"创新作品、论文等的发表情况"}]},{id:"4",name:"科研推进",weight:15,description:"学生推进科研工作的能力和表现",criteria:[{id:"1",name:"研究能力",weight:50,description:"独立进行研究工作的能力"},{id:"2",name:"团队协作",weight:30,description:"在科研团队中的协作表现"},{id:"3",name:"学术交流",weight:20,description:"参与学术交流活动的表现"}]}]}),[r,l]=o.useState(!1),[i,c]=o.useState(!1),[d,m]=o.useState(!1),[u,h]=o.useState(null),[p,g]=o.useState({name:"",weight:0,description:""}),[b,N]=o.useState(!1),[j,x]=o.useState([]),f=a.dimensions.reduce((M,z)=>M+z.weight,0),w=()=>{const M=[];return f!==100&&M.push(`评价维度权重总和必须为100%，当前为${f}%`),a.dimensions.forEach(z=>{const I=z.criteria.reduce((F,$)=>F+$.weight,0);I!==100&&M.push(`${z.name}的细则权重总和必须为100%，当前为${I}%`),z.criteria.length===0&&M.push(`${z.name}必须至少包含一个评价细则`)}),x(M),M.length===0},D=(M,z)=>{n(I=>({...I,dimensions:I.dimensions.map(F=>F.id===M?{...F,weight:z}:F)}))},y=(M,z,I)=>{n(F=>({...F,dimensions:F.dimensions.map($=>$.id===M?{...$,criteria:$.criteria.map(B=>B.id===z?{...B,weight:I}:B)}:$)}))},T=()=>{if(!u||!p.name.trim())return;const M=Date.now().toString();n(z=>({...z,dimensions:z.dimensions.map(I=>I.id===u?{...I,criteria:[...I.criteria,{...p,id:M}]}:I)})),g({name:"",weight:0,description:""}),m(!1)},v=(M,z)=>{n(I=>({...I,dimensions:I.dimensions.map(F=>F.id===M?{...F,criteria:F.criteria.filter($=>$.id!==z)}:F)}))},P=async()=>{w()&&(N(!0),await new Promise(M=>setTimeout(M,2e3)),n(M=>({...M,status:"published",publishedAt:new Date().toISOString().split("T")[0]})),N(!1),c(!1))},k=(M,z)=>{const I=M/z*100;return I>50?"bg-blue-500":I>30?"bg-green-500":I>15?"bg-yellow-500":"bg-gray-500"},C=M=>{switch(M){case"思想品德":return e.jsx(He,{className:"w-5 h-5"});case"课程成绩":return e.jsx(Es,{className:"w-5 h-5"});case"科技创新":return e.jsx(ra,{className:"w-5 h-5"});case"科研推进":return e.jsx(rt,{className:"w-5 h-5"});default:return e.jsx(Kt,{className:"w-5 h-5"})}};return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"评价方案发布"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"清晰展示评价维度和权重，配置和发布评价方案"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(V,{variant:a.status==="published"?"default":"secondary",className:a.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:a.status==="published"?"已发布":"草稿"}),e.jsxs(S,{variant:"outline",onClick:()=>l(!0),children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"预览"]}),e.jsxs(S,{onClick:()=>c(!0),disabled:a.status==="published",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Os,{className:"w-4 h-4 mr-2"}),"发布"]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"基本信息"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"方案名称"}),e.jsx(se,{value:a.name,onChange:M=>n(z=>({...z,name:M.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(H,{children:"评价对象"}),e.jsxs(ie,{value:a.target,onValueChange:M=>n(z=>({...z,target:M})),children:[e.jsx(re,{className:"mt-1",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"2023级实验班",children:"2023级实验班"}),e.jsx(W,{value:"2024级实验班",children:"2024级实验班"}),e.jsx(W,{value:"全体研究生",children:"全体研究生"}),e.jsx(W,{value:"博士生",children:"博士生"})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"评价周期"}),e.jsxs(ie,{value:a.period,onValueChange:M=>n(z=>({...z,period:M})),children:[e.jsx(re,{className:"mt-1",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"2025学年",children:"2025学年"}),e.jsx(W,{value:"2024学年",children:"2024学年"}),e.jsx(W,{value:"2025春季学期",children:"2025春季学期"}),e.jsx(W,{value:"2025秋季学期",children:"2025秋季学期"})]})]})]})]})})]}),j.length>0&&e.jsxs(ue,{className:"border-red-200 bg-red-50",children:[e.jsx(ze,{className:"h-4 w-4 text-red-600"}),e.jsx(xe,{children:e.jsx("div",{className:"space-y-1",children:j.map((M,z)=>e.jsx("div",{className:"text-red-700",children:M},z))})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"评价维度权重配置"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>t("/evaluation-standard-config"),children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"高级配置"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"总计:"}),e.jsxs(V,{variant:f===100?"default":"destructive",className:f===100?"bg-green-100 text-green-800":"",children:[f,"%"]})]})]})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:a.dimensions.map(M=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[C(M.name),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:M.name}),M.description&&e.jsx("p",{className:"text-sm text-gray-600",children:M.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(se,{type:"number",value:M.weight,onChange:z=>D(M.id,parseInt(z.target.value)||0),className:"w-20 text-center",min:"0",max:"100"}),e.jsx("span",{className:"text-sm font-medium",children:"%"})]})]}),e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:`h-3 rounded-full transition-all ${k(M.weight,100)}`,style:{width:`${Math.min(M.weight,100)}%`}})}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h5",{className:"font-medium text-sm",children:"评价细则"}),e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>{h(M.id),m(!0)},children:[e.jsx(as,{className:"w-4 h-4 mr-1"}),"添加细则"]})]}),M.criteria.length>0?e.jsxs("div",{className:"space-y-2",children:[M.criteria.map(z=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-sm font-medium",children:z.name}),z.description&&e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:z.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{type:"number",value:z.weight,onChange:I=>y(M.id,z.id,parseInt(I.target.value)||0),className:"w-16 text-center text-sm",min:"0",max:"100"}),e.jsx("span",{className:"text-xs",children:"%"}),e.jsx(S,{size:"sm",variant:"ghost",onClick:()=>v(M.id,z.id),className:"p-1 h-6 w-6 text-red-600 hover:text-red-800",children:e.jsx(ut,{className:"w-3 h-3"})})]})]},z.id)),(()=>{const z=M.criteria.reduce((I,F)=>I+F.weight,0);return z!==100&&e.jsxs("div",{className:"text-xs text-red-600 mt-1",children:["细则权重总和应为100%，当前为",z,"%"]})})()]}):e.jsx("div",{className:"text-sm text-gray-500 italic py-2",children:"暂无评价细则，请添加至少一个细则"})]})]},M.id))})})]}),e.jsx(Ge,{open:r,onOpenChange:l,children:e.jsxs(Be,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(We,{children:e.jsx(Ve,{children:"评价方案预览"})}),e.jsxs("div",{className:"space-y-6 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"方案名称:"}),e.jsx("p",{className:"font-semibold",children:a.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"评价对象:"}),e.jsx("p",{className:"font-semibold",children:a.target})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"评价周期:"}),e.jsx("p",{className:"font-semibold",children:a.period})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"状态:"}),e.jsx(V,{className:a.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:a.status==="published"?"已发布":"草稿"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"评价维度及权重"}),a.dimensions.map(M=>e.jsx(R,{children:e.jsxs(E,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[C(M.name),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:M.name}),M.description&&e.jsx("p",{className:"text-sm text-gray-600",children:M.description})]})]}),e.jsxs(V,{className:"bg-blue-100 text-blue-800 px-3 py-1",children:[M.weight,"%"]})]}),M.criteria.length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-sm mb-2",children:"评价细则:"}),e.jsx("div",{className:"space-y-1",children:M.criteria.map(z=>e.jsxs("div",{className:"flex justify-between items-start text-sm",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("span",{className:"font-medium",children:["• ",z.name]}),z.description&&e.jsx("p",{className:"text-gray-600 ml-2 mt-1",children:z.description})]}),e.jsxs("span",{className:"text-gray-600",children:["(",z.weight,"%)"]})]},z.id))})]})]})},M.id))]})]})]})}),e.jsx(Ge,{open:i,onOpenChange:c,children:e.jsxs(Be,{children:[e.jsx(We,{children:e.jsx(Ve,{children:"发布评价方案"})}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs(ue,{children:[e.jsx(fe,{className:"h-4 w-4"}),e.jsx(xe,{children:"发布后，评价方案将对所有相关人员可见，学生和评价专家可以开始评价过程。"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"方案名称:"})," ",a.name]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"评价对象:"})," ",a.target]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"评价周期:"})," ",a.period]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"维度数量:"})," ",a.dimensions.length,"个"]})]}),j.length>0&&e.jsxs(ue,{className:"border-red-200 bg-red-50",children:[e.jsx(ze,{className:"h-4 w-4 text-red-600"}),e.jsx(xe,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-red-700 font-medium",children:"发布前请解决以下问题:"}),j.map((M,z)=>e.jsxs("div",{className:"text-red-700 text-sm",children:["• ",M]},z))]})})]})]}),e.jsxs(Wn,{className:"mt-6",children:[e.jsx(S,{variant:"outline",onClick:()=>c(!1),children:"取消"}),e.jsx(S,{onClick:P,disabled:j.length>0||b,className:"bg-blue-600 hover:bg-blue-700",children:b?e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4 mr-2 animate-spin"}),"发布中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Os,{className:"w-4 h-4 mr-2"}),"确认发布"]})})]})]})}),e.jsx(Ge,{open:d,onOpenChange:m,children:e.jsxs(Be,{children:[e.jsx(We,{children:e.jsx(Ve,{children:"添加评价细则"})}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"细则名称"}),e.jsx(se,{value:p.name,onChange:M=>g(z=>({...z,name:M.target.value})),placeholder:"请输入细则名称",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(H,{children:"权重 (%)"}),e.jsx(se,{type:"number",value:p.weight,onChange:M=>g(z=>({...z,weight:parseInt(M.target.value)||0})),placeholder:"0",min:"0",max:"100",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(H,{children:"描述 (可选)"}),e.jsx(Ie,{value:p.description,onChange:M=>g(z=>({...z,description:M.target.value})),placeholder:"请输入细则描述",className:"mt-1",rows:3})]})]}),e.jsxs(Wn,{className:"mt-6",children:[e.jsx(S,{variant:"outline",onClick:()=>m(!1),children:"取消"}),e.jsxs(S,{onClick:T,disabled:!p.name.trim(),children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"添加细则"]})]})]})})]})}function vj(){const{user:s}=rs(),t=Qe(),[a,n]=o.useState("current"),[r,l]=o.useState(!1),[i,c]=o.useState(!1),[d,m]=o.useState(!1),[u,h]=o.useState([]),[p,g]=o.useState(""),[b,N]=o.useState("all"),[j,x]=o.useState("all"),[f]=o.useState([{id:"current",name:"当前评审专家组",description:"2024年春季学期综合素质评价专家组",createdAt:"2024-01-15",totalExperts:5,confirmedExperts:4,experts:[{id:"1",name:"张教授",title:"教授",department:"计算机科学系",email:"zhang@university.edu",phone:"13800138001",role:"leader",responsibilities:["科技创新评审"],status:"confirmed",invitedAt:"2024-01-15",confirmedAt:"2024-01-16"},{id:"2",name:"李教授",title:"教授",department:"物理系",email:"li@university.edu",phone:"13800138002",role:"member",responsibilities:["科研推进评审"],status:"confirmed",invitedAt:"2024-01-15",confirmedAt:"2024-01-16"},{id:"3",name:"王教授",title:"副教授",department:"数学系",email:"wang@university.edu",phone:"13800138003",role:"member",responsibilities:["思想品德评审"],status:"pending",invitedAt:"2024-01-15"},{id:"4",name:"陈教授",title:"教授",department:"化学系",email:"chen@university.edu",phone:"13800138004",role:"member",responsibilities:["科技创新评审","科研推进评审"],status:"confirmed",invitedAt:"2024-01-15",confirmedAt:"2024-01-17"},{id:"5",name:"刘教授",title:"副教授",department:"生物系",email:"liu@university.edu",phone:"13800138005",role:"member",responsibilities:["思想品德评审"],status:"confirmed",invitedAt:"2024-01-15",confirmedAt:"2024-01-17"}]}]),w=f.find(_=>_.id===a),[D,y]=o.useState({name:"",title:"",department:"",email:"",phone:"",role:"member",responsibilities:[]}),T=["科技创新评审","科研推进评审","思想品德评审","社会实践评审","团队协作评审"],[v,P]=o.useState({minExperts:3,requireLeaderApproval:!0,allowConflictOfInterest:!1,blindReview:!1,consensusRequired:!0,maxScoreDifference:10}),k=(w==null?void 0:w.experts.filter(_=>{const q=_.name.toLowerCase().includes(p.toLowerCase())||_.department.toLowerCase().includes(p.toLowerCase()),U=b==="all"||_.status===b,G=j==="all"||_.role===j;return q&&U&&G}))||[],C=_=>{h(q=>q.includes(_)?q.filter(U=>U!==_):[...q,_])},M=()=>{u.length===k.length?h([]):h(k.map(_=>_.id))},z=async()=>{if(!D.name||!D.email||D.responsibilities.length===0){alert("请填写完整的专家信息并选择至少一项评审责任");return}await new Promise(_=>setTimeout(_,1e3)),console.log("Sending invitation to:",D),l(!1),y({name:"",title:"",department:"",email:"",phone:"",role:"member",responsibilities:[]})},I=async _=>{if(u.length===0){alert("请先选择要分配任务的专家");return}await new Promise(q=>setTimeout(q,1e3)),console.log("Assigning tasks to experts:",u,_),c(!1),h([])},F=()=>{const _=w==null?void 0:w.experts.map(ne=>({姓名:ne.name,职称:ne.title,部门:ne.department,邮箱:ne.email,电话:ne.phone,角色:ne.role==="leader"?"组长":"成员",评审责任:ne.responsibilities.join("、"),状态:ne.status==="confirmed"?"已确认":ne.status==="pending"?"待确认":"已拒绝"})),q=[Object.keys(_[0]).join(","),..._.map(ne=>Object.values(ne).join(","))].join(`
`),U=new Blob(["\uFEFF"+q],{type:"text/csv;charset=utf-8;"}),G=URL.createObjectURL(U),Y=document.createElement("a");Y.href=G,Y.download=`expert_group_${Date.now()}.csv`,Y.click()},$=async()=>{await new Promise(_=>setTimeout(_,1e3)),console.log("Saving evaluation rules:",v),m(!1)},B=_=>{switch(_){case"confirmed":return e.jsx(V,{className:"bg-green-100 text-green-800",children:"已确认"});case"pending":return e.jsx(V,{className:"bg-yellow-100 text-yellow-800",children:"待确认"});case"declined":return e.jsx(V,{className:"bg-red-100 text-red-800",children:"已拒绝"})}},A=_=>_==="leader"?e.jsx(V,{className:"bg-purple-100 text-purple-800",children:"组长"}):e.jsx(V,{variant:"outline",children:"成员"});return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"专家组管理"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"管理评审专家组成员，分配评审任务和权限"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx(S,{variant:"outline",onClick:()=>t("/evaluation-plan-publishing"),children:"返回评价管理"})})]}),w&&e.jsx(R,{children:e.jsx(O,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(L,{children:w.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold",children:[w.confirmedExperts,"/",w.totalExperts]}),e.jsx("p",{className:"text-sm text-gray-600",children:"专家确认"})]})]})})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(se,{placeholder:"搜索专家姓名或部门...",value:p,onChange:_=>g(_.target.value),className:"pl-10 w-64"})]}),e.jsxs(ie,{value:b,onValueChange:N,children:[e.jsx(re,{className:"w-32",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"所有状态"}),e.jsx(W,{value:"confirmed",children:"已确认"}),e.jsx(W,{value:"pending",children:"待确认"}),e.jsx(W,{value:"declined",children:"已拒绝"})]})]}),e.jsxs(ie,{value:j,onValueChange:x,children:[e.jsx(re,{className:"w-32",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"所有角色"}),e.jsx(W,{value:"leader",children:"组长"}),e.jsx(W,{value:"member",children:"成员"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(Ge,{open:r,onOpenChange:l,children:[e.jsx(Ta,{asChild:!0,children:e.jsxs(S,{children:[e.jsx(Md,{className:"w-4 h-4 mr-2"}),"邀请专家"]})}),e.jsxs(Be,{className:"max-w-md",children:[e.jsx(We,{children:e.jsx(Ve,{children:"邀请新专家"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"姓名"}),e.jsx(se,{value:D.name,onChange:_=>y({...D,name:_.target.value}),placeholder:"请输入专家姓名"})]}),e.jsxs("div",{children:[e.jsx(H,{children:"职称"}),e.jsx(se,{value:D.title,onChange:_=>y({...D,title:_.target.value}),placeholder:"请输入职称"})]}),e.jsxs("div",{children:[e.jsx(H,{children:"部门"}),e.jsx(se,{value:D.department,onChange:_=>y({...D,department:_.target.value}),placeholder:"请输入所属部门"})]}),e.jsxs("div",{children:[e.jsx(H,{children:"邮箱"}),e.jsx(se,{type:"email",value:D.email,onChange:_=>y({...D,email:_.target.value}),placeholder:"请输入邮箱地址"})]}),e.jsxs("div",{children:[e.jsx(H,{children:"电话"}),e.jsx(se,{value:D.phone,onChange:_=>y({...D,phone:_.target.value}),placeholder:"请输入联系电话"})]}),e.jsxs("div",{children:[e.jsx(H,{children:"角色分配"}),e.jsxs(ie,{value:D.role,onValueChange:_=>y({...D,role:_}),children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"leader",children:"组长"}),e.jsx(W,{value:"member",children:"成员"})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"评审责任"}),e.jsx("div",{className:"space-y-2 mt-2",children:T.map(_=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{checked:D.responsibilities.includes(_),onCheckedChange:q=>{y(q?{...D,responsibilities:[...D.responsibilities,_]}:{...D,responsibilities:D.responsibilities.filter(U=>U!==_)})}}),e.jsx(H,{className:"font-normal cursor-pointer",children:_})]},_))})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(S,{variant:"outline",onClick:()=>l(!1),children:"取消"}),e.jsxs(S,{onClick:z,children:[e.jsx(Os,{className:"w-4 h-4 mr-2"}),"发送邀请"]})]})]})]})]}),u.length>0&&e.jsxs(Ge,{open:i,onOpenChange:c,children:[e.jsx(Ta,{asChild:!0,children:e.jsxs(S,{variant:"outline",children:["批量分配任务 (",u.length,")"]})}),e.jsxs(Be,{children:[e.jsx(We,{children:e.jsx(Ve,{children:"批量分配评审任务"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["为选中的 ",u.length," 位专家分配评审任务"]}),e.jsxs("div",{children:[e.jsx(H,{children:"选择评审任务"}),e.jsx("div",{className:"space-y-2 mt-2",children:T.map(_=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:_}),e.jsx(H,{htmlFor:_,className:"font-normal cursor-pointer",children:_})]},_))})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(S,{variant:"outline",onClick:()=>c(!1),children:"取消"}),e.jsx(S,{onClick:()=>I([]),children:"确认分配"})]})]})]})]}),e.jsxs(Ge,{open:d,onOpenChange:m,children:[e.jsx(Ta,{asChild:!0,children:e.jsxs(S,{variant:"outline",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"设置评审规则"]})}),e.jsxs(Be,{children:[e.jsx(We,{children:e.jsx(Ve,{children:"评审规则设置"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"最少评审专家数"}),e.jsx(se,{type:"number",value:v.minExperts,onChange:_=>P({...v,minExperts:parseInt(_.target.value)||0}),min:"1",max:"10"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{checked:v.requireLeaderApproval,onCheckedChange:_=>P({...v,requireLeaderApproval:_})}),e.jsx(H,{className:"font-normal",children:"需要组长最终审批"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{checked:v.blindReview,onCheckedChange:_=>P({...v,blindReview:_})}),e.jsx(H,{className:"font-normal",children:"启用盲审模式"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{checked:v.consensusRequired,onCheckedChange:_=>P({...v,consensusRequired:_})}),e.jsx(H,{className:"font-normal",children:"需要达成共识"})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"最大分数差异"}),e.jsx(se,{type:"number",value:v.maxScoreDifference,onChange:_=>P({...v,maxScoreDifference:parseInt(_.target.value)||0}),min:"0",max:"50"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"专家评分差异超过此值时需要重新评审"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(S,{variant:"outline",onClick:()=>m(!1),children:"取消"}),e.jsx(S,{onClick:$,children:"保存规则"})]})]})]})]}),e.jsxs(S,{variant:"outline",onClick:F,children:[e.jsx(lh,{className:"w-4 h-4 mr-2"}),"导出名单"]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(L,{className:"text-lg",children:["当前专家组 (",w==null?void 0:w.confirmedExperts,"/",w==null?void 0:w.totalExperts,"人)"]}),k.length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{checked:u.length===k.length,onCheckedChange:M}),e.jsx(H,{className:"font-normal cursor-pointer",children:"全选"})]})]})}),e.jsx(E,{className:"space-y-4",children:k.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"暂无符合条件的专家"}):k.map(_=>e.jsx(R,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(Ae,{checked:u.includes(_.id),onCheckedChange:()=>C(_.id)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Xs,{className:"w-5 h-5 text-gray-400"}),e.jsx("h3",{className:"font-medium text-lg",children:_.name}),A(_.role),B(_.status)]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o3,{className:"w-4 h-4"}),e.jsxs("span",{children:[_.title," - ",_.department]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(hl,{className:"w-4 h-4"}),e.jsx("span",{children:_.email})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oo,{className:"w-4 h-4"}),e.jsx("span",{children:_.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsxs("span",{children:["邀请时间: ",_.invitedAt]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"负责评审:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:_.responsibilities.map((q,U)=>e.jsx(V,{variant:"secondary",children:q},U))})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[_.status==="confirmed"&&e.jsxs("div",{className:"text-right text-sm text-green-600",children:[e.jsx(fe,{className:"w-4 h-4 inline mr-1"}),"已确认",_.confirmedAt&&e.jsx("p",{className:"text-xs text-gray-500",children:_.confirmedAt})]}),_.status==="pending"&&e.jsxs(S,{size:"sm",variant:"outline",children:[e.jsx(Os,{className:"w-3 h-3 mr-1"}),"重发邀请"]})]})]})},_.id))})]})]})}function Nj(){const{user:s}=rs(),t=Qe(),[a,n]=o.useState([{id:"1",name:"思想品德",weight:20,color:"bg-purple-500",description:"评估学生的思想道德品质和社会责任感"},{id:"2",name:"课程成绩",weight:40,color:"bg-blue-500",description:"学生在各门课程中的学术表现"},{id:"3",name:"科技创新",weight:25,color:"bg-green-500",description:"学生在科技创新方面的能力和成果"},{id:"4",name:"科研推进",weight:15,color:"bg-yellow-500",description:"学生推进科研工作的能力和表现"}]),[r]=o.useState([{id:"1",name:"综合素质标准",description:"适用于全面评价学生综合素质",type:"default",dimensions:[{id:"1",name:"思想品德",weight:20,color:"bg-purple-500"},{id:"2",name:"课程成绩",weight:40,color:"bg-blue-500"},{id:"3",name:"科技创新",weight:25,color:"bg-green-500"},{id:"4",name:"科研推进",weight:15,color:"bg-yellow-500"}]},{id:"2",name:"学术导向型",description:"重点关注学术成绩和科研能力",type:"default",dimensions:[{id:"1",name:"思想品德",weight:10,color:"bg-purple-500"},{id:"2",name:"课程成绩",weight:50,color:"bg-blue-500"},{id:"3",name:"科技创新",weight:20,color:"bg-green-500"},{id:"4",name:"科研推进",weight:20,color:"bg-yellow-500"}]},{id:"3",name:"创新能力型",description:"侧重创新思维和实践能力",type:"default",dimensions:[{id:"1",name:"思想品德",weight:15,color:"bg-purple-500"},{id:"2",name:"课程成绩",weight:30,color:"bg-blue-500"},{id:"3",name:"科技创新",weight:35,color:"bg-green-500"},{id:"4",name:"科研推进",weight:20,color:"bg-yellow-500"}]}]),[l,i]=o.useState(""),[c,d]=o.useState(!1),[m,u]=o.useState(!1),[h,p]=o.useState(""),[g,b]=o.useState(""),[N,j]=o.useState("visual"),[x,f]=o.useState(!1),[w,D]=o.useState(null),y=a.reduce((A,_)=>A+_.weight,0),T=(A,_)=>{const q=a.find(U=>U.id===A);q!=null&&q.locked||n(U=>U.map(G=>G.id===A?{...G,weight:Math.max(0,Math.min(100,_))}:G))},v=()=>{const A=a.reduce((_,q)=>_+q.weight,0);A!==0&&n(_=>_.map(q=>({...q,weight:Math.round(q.weight/A*100)})))},P=A=>{n(_=>_.map(q=>q.id===A?{...q,locked:!q.locked}:q))},k=A=>{n(A.dimensions.map(_=>({..._,locked:!1}))),d(!1)},C=()=>{h.trim()&&(console.log("Saving template:",{name:h,description:g,dimensions:a}),u(!1),p(""),b(""))},M=()=>{const A=Date.now().toString(),_=["bg-red-500","bg-orange-500","bg-indigo-500","bg-pink-500"],q=_[Math.floor(Math.random()*_.length)];n(U=>[...U,{id:A,name:"新维度",weight:0,color:q,description:""}])},z=A=>{n(_=>_.filter(q=>q.id!==A))},I=(A,_)=>{f(!0),D(_),A.dataTransfer.effectAllowed="move"},F=A=>{A.preventDefault(),A.dataTransfer.dropEffect="move"},$=(A,_)=>{if(A.preventDefault(),w===null)return;const q=a[w],U=[...a];U.splice(w,1),U.splice(_,0,q),n(U),f(!1),D(null)},B=()=>{const A={dimensions:a,totalWeight:y,timestamp:new Date().toISOString()},_=new Blob([JSON.stringify(A,null,2)],{type:"application/json"}),q=URL.createObjectURL(_),U=document.createElement("a");U.href=q,U.download=`evaluation-config-${new Date().toISOString().split("T")[0]}.json`,U.click()};return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"评价标准配置"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"可视化权重设置界面，提供直观的评价标准配置和管理功能"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(S,{variant:"outline",onClick:()=>t("/evaluation-plan-publishing"),children:[e.jsx(Us,{className:"w-4 h-4 mr-2"}),"返回发布页面"]})})]}),e.jsxs(Ye,{value:N,onValueChange:j,children:[e.jsxs(qe,{children:[e.jsx(J,{value:"visual",children:"可视化配置"}),e.jsx(J,{value:"templates",children:"标准模板"}),e.jsx(J,{value:"advanced",children:"高级设置"})]}),e.jsxs(ee,{value:"visual",className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"权重总览"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(S,{size:"sm",variant:"outline",onClick:v,disabled:y===100,children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"自动归一化"]}),e.jsxs(V,{variant:y===100?"default":"destructive",className:y===100?"bg-green-100 text-green-800":"",children:["总计: ",y,"%"]})]})]})}),e.jsxs(E,{children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs("div",{className:"relative w-64 h-64",children:[e.jsx("svg",{viewBox:"0 0 100 100",className:"transform -rotate-90",children:(()=>{let A=0;return a.map((_,q)=>{const U=_.weight/Math.max(y,1)*100,G=A/100*360,Y=(A+U)/100*360,ne=yj(50,50,45,G),ge=yj(50,50,45,Y),ke=U>50?1:0,Z=["M 50 50",`L ${ne.x} ${ne.y}`,`A 45 45 0 ${ke} 1 ${ge.x} ${ge.y}`,"Z"].join(" ");return A+=U,e.jsx("path",{d:Z,fill:`hsl(${q*90}, 70%, 50%)`,stroke:"white",strokeWidth:"1",className:"transition-all hover:opacity-80 cursor-pointer"},_.id)})})()}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"bg-white rounded-full w-32 h-32 shadow-inner flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Rl,{className:"w-8 h-8 mx-auto text-gray-400 mb-1"}),e.jsxs("div",{className:"text-2xl font-bold",children:[y,"%"]})]})})})]})}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.map((A,_)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:`hsl(${_*90}, 70%, 50%)`}}),e.jsx("span",{className:"font-medium",children:A.name}),e.jsxs(V,{variant:"secondary",className:"ml-auto",children:[A.weight,"%"]})]},A.id))})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"维度权重配置"}),e.jsxs(S,{size:"sm",variant:"outline",onClick:M,children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"添加维度"]})]})}),e.jsxs(E,{children:[e.jsx("div",{className:"space-y-4",children:a.map((A,_)=>e.jsx("div",{draggable:!A.locked,onDragStart:q=>I(q,_),onDragOver:F,onDrop:q=>$(q,_),className:X("border rounded-lg p-4 transition-all",x&&w===_&&"opacity-50",A.locked?"bg-gray-50":"hover:shadow-md cursor-move"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 rounded ${A.color}`}),e.jsx(se,{value:A.name,onChange:q=>{n(U=>U.map(G=>G.id===A.id?{...G,name:q.target.value}:G))},disabled:A.locked,className:"font-semibold border-0 p-0 h-auto text-base focus:ring-0"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{size:"sm",variant:"ghost",onClick:()=>P(A.id),children:A.locked?e.jsx(Hr,{className:"w-4 h-4 text-gray-500"}):e.jsx(hi,{className:"w-4 h-4 text-gray-400"})}),e.jsx(S,{size:"sm",variant:"ghost",onClick:()=>z(A.id),disabled:A.locked,className:"text-red-600 hover:text-red-800",children:e.jsx(Lt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(H,{className:"text-sm",children:"权重"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{size:"sm",variant:"outline",onClick:()=>T(A.id,A.weight-5),disabled:A.locked,className:"h-8 w-8 p-0",children:e.jsx(dy,{className:"w-3 h-3"})}),e.jsx(se,{type:"number",value:A.weight,onChange:q=>T(A.id,parseInt(q.target.value)||0),disabled:A.locked,className:"w-16 text-center h-8",min:"0",max:"100"}),e.jsx("span",{className:"text-sm",children:"%"}),e.jsx(S,{size:"sm",variant:"outline",onClick:()=>T(A.id,A.weight+5),disabled:A.locked,className:"h-8 w-8 p-0",children:e.jsx(as,{className:"w-3 h-3"})})]})]}),e.jsx(is,{value:[A.weight],onValueChange:([q])=>T(A.id,q),disabled:A.locked,max:100,step:1,className:"w-full"}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`${A.color} h-2 rounded-full transition-all`,style:{width:`${A.weight}%`}})})]}),e.jsx(Ie,{value:A.description||"",onChange:q=>{n(U=>U.map(G=>G.id===A.id?{...G,description:q.target.value}:G))},disabled:A.locked,placeholder:"添加维度描述...",className:"resize-none",rows:2})]})},A.id))}),y!==100&&e.jsxs(ue,{className:"mt-4 border-yellow-200 bg-yellow-50",children:[e.jsx(ze,{className:"h-4 w-4 text-yellow-600"}),e.jsxs(xe,{className:"text-yellow-700",children:["权重总和应为100%，当前为",y,'%。点击"自动归一化"按钮可自动调整。']})]})]})]}),e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(S,{variant:"outline",onClick:()=>d(!0),children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"选择模板"]}),e.jsxs(S,{variant:"outline",onClick:()=>u(!0),children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"保存为模板"]}),e.jsxs(S,{variant:"outline",onClick:B,children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"导出配置"]})]}),e.jsxs(S,{className:"bg-blue-600 hover:bg-blue-700",disabled:y!==100,children:[e.jsx(Dl,{className:"w-4 h-4 mr-2"}),"保存配置"]})]})})})]}),e.jsx(ee,{value:"templates",className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(A=>e.jsxs(R,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsx("span",{children:A.name}),A.type==="default"&&e.jsx(V,{variant:"secondary",children:"预设"})]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:A.description}),e.jsx("div",{className:"space-y-2 mb-4",children:A.dimensions.map(_=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded ${_.color}`}),e.jsx("span",{className:"text-sm",children:_.name})]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[_.weight,"%"]})]},_.id))}),e.jsxs(S,{className:"w-full",variant:"outline",onClick:()=>k(A),children:[e.jsx(Dt,{className:"w-4 h-4 mr-2"}),"应用此模板"]})]})]},A.id))})}),e.jsx(ee,{value:"advanced",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"高级设置"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"权重精度"}),e.jsxs(ie,{defaultValue:"1",children:[e.jsx(re,{className:"w-full mt-1",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"1",children:"整数"}),e.jsx(W,{value:"0.1",children:"一位小数"}),e.jsx(W,{value:"0.01",children:"两位小数"})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"权重调整步长"}),e.jsxs(ie,{defaultValue:"5",children:[e.jsx(re,{className:"w-full mt-1",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"1",children:"1%"}),e.jsx(W,{value:"5",children:"5%"}),e.jsx(W,{value:"10",children:"10%"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(H,{children:"启用多级维度"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"允许为每个维度添加子维度"})]}),e.jsx(S,{variant:"outline",size:"sm",children:"启用"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(H,{children:"权重验证规则"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"自定义权重验证规则"})]}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"配置"]})]})]})]})})]}),e.jsx(Ge,{open:c,onOpenChange:d,children:e.jsxs(Be,{className:"max-w-2xl",children:[e.jsx(We,{children:e.jsx(Ve,{children:"选择评价标准模板"})}),e.jsx("div",{className:"space-y-4 mt-4 max-h-96 overflow-y-auto",children:r.map(A=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>k(A),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold",children:A.name}),A.type==="default"&&e.jsx(V,{variant:"secondary",children:"预设"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:A.description}),e.jsx("div",{className:"flex items-center space-x-4",children:A.dimensions.map(_=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:`w-3 h-3 rounded ${_.color}`}),e.jsx("span",{className:"text-xs",children:_.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",_.weight,"%)"]})]},_.id))})]},A.id))})]})}),e.jsx(Ge,{open:m,onOpenChange:u,children:e.jsxs(Be,{children:[e.jsx(We,{children:e.jsx(Ve,{children:"保存为模板"})}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"模板名称"}),e.jsx(se,{value:h,onChange:A=>p(A.target.value),placeholder:"请输入模板名称",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(H,{children:"模板描述"}),e.jsx(Ie,{value:g,onChange:A=>b(A.target.value),placeholder:"请输入模板描述",className:"mt-1",rows:3})]}),e.jsxs("div",{children:[e.jsx(H,{children:"预览"}),e.jsx("div",{className:"mt-2 space-y-2 p-3 bg-gray-50 rounded",children:a.map(A=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded ${A.color}`}),e.jsx("span",{className:"text-sm",children:A.name})]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[A.weight,"%"]})]},A.id))})]})]}),e.jsxs(Wn,{className:"mt-6",children:[e.jsx(S,{variant:"outline",onClick:()=>u(!1),children:"取消"}),e.jsxs(S,{onClick:C,disabled:!h.trim(),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"保存模板"]})]})]})})]})}function yj(s,t,a,n){const r=(n-90)*Math.PI/180;return{x:s+a*Math.cos(r),y:t+a*Math.sin(r)}}const nb=6048e5,EP=864e5,wj=Symbol.for("constructDateFrom");function Fs(s,t){return typeof s=="function"?s(t):s&&typeof s=="object"&&wj in s?s[wj](t):s instanceof Date?new s.constructor(t):new Date(t)}function ls(s,t){return Fs(t||s,s)}function rb(s,t,a){const n=ls(s,a==null?void 0:a.in);return isNaN(t)?Fs(s,NaN):(t&&n.setDate(n.getDate()+t),n)}function lb(s,t,a){const n=ls(s,a==null?void 0:a.in);if(isNaN(t))return Fs(s,NaN);if(!t)return n;const r=n.getDate(),l=Fs(s,n.getTime());l.setMonth(n.getMonth()+t+1,0);const i=l.getDate();return r>=i?l:(n.setFullYear(l.getFullYear(),l.getMonth(),r),n)}let AP={};function ec(){return AP}function Vn(s,t){var c,d,m,u;const a=ec(),n=(t==null?void 0:t.weekStartsOn)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??a.weekStartsOn??((u=(m=a.locale)==null?void 0:m.options)==null?void 0:u.weekStartsOn)??0,r=ls(s,t==null?void 0:t.in),l=r.getDay(),i=(l<n?7:0)+l-n;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function $i(s,t){return Vn(s,{...t,weekStartsOn:1})}function ib(s,t){const a=ls(s,t==null?void 0:t.in),n=a.getFullYear(),r=Fs(a,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const l=$i(r),i=Fs(a,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const c=$i(i);return a.getTime()>=l.getTime()?n+1:a.getTime()>=c.getTime()?n:n-1}function bj(s){const t=ls(s),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+s-+a}function Sr(s,...t){const a=Fs.bind(null,s||t.find(n=>typeof n=="object"));return t.map(a)}function Bi(s,t){const a=ls(s,t==null?void 0:t.in);return a.setHours(0,0,0,0),a}function cb(s,t,a){const[n,r]=Sr(a==null?void 0:a.in,s,t),l=Bi(n),i=Bi(r),c=+l-bj(l),d=+i-bj(i);return Math.round((c-d)/EP)}function IP(s,t){const a=ib(s,t),n=Fs(s,0);return n.setFullYear(a,0,4),n.setHours(0,0,0,0),$i(n)}function OP(s,t,a){return rb(s,t*7,a)}function _P(s,t,a){return lb(s,t*12,a)}function LP(s,t){let a,n=t==null?void 0:t.in;return s.forEach(r=>{!n&&typeof r=="object"&&(n=Fs.bind(null,r));const l=ls(r,n);(!a||a<l||isNaN(+l))&&(a=l)}),Fs(n,a||NaN)}function zP(s,t){let a,n=t==null?void 0:t.in;return s.forEach(r=>{!n&&typeof r=="object"&&(n=Fs.bind(null,r));const l=ls(r,n);(!a||a>l||isNaN(+l))&&(a=l)}),Fs(n,a||NaN)}function FP(s,t,a){const[n,r]=Sr(a==null?void 0:a.in,s,t);return+Bi(n)==+Bi(r)}function db(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function $P(s){return!(!db(s)&&typeof s!="number"||isNaN(+ls(s)))}function BP(s,t,a){const[n,r]=Sr(a==null?void 0:a.in,s,t),l=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return l*12+i}function WP(s,t){const a=ls(s,t==null?void 0:t.in),n=a.getMonth();return a.setFullYear(a.getFullYear(),n+1,0),a.setHours(23,59,59,999),a}function VP(s,t){const[a,n]=Sr(s,t.start,t.end);return{start:a,end:n}}function UP(s,t){const{start:a,end:n}=VP(t==null?void 0:t.in,s);let r=+a>+n;const l=r?+a:+n,i=r?n:a;i.setHours(0,0,0,0),i.setDate(1);let c=1;const d=[];for(;+i<=l;)d.push(Fs(a,i)),i.setMonth(i.getMonth()+c);return r?d.reverse():d}function qP(s,t){const a=ls(s,t==null?void 0:t.in);return a.setDate(1),a.setHours(0,0,0,0),a}function HP(s,t){const a=ls(s,t==null?void 0:t.in),n=a.getFullYear();return a.setFullYear(n+1,0,0),a.setHours(23,59,59,999),a}function ob(s,t){const a=ls(s,t==null?void 0:t.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function mb(s,t){var c,d,m,u;const a=ec(),n=(t==null?void 0:t.weekStartsOn)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??a.weekStartsOn??((u=(m=a.locale)==null?void 0:m.options)==null?void 0:u.weekStartsOn)??0,r=ls(s,t==null?void 0:t.in),l=r.getDay(),i=(l<n?-7:0)+6-(l-n);return r.setDate(r.getDate()+i),r.setHours(23,59,59,999),r}function GP(s,t){return mb(s,{...t,weekStartsOn:1})}const YP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KP=(s,t,a)=>{let n;const r=YP[s];return typeof r=="string"?n=r:t===1?n=r.one:n=r.other.replace("{{count}}",t.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function al(s){return(t={})=>{const a=t.width?String(t.width):s.defaultWidth;return s.formats[a]||s.formats[s.defaultWidth]}}const QP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ZP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},JP={date:al({formats:QP,defaultWidth:"full"}),time:al({formats:XP,defaultWidth:"full"}),dateTime:al({formats:ZP,defaultWidth:"full"})},eT={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sT=(s,t,a,n)=>eT[s];function ya(s){return(t,a)=>{const n=a!=null&&a.context?String(a.context):"standalone";let r;if(n==="formatting"&&s.formattingValues){const i=s.defaultFormattingWidth||s.defaultWidth,c=a!=null&&a.width?String(a.width):i;r=s.formattingValues[c]||s.formattingValues[i]}else{const i=s.defaultWidth,c=a!=null&&a.width?String(a.width):s.defaultWidth;r=s.values[c]||s.values[i]}const l=s.argumentCallback?s.argumentCallback(t):t;return r[l]}}const tT={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aT={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nT={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rT={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cT=(s,t)=>{const a=Number(s),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},dT={ordinalNumber:cT,era:ya({values:tT,defaultWidth:"wide"}),quarter:ya({values:aT,defaultWidth:"wide",argumentCallback:s=>s-1}),month:ya({values:nT,defaultWidth:"wide"}),day:ya({values:rT,defaultWidth:"wide"}),dayPeriod:ya({values:lT,defaultWidth:"wide",formattingValues:iT,defaultFormattingWidth:"wide"})};function wa(s){return(t,a={})=>{const n=a.width,r=n&&s.matchPatterns[n]||s.matchPatterns[s.defaultMatchWidth],l=t.match(r);if(!l)return null;const i=l[0],c=n&&s.parsePatterns[n]||s.parsePatterns[s.defaultParseWidth],d=Array.isArray(c)?mT(c,h=>h.test(i)):oT(c,h=>h.test(i));let m;m=s.valueCallback?s.valueCallback(d):d,m=a.valueCallback?a.valueCallback(m):m;const u=t.slice(i.length);return{value:m,rest:u}}}function oT(s,t){for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)&&t(s[a]))return a}function mT(s,t){for(let a=0;a<s.length;a++)if(t(s[a]))return a}function xb(s){return(t,a={})=>{const n=t.match(s.matchPattern);if(!n)return null;const r=n[0],l=t.match(s.parsePattern);if(!l)return null;let i=s.valueCallback?s.valueCallback(l[0]):l[0];i=a.valueCallback?a.valueCallback(i):i;const c=t.slice(r.length);return{value:i,rest:c}}}const xT=/^(\d+)(th|st|nd|rd)?/i,uT=/\d+/i,hT={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fT={any:[/^b/i,/^(a|c)/i]},pT={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jT={any:[/1/i,/2/i,/3/i,/4/i]},gT={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},NT={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yT={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wT={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bT={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ST={ordinalNumber:xb({matchPattern:xT,parsePattern:uT,valueCallback:s=>parseInt(s,10)}),era:wa({matchPatterns:hT,defaultMatchWidth:"wide",parsePatterns:fT,defaultParseWidth:"any"}),quarter:wa({matchPatterns:pT,defaultMatchWidth:"wide",parsePatterns:jT,defaultParseWidth:"any",valueCallback:s=>s+1}),month:wa({matchPatterns:gT,defaultMatchWidth:"wide",parsePatterns:vT,defaultParseWidth:"any"}),day:wa({matchPatterns:NT,defaultMatchWidth:"wide",parsePatterns:yT,defaultParseWidth:"any"}),dayPeriod:wa({matchPatterns:wT,defaultMatchWidth:"any",parsePatterns:bT,defaultParseWidth:"any"})},Lh={code:"en-US",formatDistance:KP,formatLong:JP,formatRelative:sT,localize:dT,match:ST,options:{weekStartsOn:0,firstWeekContainsDate:1}};function CT(s,t){const a=ls(s,t==null?void 0:t.in);return cb(a,ob(a))+1}function ub(s,t){const a=ls(s,t==null?void 0:t.in),n=+$i(a)-+IP(a);return Math.round(n/nb)+1}function hb(s,t){var u,h,p,g;const a=ls(s,t==null?void 0:t.in),n=a.getFullYear(),r=ec(),l=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,i=Fs((t==null?void 0:t.in)||s,0);i.setFullYear(n+1,0,l),i.setHours(0,0,0,0);const c=Vn(i,t),d=Fs((t==null?void 0:t.in)||s,0);d.setFullYear(n,0,l),d.setHours(0,0,0,0);const m=Vn(d,t);return+a>=+c?n+1:+a>=+m?n:n-1}function kT(s,t){var c,d,m,u;const a=ec(),n=(t==null?void 0:t.firstWeekContainsDate)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((u=(m=a.locale)==null?void 0:m.options)==null?void 0:u.firstWeekContainsDate)??1,r=hb(s,t),l=Fs((t==null?void 0:t.in)||s,0);return l.setFullYear(r,0,n),l.setHours(0,0,0,0),Vn(l,t)}function fb(s,t){const a=ls(s,t==null?void 0:t.in),n=+Vn(a,t)-+kT(a,t);return Math.round(n/nb)+1}function ts(s,t){const a=s<0?"-":"",n=Math.abs(s).toString().padStart(t,"0");return a+n}const un={y(s,t){const a=s.getFullYear(),n=a>0?a:1-a;return ts(t==="yy"?n%100:n,t.length)},M(s,t){const a=s.getMonth();return t==="M"?String(a+1):ts(a+1,2)},d(s,t){return ts(s.getDate(),t.length)},a(s,t){const a=s.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(s,t){return ts(s.getHours()%12||12,t.length)},H(s,t){return ts(s.getHours(),t.length)},m(s,t){return ts(s.getMinutes(),t.length)},s(s,t){return ts(s.getSeconds(),t.length)},S(s,t){const a=t.length,n=s.getMilliseconds(),r=Math.trunc(n*Math.pow(10,a-3));return ts(r,t.length)}},Dr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Sj={G:function(s,t,a){const n=s.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(s,t,a){if(t==="yo"){const n=s.getFullYear(),r=n>0?n:1-n;return a.ordinalNumber(r,{unit:"year"})}return un.y(s,t)},Y:function(s,t,a,n){const r=hb(s,n),l=r>0?r:1-r;if(t==="YY"){const i=l%100;return ts(i,2)}return t==="Yo"?a.ordinalNumber(l,{unit:"year"}):ts(l,t.length)},R:function(s,t){const a=ib(s);return ts(a,t.length)},u:function(s,t){const a=s.getFullYear();return ts(a,t.length)},Q:function(s,t,a){const n=Math.ceil((s.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ts(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(s,t,a){const n=Math.ceil((s.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ts(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(s,t,a){const n=s.getMonth();switch(t){case"M":case"MM":return un.M(s,t);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(s,t,a){const n=s.getMonth();switch(t){case"L":return String(n+1);case"LL":return ts(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(s,t,a,n){const r=fb(s,n);return t==="wo"?a.ordinalNumber(r,{unit:"week"}):ts(r,t.length)},I:function(s,t,a){const n=ub(s);return t==="Io"?a.ordinalNumber(n,{unit:"week"}):ts(n,t.length)},d:function(s,t,a){return t==="do"?a.ordinalNumber(s.getDate(),{unit:"date"}):un.d(s,t)},D:function(s,t,a){const n=CT(s);return t==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):ts(n,t.length)},E:function(s,t,a){const n=s.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(s,t,a,n){const r=s.getDay(),l=(r-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return ts(l,2);case"eo":return a.ordinalNumber(l,{unit:"day"});case"eee":return a.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})}},c:function(s,t,a,n){const r=s.getDay(),l=(r-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return ts(l,t.length);case"co":return a.ordinalNumber(l,{unit:"day"});case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})}},i:function(s,t,a){const n=s.getDay(),r=n===0?7:n;switch(t){case"i":return String(r);case"ii":return ts(r,t.length);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(s,t,a){const r=s.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(s,t,a){const n=s.getHours();let r;switch(n===12?r=Dr.noon:n===0?r=Dr.midnight:r=n/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(s,t,a){const n=s.getHours();let r;switch(n>=17?r=Dr.evening:n>=12?r=Dr.afternoon:n>=4?r=Dr.morning:r=Dr.night,t){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(s,t,a){if(t==="ho"){let n=s.getHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return un.h(s,t)},H:function(s,t,a){return t==="Ho"?a.ordinalNumber(s.getHours(),{unit:"hour"}):un.H(s,t)},K:function(s,t,a){const n=s.getHours()%12;return t==="Ko"?a.ordinalNumber(n,{unit:"hour"}):ts(n,t.length)},k:function(s,t,a){let n=s.getHours();return n===0&&(n=24),t==="ko"?a.ordinalNumber(n,{unit:"hour"}):ts(n,t.length)},m:function(s,t,a){return t==="mo"?a.ordinalNumber(s.getMinutes(),{unit:"minute"}):un.m(s,t)},s:function(s,t,a){return t==="so"?a.ordinalNumber(s.getSeconds(),{unit:"second"}):un.s(s,t)},S:function(s,t){return un.S(s,t)},X:function(s,t,a){const n=s.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return kj(n);case"XXXX":case"XX":return sr(n);case"XXXXX":case"XXX":default:return sr(n,":")}},x:function(s,t,a){const n=s.getTimezoneOffset();switch(t){case"x":return kj(n);case"xxxx":case"xx":return sr(n);case"xxxxx":case"xxx":default:return sr(n,":")}},O:function(s,t,a){const n=s.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Cj(n,":");case"OOOO":default:return"GMT"+sr(n,":")}},z:function(s,t,a){const n=s.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Cj(n,":");case"zzzz":default:return"GMT"+sr(n,":")}},t:function(s,t,a){const n=Math.trunc(+s/1e3);return ts(n,t.length)},T:function(s,t,a){return ts(+s,t.length)}};function Cj(s,t=""){const a=s>0?"-":"+",n=Math.abs(s),r=Math.trunc(n/60),l=n%60;return l===0?a+String(r):a+String(r)+t+ts(l,2)}function kj(s,t){return s%60===0?(s>0?"-":"+")+ts(Math.abs(s)/60,2):sr(s,t)}function sr(s,t=""){const a=s>0?"-":"+",n=Math.abs(s),r=ts(Math.trunc(n/60),2),l=ts(n%60,2);return a+r+t+l}const Mj=(s,t)=>{switch(s){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},pb=(s,t)=>{switch(s){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},MT=(s,t)=>{const a=s.match(/(P+)(p+)?/)||[],n=a[1],r=a[2];if(!r)return Mj(s,t);let l;switch(n){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",Mj(n,t)).replace("{{time}}",pb(r,t))},PT={p:pb,P:MT},TT=/^D+$/,DT=/^Y+$/,RT=["D","DD","YY","YYYY"];function ET(s){return TT.test(s)}function AT(s){return DT.test(s)}function IT(s,t,a){const n=OT(s,t,a);if(console.warn(n),RT.includes(s))throw new RangeError(n)}function OT(s,t,a){const n=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${t}\`) for formatting ${n} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _T=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,LT=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zT=/^'([^]*?)'?$/,FT=/''/g,$T=/[a-zA-Z]/;function jt(s,t,a){var u,h,p,g,b,N,j,x;const n=ec(),r=(a==null?void 0:a.locale)??n.locale??Lh,l=(a==null?void 0:a.firstWeekContainsDate)??((h=(u=a==null?void 0:a.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,i=(a==null?void 0:a.weekStartsOn)??((N=(b=a==null?void 0:a.locale)==null?void 0:b.options)==null?void 0:N.weekStartsOn)??n.weekStartsOn??((x=(j=n.locale)==null?void 0:j.options)==null?void 0:x.weekStartsOn)??0,c=ls(s,a==null?void 0:a.in);if(!$P(c))throw new RangeError("Invalid time value");let d=t.match(LT).map(f=>{const w=f[0];if(w==="p"||w==="P"){const D=PT[w];return D(f,r.formatLong)}return f}).join("").match(_T).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const w=f[0];if(w==="'")return{isToken:!1,value:BT(f)};if(Sj[w])return{isToken:!0,value:f};if(w.match($T))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:f}});r.localize.preprocessor&&(d=r.localize.preprocessor(c,d));const m={firstWeekContainsDate:l,weekStartsOn:i,locale:r};return d.map(f=>{if(!f.isToken)return f.value;const w=f.value;(!(a!=null&&a.useAdditionalWeekYearTokens)&&AT(w)||!(a!=null&&a.useAdditionalDayOfYearTokens)&&ET(w))&&IT(w,t,String(s));const D=Sj[w[0]];return D(c,w,r.localize,m)}).join("")}function BT(s){const t=s.match(zT);return t?t[1].replace(FT,"'"):s}function WT(s,t){const a=ls(s,t==null?void 0:t.in),n=a.getFullYear(),r=a.getMonth(),l=Fs(a,0);return l.setFullYear(n,r+1,0),l.setHours(0,0,0,0),l.getDate()}function VT(s,t){return ls(s,t==null?void 0:t.in).getMonth()}function UT(s,t){return ls(s,t==null?void 0:t.in).getFullYear()}function qT(s,t){return+ls(s)>+ls(t)}function HT(s,t){return+ls(s)<+ls(t)}function GT(s,t,a){const[n,r]=Sr(a==null?void 0:a.in,s,t);return+Vn(n,a)==+Vn(r,a)}function YT(s,t,a){const[n,r]=Sr(a==null?void 0:a.in,s,t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function KT(s,t,a){const[n,r]=Sr(a==null?void 0:a.in,s,t);return n.getFullYear()===r.getFullYear()}function QT(s,t,a){const n=ls(s,a==null?void 0:a.in),r=n.getFullYear(),l=n.getDate(),i=Fs(s,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const c=WT(i);return n.setMonth(t,Math.min(l,c)),n}function XT(s,t,a){const n=ls(s,a==null?void 0:a.in);return isNaN(+n)?Fs(s,NaN):(n.setFullYear(t),n)}const ZT={lessThanXSeconds:{one:"不到 1 秒",other:"不到 {{count}} 秒"},xSeconds:{one:"1 秒",other:"{{count}} 秒"},halfAMinute:"半分钟",lessThanXMinutes:{one:"不到 1 分钟",other:"不到 {{count}} 分钟"},xMinutes:{one:"1 分钟",other:"{{count}} 分钟"},xHours:{one:"1 小时",other:"{{count}} 小时"},aboutXHours:{one:"大约 1 小时",other:"大约 {{count}} 小时"},xDays:{one:"1 天",other:"{{count}} 天"},aboutXWeeks:{one:"大约 1 个星期",other:"大约 {{count}} 个星期"},xWeeks:{one:"1 个星期",other:"{{count}} 个星期"},aboutXMonths:{one:"大约 1 个月",other:"大约 {{count}} 个月"},xMonths:{one:"1 个月",other:"{{count}} 个月"},aboutXYears:{one:"大约 1 年",other:"大约 {{count}} 年"},xYears:{one:"1 年",other:"{{count}} 年"},overXYears:{one:"超过 1 年",other:"超过 {{count}} 年"},almostXYears:{one:"将近 1 年",other:"将近 {{count}} 年"}},JT=(s,t,a)=>{let n;const r=ZT[s];return typeof r=="string"?n=r:t===1?n=r.one:n=r.other.replace("{{count}}",String(t)),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?n+"内":n+"前":n},eD={full:"y'年'M'月'd'日' EEEE",long:"y'年'M'月'd'日'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},sD={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},tD={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},aD={date:al({formats:eD,defaultWidth:"full"}),time:al({formats:sD,defaultWidth:"full"}),dateTime:al({formats:tD,defaultWidth:"full"})};function Pj(s,t,a){const n="eeee p";return GT(s,t,a)?n:s.getTime()>t.getTime()?"'下个'"+n:"'上个'"+n}const nD={lastWeek:Pj,yesterday:"'昨天' p",today:"'今天' p",tomorrow:"'明天' p",nextWeek:Pj,other:"PP p"},rD=(s,t,a,n)=>{const r=nD[s];return typeof r=="function"?r(t,a,n):r},lD={narrow:["前","公元"],abbreviated:["前","公元"],wide:["公元前","公元"]},iD={narrow:["1","2","3","4"],abbreviated:["第一季","第二季","第三季","第四季"],wide:["第一季度","第二季度","第三季度","第四季度"]},cD={narrow:["一","二","三","四","五","六","七","八","九","十","十一","十二"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},dD={narrow:["日","一","二","三","四","五","六"],short:["日","一","二","三","四","五","六"],abbreviated:["周日","周一","周二","周三","周四","周五","周六"],wide:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},oD={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},mD={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},xD=(s,t)=>{const a=Number(s);switch(t==null?void 0:t.unit){case"date":return a.toString()+"日";case"hour":return a.toString()+"时";case"minute":return a.toString()+"分";case"second":return a.toString()+"秒";default:return"第 "+a.toString()}},uD={ordinalNumber:xD,era:ya({values:lD,defaultWidth:"wide"}),quarter:ya({values:iD,defaultWidth:"wide",argumentCallback:s=>s-1}),month:ya({values:cD,defaultWidth:"wide"}),day:ya({values:dD,defaultWidth:"wide"}),dayPeriod:ya({values:oD,defaultWidth:"wide",formattingValues:mD,defaultFormattingWidth:"wide"})},hD=/^(第\s*)?\d+(日|时|分|秒)?/i,fD=/\d+/i,pD={narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},jD={any:[/^(前)/i,/^(公元)/i]},gD={narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻钟/i},vD={any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},ND={narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},yD={narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},wD={narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^周[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},bD={any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},SD={any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨|)/i},CD={any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},kD={ordinalNumber:xb({matchPattern:hD,parsePattern:fD,valueCallback:s=>parseInt(s,10)}),era:wa({matchPatterns:pD,defaultMatchWidth:"wide",parsePatterns:jD,defaultParseWidth:"any"}),quarter:wa({matchPatterns:gD,defaultMatchWidth:"wide",parsePatterns:vD,defaultParseWidth:"any",valueCallback:s=>s+1}),month:wa({matchPatterns:ND,defaultMatchWidth:"wide",parsePatterns:yD,defaultParseWidth:"any"}),day:wa({matchPatterns:wD,defaultMatchWidth:"wide",parsePatterns:bD,defaultParseWidth:"any"}),dayPeriod:wa({matchPatterns:SD,defaultMatchWidth:"any",parsePatterns:CD,defaultParseWidth:"any"})},nl={code:"zh-CN",formatDistance:JT,formatLong:aD,formatRelative:rD,localize:uD,match:kD,options:{weekStartsOn:1,firstWeekContainsDate:4}};function Tj(){const[s,t]=o.useState([{id:"1",name:"评价准备阶段",startDate:new Date("2024-01-01"),endDate:new Date("2024-01-31"),color:"bg-blue-500",nodes:[{id:"1-1",name:"评价方案制定",date:new Date("2024-01-05"),type:"milestone",status:"completed",description:"制定本学期综合素质评价实施方案"},{id:"1-2",name:"评价标准发布",date:new Date("2024-01-10"),type:"milestone",status:"completed",description:"发布各维度评价标准和评分细则"},{id:"1-3",name:"专家组组建",date:new Date("2024-01-15"),type:"checkpoint",status:"in-progress",description:"确定各学科评价专家组成员"}]},{id:"2",name:"信息收集阶段",startDate:new Date("2024-02-01"),endDate:new Date("2024-03-15"),color:"bg-green-500",nodes:[{id:"2-1",name:"学生材料提交截止",date:new Date("2024-02-28"),type:"deadline",status:"pending",description:"学生提交评价材料的最后期限",reminders:["提前一周","提前三天","当天"]},{id:"2-2",name:"初审完成",date:new Date("2024-03-10"),type:"checkpoint",status:"pending",description:"完成所有提交材料的初步审核"}]},{id:"3",name:"评价实施阶段",startDate:new Date("2024-03-16"),endDate:new Date("2024-04-30"),color:"bg-purple-500",nodes:[{id:"3-1",name:"专家评审开始",date:new Date("2024-03-16"),type:"milestone",status:"pending",description:"各专家组开始评审工作"},{id:"3-2",name:"评审结果汇总",date:new Date("2024-04-20"),type:"deadline",status:"pending",description:"各专家组提交评审结果"}]}]),[a,n]=o.useState(null),[r,l]=o.useState(!1),[i,c]=o.useState(!1),[d,m]=o.useState([]),u=()=>{const x=s.flatMap(w=>w.nodes).reduce((w,D)=>{const y=jt(D.date,"yyyy-MM-dd");return w[y]||(w[y]=[]),w[y].push(D),w},{}),f=[];Object.entries(x).forEach(([w,D])=>{D.length>1&&f.push(`${w} 有 ${D.length} 个时间节点冲突`)}),m(f)},h=(j,x)=>x==="completed"?e.jsx(fe,{className:"w-5 h-5 text-green-500"}):x==="overdue"?e.jsx(ze,{className:"w-5 h-5 text-red-500"}):x==="in-progress"?e.jsx(Ce,{className:"w-5 h-5 text-yellow-500 animate-pulse"}):e.jsx(oa,{className:"w-5 h-5 text-gray-400"}),p=j=>({milestone:"里程碑",deadline:"截止时间",checkpoint:"检查点"})[j]||j,g=j=>({completed:"bg-green-100 text-green-800","in-progress":"bg-yellow-100 text-yellow-800",pending:"bg-gray-100 text-gray-800",overdue:"bg-red-100 text-red-800"})[j]||"",b=()=>{const j=s.map(y=>({phase:y.name,period:`${jt(y.startDate,"yyyy-MM-dd")} 至 ${jt(y.endDate,"yyyy-MM-dd")}`,nodes:y.nodes.map(T=>({name:T.name,date:jt(T.date,"yyyy-MM-dd"),type:p(T.type),status:T.status,description:T.description}))})),x=JSON.stringify(j,null,2),f=new Blob([x],{type:"application/json"}),w=URL.createObjectURL(f),D=document.createElement("a");D.href=w,D.download=`综合素质评价时间线_${jt(new Date,"yyyyMMdd")}.json`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(w)},N=new Date;return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"时间线规划"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"综合素质评价各阶段时间节点管理"})]}),d.length>0&&e.jsxs(ue,{className:"mb-6 border-red-200 bg-red-50",children:[e.jsx(ze,{className:"h-4 w-4 text-red-600"}),e.jsxs(xe,{className:"text-red-800",children:[e.jsx("strong",{children:"时间冲突检测："}),d.map((j,x)=>e.jsx("div",{children:j},x))]})]}),e.jsxs(R,{className:"mb-6",children:[e.jsx(O,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(L,{children:"评价时间轴"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>l(!0),children:[e.jsx(as,{className:"w-4 h-4 mr-1"}),"添加节点"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:b,children:[e.jsx(Se,{className:"w-4 h-4 mr-1"}),"导出时间表"]})]})]})}),e.jsx(E,{children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gray-300"}),s.map((j,x)=>e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:`w-4 h-4 rounded-full ${j.color} relative z-10`}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:j.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[jt(j.startDate,"yyyy年M月d日",{locale:nl})," -",jt(j.endDate,"yyyy年M月d日",{locale:nl})]})]})]}),j.nodes.map((f,w)=>e.jsxs("div",{className:"relative flex items-start ml-8 mb-4",children:[e.jsx("div",{className:"absolute -left-8 top-2.5 w-8 h-0.5 bg-gray-300"}),e.jsx("div",{className:"relative z-10 bg-white rounded-full p-1",children:h(f.type,f.status)}),e.jsx("div",{className:"ml-4 flex-1",children:e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-medium",children:f.name}),e.jsx(V,{variant:"outline",className:"text-xs",children:p(f.type)}),e.jsx(V,{className:X("text-xs",g(f.status)),children:f.status==="completed"?"已完成":f.status==="in-progress"?"进行中":f.status==="overdue"?"已逾期":"待开始"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hs,{className:"w-4 h-4"}),jt(f.date,"yyyy年M月d日",{locale:nl})]}),f.date<N&&f.status==="pending"&&e.jsx("span",{className:"text-red-600 font-medium",children:"已逾期"})]}),f.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:f.description}),f.reminders&&f.reminders.length>0&&e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Ra,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["提醒: ",f.reminders.join(", ")]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>{n(f),c(!0)},children:e.jsx(Yi,{className:"w-4 h-4"})}),e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>{},children:e.jsx(ut,{className:"w-4 h-4"})})]})]})})})]},f.id))]},j.id))]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(R,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"总节点数"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s.reduce((j,x)=>j+x.nodes.length,0)})]})})}),e.jsx(R,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"已完成"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:s.reduce((j,x)=>j+x.nodes.filter(f=>f.status==="completed").length,0)})]})})}),e.jsx(R,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"进行中"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:s.reduce((j,x)=>j+x.nodes.filter(f=>f.status==="in-progress").length,0)})]})})}),e.jsx(R,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"已逾期"}),e.jsx("p",{className:"text-2xl font-bold text-red-600 mt-1",children:s.reduce((j,x)=>j+x.nodes.filter(f=>f.status==="overdue"||f.date<N&&f.status==="pending").length,0)})]})})})]})]})}),e.jsx(Te,{}),e.jsx(Ge,{open:r,onOpenChange:l,children:e.jsxs(Be,{children:[e.jsx(We,{children:e.jsx(Ve,{children:"添加时间节点"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"node-name",children:"节点名称"}),e.jsx(se,{id:"node-name",placeholder:"输入节点名称"})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"node-phase",children:"所属阶段"}),e.jsxs(ie,{children:[e.jsx(re,{id:"node-phase",children:e.jsx(ce,{placeholder:"选择阶段"})}),e.jsx(le,{children:s.map(j=>e.jsx(W,{value:j.id,children:j.name},j.id))})]})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"node-type",children:"节点类型"}),e.jsxs(ie,{children:[e.jsx(re,{id:"node-type",children:e.jsx(ce,{placeholder:"选择类型"})}),e.jsxs(le,{children:[e.jsx(W,{value:"milestone",children:"里程碑"}),e.jsx(W,{value:"deadline",children:"截止时间"}),e.jsx(W,{value:"checkpoint",children:"检查点"})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"node-date",children:"日期"}),e.jsx(se,{id:"node-date",type:"date"})]})]}),e.jsxs(Wn,{children:[e.jsx(S,{variant:"outline",onClick:()=>l(!1),children:"取消"}),e.jsx(S,{onClick:()=>{u(),l(!1)},children:"添加"})]})]})})]})}function Dj(){var F;const[s,t]=o.useState("basic"),[a,n]=o.useState(null),[r,l]=o.useState(null),[i,c]=o.useState(null),[d,m]=o.useState({name:"张三",studentId:"2021010101",grade:"2021级",major:"机械工程",phone:"13800138000",email:"zhangsan@hust.edu.cn"}),[u,h]=o.useState([{id:"1",name:"全国大学生数学建模竞赛",level:"国家级",award:"一等奖",date:"2025-05",role:"队长",certificate:{name:"certificate.pdf",size:1024*512,status:"verified"},ocrResults:{nameVerified:!0,levelVerified:!0,dateVerified:!1}}]),[p,g]=o.useState([]),[b,N]=o.useState([]),j=[{key:"basic",label:"基本信息",completed:!0},{key:"competition",label:"竞赛获奖",completed:u.length>0},{key:"research",label:"科研项目",completed:!1},{key:"social",label:"社会实践",completed:!1}],x=()=>j.filter(B=>B.completed).length/j.length*100,f=($,B)=>{var U;const A=(U=$.target.files)==null?void 0:U[0];if(!A)return;const _=["application/pdf","image/jpeg","image/png"],q=5*1024*1024;if(!_.includes(A.type)){alert("仅支持 PDF, JPG, PNG 格式的文件");return}if(A.size>q){alert("文件大小不能超过 5MB");return}B&&(h(G=>G.map(Y=>Y.id===B?{...Y,certificate:{name:A.name,size:A.size,status:"uploading"}}:Y)),setTimeout(()=>{h(G=>G.map(Y=>Y.id===B?{...Y,certificate:{...Y.certificate,status:"uploaded"}}:Y))},1e3),setTimeout(()=>{h(G=>G.map(Y=>Y.id===B?{...Y,certificate:{...Y.certificate,status:"verified"},ocrResults:{nameVerified:!0,levelVerified:!0,dateVerified:Math.random()>.5}}:Y))},2e3))},w=()=>{const $={id:Date.now().toString(),name:"",level:"",award:"",date:"",role:""};h([...u,$]),n($.id)},D=$=>{h(u.filter(B=>B.id!==$))},y=()=>{const $={basicInfo:d,competitions:u,researchProjects:p,socialPractices:b,lastSaved:new Date().toISOString()};localStorage.setItem("qualityEvaluationForm",JSON.stringify($)),alert("保存成功！")},T=()=>e.jsx("div",{className:"flex items-center justify-between mb-6",children:j.map(($,B)=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:X("w-8 h-8 rounded-full flex items-center justify-center font-semibold text-sm",s===$.key?"bg-blue-600 text-white":$.completed?"bg-green-600 text-white":"bg-gray-300 text-gray-600"),children:$.completed&&s!==$.key?e.jsx(fe,{className:"w-5 h-5"}):B+1}),e.jsx("span",{className:X("ml-2 text-sm font-medium",s===$.key?"text-blue-600":$.completed?"text-green-600":"text-gray-500"),children:$.label})]}),B<j.length-1&&e.jsx("div",{className:X("flex-1 h-0.5 mx-4",j[B+1].completed||s===j[B+1].key?"bg-green-600":"bg-gray-300")})]},$.key))}),v=()=>e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"name",children:"姓名"}),e.jsx(se,{id:"name",value:d.name,onChange:$=>m({...d,name:$.target.value})})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"studentId",children:"学号"}),e.jsx(se,{id:"studentId",value:d.studentId,onChange:$=>m({...d,studentId:$.target.value})})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"grade",children:"年级"}),e.jsx(se,{id:"grade",value:d.grade,onChange:$=>m({...d,grade:$.target.value})})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"major",children:"专业"}),e.jsx(se,{id:"major",value:d.major,onChange:$=>m({...d,major:$.target.value})})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"phone",children:"联系电话"}),e.jsx(se,{id:"phone",value:d.phone,onChange:$=>m({...d,phone:$.target.value})})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"email",children:"邮箱"}),e.jsx(se,{id:"email",type:"email",value:d.email,onChange:$=>m({...d,email:$.target.value})})]})]})}),P=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"竞赛获奖信息"}),e.jsxs(S,{onClick:w,size:"sm",children:[e.jsx(as,{className:"w-4 h-4 mr-1"}),"添加获奖"]})]}),u.map(($,B)=>e.jsx(R,{className:"relative",children:e.jsx(E,{className:"pt-6",children:a===$.id?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"竞赛名称"}),e.jsx(se,{value:$.name,onChange:A=>{h(_=>_.map(q=>q.id===$.id?{...q,name:A.target.value}:q))},placeholder:"请输入竞赛名称"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"级别"}),e.jsxs(ie,{value:$.level,onValueChange:A=>{h(_=>_.map(q=>q.id===$.id?{...q,level:A}:q))},children:[e.jsx(re,{children:e.jsx(ce,{placeholder:"选择级别"})}),e.jsxs(le,{children:[e.jsx(W,{value:"国家级",children:"国家级"}),e.jsx(W,{value:"省级",children:"省级"}),e.jsx(W,{value:"校级",children:"校级"}),e.jsx(W,{value:"院级",children:"院级"})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"奖项"}),e.jsxs(ie,{value:$.award,onValueChange:A=>{h(_=>_.map(q=>q.id===$.id?{...q,award:A}:q))},children:[e.jsx(re,{children:e.jsx(ce,{placeholder:"选择奖项"})}),e.jsxs(le,{children:[e.jsx(W,{value:"特等奖",children:"特等奖"}),e.jsx(W,{value:"一等奖",children:"一等奖"}),e.jsx(W,{value:"二等奖",children:"二等奖"}),e.jsx(W,{value:"三等奖",children:"三等奖"}),e.jsx(W,{value:"优秀奖",children:"优秀奖"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"时间"}),e.jsx(se,{type:"month",value:$.date,onChange:A=>{h(_=>_.map(q=>q.id===$.id?{...q,date:A.target.value}:q))}})]}),e.jsxs("div",{children:[e.jsx(H,{children:"角色"}),e.jsxs(ie,{value:$.role,onValueChange:A=>{h(_=>_.map(q=>q.id===$.id?{...q,role:A}:q))},children:[e.jsx(re,{children:e.jsx(ce,{placeholder:"选择角色"})}),e.jsxs(le,{children:[e.jsx(W,{value:"队长",children:"队长"}),e.jsx(W,{value:"队员",children:"队员"}),e.jsx(W,{value:"个人参赛",children:"个人参赛"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(S,{variant:"outline",size:"sm",onClick:()=>n(null),children:"取消"}),e.jsx(S,{size:"sm",onClick:()=>n(null),children:"保存"})]})]}):e.jsx("div",{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"font-medium",children:[B+1,". ",$.name]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-sm text-gray-600",children:[e.jsxs("div",{children:["级别: ",e.jsx("span",{className:"font-medium text-gray-900",children:$.level})]}),e.jsxs("div",{children:["奖项: ",e.jsx("span",{className:"font-medium text-gray-900",children:$.award})]}),e.jsxs("div",{children:["时间: ",e.jsx("span",{className:"font-medium text-gray-900",children:$.date})]}),e.jsxs("div",{children:["角色: ",e.jsx("span",{className:"font-medium text-gray-900",children:$.role})]})]}),$.certificate?e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ne,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-700",children:$.certificate.name}),$.certificate.status==="verified"&&e.jsxs(V,{variant:"outline",className:"text-green-600",children:[e.jsx(rh,{className:"w-3 h-3 mr-1"}),"已识别"]})]}),$.ocrResults&&e.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"OCR智能识别结果:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(V,{variant:$.ocrResults.nameVerified?"default":"secondary",children:[$.ocrResults.nameVerified?e.jsx(fe,{className:"w-3 h-3 mr-1"}):e.jsx(Lt,{className:"w-3 h-3 mr-1"}),"竞赛名称",$.ocrResults.nameVerified?"已识别":"未识别"]}),e.jsxs(V,{variant:$.ocrResults.levelVerified?"default":"secondary",children:[$.ocrResults.levelVerified?e.jsx(fe,{className:"w-3 h-3 mr-1"}):e.jsx(Lt,{className:"w-3 h-3 mr-1"}),"获奖等级",$.ocrResults.levelVerified?"已识别":"未识别"]}),e.jsxs(V,{variant:$.ocrResults.dateVerified?"default":"secondary",children:[$.ocrResults.dateVerified?e.jsx(fe,{className:"w-3 h-3 mr-1"}):e.jsx(ze,{className:"w-3 h-3 mr-1"}),$.ocrResults.dateVerified?"日期已识别":"请确认日期"]})]})]})]}):e.jsx("div",{className:"mt-3",children:e.jsxs("label",{className:"block",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-gray-400 transition-colors",children:[e.jsx(Ms,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"拖拽文件到此处或点击上传"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"支持格式: PDF, JPG, PNG (最大5MB)"})]}),e.jsx("input",{type:"file",className:"hidden",accept:".pdf,.jpg,.jpeg,.png",onChange:A=>f(A,$.id)})]})})]}),e.jsxs("div",{className:"flex gap-1 ml-4",children:[e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>n($.id),children:e.jsx(Yi,{className:"w-4 h-4"})}),e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>D($.id),children:e.jsx(ut,{className:"w-4 h-4"})})]})]})})})},$.id)),u.length===0&&e.jsx(R,{children:e.jsxs(E,{className:"py-8 text-center text-gray-500",children:[e.jsx("p",{children:"暂无竞赛获奖信息"}),e.jsxs(S,{onClick:w,variant:"outline",size:"sm",className:"mt-2",children:[e.jsx(as,{className:"w-4 h-4 mr-1"}),"添加第一个获奖"]})]})})]}),k=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"科研项目信息"}),e.jsxs(S,{size:"sm",children:[e.jsx(as,{className:"w-4 h-4 mr-1"}),"添加项目"]})]}),e.jsx(R,{children:e.jsxs(E,{className:"py-8 text-center text-gray-500",children:[e.jsx("p",{children:"暂无科研项目信息"}),e.jsxs(S,{variant:"outline",size:"sm",className:"mt-2",children:[e.jsx(as,{className:"w-4 h-4 mr-1"}),"添加第一个项目"]})]})})]}),C=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"社会实践信息"}),e.jsxs(S,{size:"sm",children:[e.jsx(as,{className:"w-4 h-4 mr-1"}),"添加实践"]})]}),e.jsx(R,{children:e.jsxs(E,{className:"py-8 text-center text-gray-500",children:[e.jsx("p",{children:"暂无社会实践信息"}),e.jsxs(S,{variant:"outline",size:"sm",className:"mt-2",children:[e.jsx(as,{className:"w-4 h-4 mr-1"}),"添加第一个实践"]})]})})]}),M=()=>{switch(s){case"basic":return v();case"competition":return P();case"research":return k();case"social":return C()}},z=$=>{const B=["basic","competition","research","social"],A=B.indexOf($);return A<B.length-1?B[A+1]:null},I=$=>{const B=["basic","competition","research","social"],A=B.indexOf($);return A>0?B[A-1]:null};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs(R,{children:[e.jsxs(O,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(L,{children:"综合素质信息采集"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"完成度:"}),e.jsxs("span",{className:"font-semibold",children:[Math.round(x()),"%"]})]}),e.jsxs(S,{variant:"outline",onClick:y,children:[e.jsx(_t,{className:"w-4 h-4 mr-1"}),"暂存"]})]})]}),e.jsx(te,{value:x(),className:"mt-2"})]}),e.jsxs(E,{children:[T(),e.jsx("div",{className:"mt-6",children:M()}),e.jsxs("div",{className:"flex items-center justify-between mt-6 pt-6 border-t",children:[e.jsxs(S,{variant:"outline",onClick:()=>{const $=I(s);$&&t($)},disabled:!I(s),children:[e.jsx(br,{className:"w-4 h-4 mr-1"}),"上一步"]}),e.jsx(S,{variant:"outline",onClick:y,children:"保存草稿"}),e.jsx(S,{onClick:()=>{const $=z(s);$?t($):alert("提交成功！")},children:z(s)?e.jsxs(e.Fragment,{children:["下一步: ",(F=j.find($=>$.key===z(s)))==null?void 0:F.label,e.jsx(Us,{className:"w-4 h-4 ml-1"})]}):"提交"})]})]})]})})}),e.jsx(Te,{})]})}const Pc={document:{label:"文档资料",icon:Ne,color:"blue"},image:{label:"图片资料",icon:ry,color:"green"},certificate:{label:"证书文件",icon:Ne,color:"purple"},other:{label:"其他文件",icon:f3,color:"gray"}},Rj={"application/pdf":"document","application/msword":"document","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"document","image/jpeg":"image","image/jpg":"image","image/png":"image","image/gif":"image","text/plain":"document"},wm=5*1024*1024,Rr=20;function Ej(){const[s,t]=o.useState([]),[a,n]=o.useState(!1),[r,l]=o.useState("all"),[i,c]=o.useState(!1),d=(P,k)=>k.toLowerCase().includes("证书")||k.toLowerCase().includes("certificate")?"certificate":Rj[P]||"other",m=P=>P.size>wm?`文件大小超过限制 (${(wm/1024/1024).toFixed(1)}MB)`:Rj[P.type]?null:"不支持的文件格式",u=o.useCallback(P=>{const k=[];Array.from(P).forEach(C=>{const M=m(C);if(s.length+k.length>=Rr)return;const z={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:C.name,size:C.size,type:C.type,category:d(C.type,C.name),status:M?"failed":"uploading",progress:0,error:M||void 0};if(C.type.startsWith("image/")){const I=new FileReader;I.onload=F=>{t($=>$.map(B=>{var A;return B.id===z.id?{...B,preview:(A=F.target)==null?void 0:A.result}:B}))},I.readAsDataURL(C)}k.push(z)}),k.length>0&&(t(C=>[...C,...k]),h(k))},[s.length]),h=P=>{c(!0),P.forEach(k=>{if(k.status==="failed")return;const C=setInterval(()=>{t(M=>M.map(z=>{if(z.id===k.id){const I=Math.min(z.progress+Math.random()*20,100);return I>=100?(clearInterval(C),{...z,progress:100,status:"uploaded",uploadedAt:new Date}):{...z,progress:I}}return z}))},300);setTimeout(()=>{clearInterval(C),t(M=>M.map(z=>z.id===k.id&&z.progress<100?{...z,progress:100,status:"uploaded",uploadedAt:new Date}:z))},5e3)}),setTimeout(()=>{c(!1)},6e3)},p=P=>{P.preventDefault(),n(!0)},g=P=>{P.preventDefault(),n(!1)},b=P=>{P.preventDefault(),n(!1);const k=P.dataTransfer.files;k.length>0&&u(k)},N=P=>{const k=P.target.files;k&&k.length>0&&u(k),P.target.value=""},j=P=>{t(k=>k.filter(C=>C.id!==P))},x=P=>{t(C=>C.map(M=>M.id===P?{...M,status:"uploading",progress:0,error:void 0}:M));const k=s.find(C=>C.id===P);k&&h([k])},f=()=>r==="all"?s:s.filter(P=>P.category===r),w=()=>Object.entries(Pc).map(([P,k])=>({key:P,label:k.label,count:s.filter(C=>C.category===P).length,color:k.color})),D=()=>{const P=s.length,k=s.filter(z=>z.status==="uploaded").length,C=s.filter(z=>z.status==="failed").length,M=s.filter(z=>z.status==="uploading").length;return{totalFiles:P,uploadedFiles:k,failedFiles:C,uploadingFiles:M}},y=P=>{if(P===0)return"0 Bytes";const k=1024,C=["Bytes","KB","MB","GB"],M=Math.floor(Math.log(P)/Math.log(k));return parseFloat((P/Math.pow(k,M)).toFixed(2))+" "+C[M]},T=D(),v=f();return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"材料上传系统"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"批量上传文件，自动分类管理"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Sd,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"总文件数"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T.totalFiles})]})]})})}),e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"已上传"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T.uploadedFiles})]})]})})}),e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"上传中"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T.uploadingFiles})]})]})})}),e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"失败"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T.failedFiles})]})]})})})]}),e.jsx(R,{className:"mb-6",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:X("border-2 border-dashed rounded-lg p-8 text-center transition-colors",a?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDragOver:p,onDragLeave:g,onDrop:b,children:[e.jsx(Ms,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"拖拽文件到此处或点击选择文件"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["支持批量上传，最多 ",Rr," 个文件"]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["支持格式: PDF, DOC, DOCX, JPG, PNG, GIF, TXT (最大 ",(wm/1024/1024).toFixed(1),"MB)"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs("label",{children:[e.jsxs(S,{disabled:i||s.length>=Rr,children:[e.jsx(Ms,{className:"w-4 h-4 mr-2"}),"选择文件"]}),e.jsx("input",{type:"file",multiple:!0,className:"hidden",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif,.txt",onChange:N,disabled:i||s.length>=Rr})]}),e.jsxs(S,{variant:"outline",disabled:s.length===0,onClick:()=>t([]),children:[e.jsx(ut,{className:"w-4 h-4 mr-2"}),"清空列表"]})]}),s.length>=Rr&&e.jsxs(ue,{className:"mt-4 max-w-md mx-auto",children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsxs(xe,{children:["已达到最大文件数量限制 (",Rr," 个文件)"]})]})]})})}),s.length>0&&e.jsx(R,{className:"mb-6",children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(S,{variant:r==="all"?"default":"outline",size:"sm",onClick:()=>l("all"),children:[e.jsx(ey,{className:"w-4 h-4 mr-1"}),"全部 (",s.length,")"]}),w().map(({key:P,label:k,count:C,color:M})=>e.jsxs(S,{variant:r===P?"default":"outline",size:"sm",onClick:()=>l(P),disabled:C===0,children:[k," (",C,")"]},P))]})})}),v.length>0&&e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsxs("span",{children:["文件列表 (",v.length,")"]}),i&&e.jsxs(V,{variant:"secondary",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),"上传中..."]})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:v.map(P=>{const k=Pc[P.category].icon,C=Pc[P.category].color;return e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg hover:bg-gray-50",children:[e.jsx("div",{className:"flex-shrink-0",children:P.preview?e.jsx("img",{src:P.preview,alt:P.name,className:"w-12 h-12 object-cover rounded"}):e.jsx("div",{className:X("w-12 h-12 rounded flex items-center justify-center",C==="blue"&&"bg-blue-100 text-blue-600",C==="green"&&"bg-green-100 text-green-600",C==="purple"&&"bg-purple-100 text-purple-600",C==="gray"&&"bg-gray-100 text-gray-600"),children:e.jsx(k,{className:"w-6 h-6"})})}),e.jsxs("div",{className:"flex-grow min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 truncate",children:P.name}),e.jsx(V,{variant:"secondary",className:"text-xs",children:Pc[P.category].label})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsx("span",{children:y(P.size)}),P.uploadedAt&&e.jsxs("span",{children:["上传于 ",P.uploadedAt.toLocaleTimeString()]})]}),P.status==="uploading"&&e.jsx(te,{value:P.progress,className:"mt-2 h-2"}),P.error&&e.jsxs(ue,{className:"mt-2",children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsx(xe,{className:"text-sm",children:P.error})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[P.status==="uploaded"&&e.jsx(fe,{className:"w-5 h-5 text-green-600"}),P.status==="uploading"&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[e.jsx(Ce,{className:"w-4 h-4 animate-spin"}),e.jsxs("span",{className:"text-sm",children:[Math.round(P.progress),"%"]})]}),P.status==="failed"&&e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>x(P.id),children:[e.jsx(El,{className:"w-4 h-4 mr-1"}),"重试"]}),P.preview&&e.jsx(S,{size:"sm",variant:"ghost",children:e.jsx(Le,{className:"w-4 h-4"})}),e.jsx(S,{size:"sm",variant:"ghost",onClick:()=>j(P.id),children:e.jsx(ut,{className:"w-4 h-4"})})]})]},P.id)})})})]}),s.length===0&&e.jsx(R,{children:e.jsxs(E,{className:"py-12 text-center",children:[e.jsx(Ms,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"还没有上传任何文件"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"开始上传您的材料文件，系统将自动为您分类管理"})]})})]})}),e.jsx(Te,{})]})}const Aj=[{code:"zh-CN",name:"简体中文"},{code:"en",name:"English"},{code:"zh-TW",name:"繁體中文"},{code:"ja",name:"日本語"},{code:"ko",name:"한국어"}],MD={competition:[{field:"竞赛名称",value:"全国大学生数学建模竞赛",confidence:95,verified:!0},{field:"获奖等级",value:"国家级一等奖",confidence:90,verified:!0},{field:"获奖日期",value:"2024年11月",confidence:75,verified:!1},{field:"参赛者姓名",value:"张三",confidence:88,verified:!0},{field:"学校名称",value:"华中科技大学",confidence:92,verified:!0}],certificate:[{field:"证书类型",value:"英语四级证书",confidence:96,verified:!0},{field:"成绩分数",value:"568分",confidence:90,verified:!0},{field:"考试时间",value:"2024年6月",confidence:82,verified:!1},{field:"姓名",value:"张三",confidence:94,verified:!0},{field:"身份证号",value:"420***********1234",confidence:85,verified:!0}],research:[{field:"项目名称",value:"基于深度学习的图像识别研究",confidence:88,verified:!0},{field:"项目类型",value:"国家级大学生创新训练项目",confidence:85,verified:!0},{field:"项目编号",value:"202410487123",confidence:92,verified:!0},{field:"负责人",value:"张三",confidence:90,verified:!0},{field:"指导教师",value:"李教授",confidence:78,verified:!1}]};function Ij(){const[s,t]=o.useState([]),[a,n]=o.useState("zh-CN"),[r,l]=o.useState(!1),[i,c]=o.useState(null),[d,m]=o.useState(""),u=o.useRef(null),h=v=>{const P=v.toLowerCase();return P.includes("竞赛")||P.includes("比赛")||P.includes("contest")||P.includes("competition")?"competition":P.includes("证书")||P.includes("certificate")||P.includes("四级")||P.includes("六级")?"certificate":"research"},p=v=>{const P=h(v.name),C=MD[P].map(F=>({...F,confidence:Math.max(60,F.confidence+(Math.random()-.5)*20),verified:F.confidence>85?!0:Math.random()>.3})),M=Math.random()*3e3+2e3,z=Math.round(C.reduce((F,$)=>F+$.confidence,0)/C.length);setTimeout(()=>{t(F=>F.map($=>$.id===v.id?{...$,status:"completed",progress:100,ocrResults:C,processingTime:Math.round(M),accuracy:z}:$)),l(!1)},M);const I=setInterval(()=>{t(F=>F.map($=>{if($.id===v.id&&$.status==="processing"){const B=Math.min($.progress+Math.random()*15,95);return{...$,progress:B}}return $}))},300);setTimeout(()=>clearInterval(I),M)},g=v=>{const P=v.target.files;!P||P.length===0||(l(!0),Array.from(P).forEach(k=>{if(!k.type.startsWith("image/")){alert("请选择图片文件 (JPG, PNG, GIF, WebP)");return}if(k.size>10*1024*1024){alert("图片文件大小不能超过 10MB");return}const C=URL.createObjectURL(k),M={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:k.name,url:C,size:k.size,status:"processing",progress:0,ocrResults:[],language:a};t(z=>[...z,M]),p(M)}),u.current&&(u.current.value=""))},b=v=>{const P=s.find(k=>k.id===v);P&&(l(!0),t(k=>k.map(C=>C.id===v?{...C,status:"processing",progress:0,ocrResults:[],error:void 0}:C)),p(P))},N=v=>{t(P=>P.filter(k=>k.id!==v))},j=(v,P)=>{const k=s.find(C=>C.id===v);k&&k.ocrResults[P]&&(c({imageId:v,fieldIndex:P}),m(k.ocrResults[P].value))},x=()=>{i&&(t(v=>v.map(P=>{if(P.id===i.imageId){const k=[...P.ocrResults];return k[i.fieldIndex]={...k[i.fieldIndex],value:d,verified:!0},{...P,ocrResults:k}}return P})),c(null),m(""))},f=()=>{c(null),m("")},w=(v,P)=>{t(k=>k.map(C=>{if(C.id===v){const M=[...C.ocrResults];return M[P]={...M[P],verified:!M[P].verified},{...C,ocrResults:M}}return C}))},D=v=>v>=90?"default":v>=75?"secondary":"destructive",y=v=>{if(v===0)return"0 Bytes";const P=1024,k=["Bytes","KB","MB","GB"],C=Math.floor(Math.log(v)/Math.log(P));return parseFloat((v/Math.pow(P,C)).toFixed(2))+" "+k[C]},T=v=>{const P=s.find(I=>I.id===v);if(!P)return;const k={fileName:P.name,language:P.language,accuracy:P.accuracy,processingTime:P.processingTime,results:P.ocrResults.map(I=>({field:I.field,value:I.value,confidence:I.confidence,verified:I.verified}))},C=new Blob([JSON.stringify(k,null,2)],{type:"application/json"}),M=URL.createObjectURL(C),z=document.createElement("a");z.href=M,z.download=`ocr-results-${P.name}.json`,document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(M)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"OCR识别集成"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"智能文字识别，自动提取证书信息"})]}),e.jsxs(R,{className:"mb-6",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Dp,{className:"w-5 h-5"}),"图片上传与识别设置"]})}),e.jsxs(E,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(H,{htmlFor:"language",children:"识别语言"}),e.jsxs(ie,{value:a,onValueChange:n,children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsx(le,{children:Aj.map(v=>e.jsx(W,{value:v.code,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b3,{className:"w-4 h-4"}),v.name]})},v.code))})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:u,type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:g,disabled:r}),e.jsxs(S,{onClick:()=>{var v;return(v=u.current)==null?void 0:v.click()},disabled:r,children:[e.jsx(Ms,{className:"w-4 h-4 mr-2"}),"选择图片"]})]})]}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Je,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"OCR识别说明"}),e.jsxs("ul",{className:"text-sm text-blue-700 mt-1 space-y-1",children:[e.jsx("li",{children:"• 支持 JPG, PNG, GIF, WebP 格式，最大 10MB"}),e.jsx("li",{children:"• 建议上传清晰、正向的证书或竞赛获奖图片"}),e.jsx("li",{children:"• 识别结果可手动验证和修正"}),e.jsx("li",{children:"• 支持多语言识别，识别准确率通常在 75-95% 之间"})]})]})]})})]})]}),s.length>0&&e.jsx("div",{className:"space-y-6",children:s.map(v=>{var P;return e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(ZN,{className:"w-5 h-5"}),v.name,e.jsx(V,{variant:"outline",children:y(v.size)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[v.status==="processing"&&e.jsxs(V,{variant:"secondary",children:[e.jsx(zt,{className:"w-3 h-3 mr-1 animate-pulse"}),"识别中..."]}),v.status==="completed"&&e.jsxs(V,{variant:"default",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"已完成"]}),v.status==="failed"&&e.jsxs(V,{variant:"destructive",children:[e.jsx(Me,{className:"w-3 h-3 mr-1"}),"识别失败"]})]})]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"aspect-[4/3] bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("img",{src:v.url,alt:v.name,className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(Le,{className:"w-4 h-4 mr-1"}),"预览"]}),e.jsx(S,{size:"sm",variant:"outline",onClick:()=>N(v.id),children:e.jsx(Lt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[v.status==="processing"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"识别进度"}),e.jsxs("span",{children:[Math.round(v.progress),"%"]})]}),e.jsx(te,{value:v.progress,className:"h-2"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["正在使用 ",(P=Aj.find(k=>k.code===v.language))==null?void 0:P.name," 进行识别..."]})]}),v.status==="failed"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ue,{children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsx(xe,{children:v.error||"识别失败，请检查图片质量或重试"})]}),e.jsxs(S,{onClick:()=>b(v.id),size:"sm",children:[e.jsx(El,{className:"w-4 h-4 mr-1"}),"重新识别"]})]}),v.status==="completed"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold",children:[v.accuracy,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"平均准确率"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold",children:[v.processingTime,"ms"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"处理时间"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold",children:v.ocrResults.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"识别字段"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium",children:"OCR识别结果"}),e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>T(v.id),children:[e.jsx(Se,{className:"w-4 h-4 mr-1"}),"导出结果"]})]}),e.jsx("div",{className:"space-y-2",children:v.ocrResults.map((k,C)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 w-24",children:e.jsx(H,{className:"text-sm font-medium",children:k.field})}),e.jsx("div",{className:"flex-1",children:(i==null?void 0:i.imageId)===v.id&&(i==null?void 0:i.fieldIndex)===C?e.jsxs("div",{className:"flex gap-2",children:[e.jsx(se,{value:d,onChange:M=>m(M.target.value),className:"flex-1"}),e.jsx(S,{size:"sm",onClick:x,children:e.jsx(fe,{className:"w-4 h-4"})}),e.jsx(S,{size:"sm",variant:"outline",onClick:f,children:e.jsx(Lt,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:k.value}),e.jsx(S,{size:"sm",variant:"ghost",onClick:()=>j(v.id,C),children:e.jsx(R3,{className:"w-3 h-3"})})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{variant:D(k.confidence),className:"text-xs",children:[Math.round(k.confidence),"%"]}),e.jsx(S,{size:"sm",variant:k.verified?"default":"outline",onClick:()=>w(v.id,C),children:k.verified?e.jsx(fe,{className:"w-4 h-4"}):e.jsx(Me,{className:"w-4 h-4"})})]})]},C))}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(zt,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"识别总结："}),e.jsxs("span",{className:"text-green-600",children:["✓ ",v.ocrResults.filter(k=>k.verified).length," 项已验证"]}),e.jsxs("span",{className:"text-orange-600",children:["⚡ ",v.ocrResults.filter(k=>!k.verified).length," 项需确认"]})]})})]})]})]})]})})]},v.id)})}),s.length===0&&e.jsx(R,{children:e.jsxs(E,{className:"py-12 text-center",children:[e.jsx(Dp,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"开始OCR识别"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"上传证书或竞赛获奖图片，AI将自动识别并提取关键信息"}),e.jsxs(S,{onClick:()=>{var v;return(v=u.current)==null?void 0:v.click()},children:[e.jsx(Ms,{className:"w-4 h-4 mr-2"}),"上传第一张图片"]})]})})]})}),e.jsx(Te,{})]})}const PD=[{id:"1",studentName:"王小明",studentId:"2021010101",submissionDate:"2024-12-01",reviewStatus:"pending",materials:{competitions:3,research:2,social:1,certificates:4},issues:["证书日期模糊，需要确认","竞赛证书扫描不清晰"],aiSuggestions:["建议重新上传高清版证书","日期信息需要人工核实"],completeness:85,duplicateRisk:"low"},{id:"2",studentName:"李小红",studentId:"2021010102",submissionDate:"2024-12-02",reviewStatus:"pending",materials:{competitions:5,research:1,social:4,certificates:6},issues:[],aiSuggestions:["材料完整，建议快速通过"],completeness:95,duplicateRisk:"none"},{id:"3",studentName:"张三",studentId:"2021010103",submissionDate:"2024-11-28",reviewStatus:"flagged",materials:{competitions:4,research:3,social:2,certificates:5},issues:["存在疑似重复提交的材料","部分证书可能为伪造"],aiSuggestions:["需要详细核实证书真实性","建议联系学生确认材料来源"],completeness:78,duplicateRisk:"high"},{id:"4",studentName:"赵小花",studentId:"2021010104",submissionDate:"2024-12-03",reviewStatus:"approved",materials:{competitions:2,research:4,social:3,certificates:7},issues:[],aiSuggestions:[],completeness:100,duplicateRisk:"none",lastReviewDate:"2024-12-03",reviewer:"张秘书"},{id:"5",studentName:"刘小刚",studentId:"2021010105",submissionDate:"2024-11-30",reviewStatus:"rejected",materials:{competitions:1,research:0,social:1,certificates:2},issues:["材料不足，未达到申请要求","缺少必要的科研项目证明"],aiSuggestions:["建议补充科研项目材料","竞赛获奖需要更多证明"],completeness:45,duplicateRisk:"none",lastReviewDate:"2024-12-01",reviewer:"王秘书"}];function Oj(){const[s,t]=o.useState(PD),[a,n]=o.useState([]),[r,l]=o.useState("all"),[i,c]=o.useState(""),[d,m]=o.useState(!0),u=()=>{const v=s.filter(M=>M.reviewStatus==="pending").length,P=s.filter(M=>M.reviewStatus==="approved").length,k=s.filter(M=>M.reviewStatus==="rejected").length,C=s.filter(M=>M.reviewStatus==="flagged").length;return{pending:v,approved:P,rejected:k,flagged:C}},h=()=>{let v=s;return r!=="all"&&(v=v.filter(P=>P.reviewStatus===r)),i&&(v=v.filter(P=>P.studentName.toLowerCase().includes(i.toLowerCase())||P.studentId.includes(i))),v},p=(v,P)=>{t(k=>k.map(C=>C.id===v?{...C,reviewStatus:P,lastReviewDate:new Date().toISOString().split("T")[0],reviewer:"当前用户"}:C))},g=()=>{a.length!==0&&(t(v=>v.map(P=>a.includes(P.id)?{...P,reviewStatus:"approved",lastReviewDate:new Date().toISOString().split("T")[0],reviewer:"当前用户"}:P)),n([]))},b=()=>{a.length!==0&&(t(v=>v.map(P=>a.includes(P.id)?{...P,reviewStatus:"rejected",lastReviewDate:new Date().toISOString().split("T")[0],reviewer:"当前用户"}:P)),n([]))},N=()=>{const v=h().map(P=>P.id);a.length===v.length?n([]):n(v)},j=(v,P)=>{n(P?k=>[...k,v]:k=>k.filter(C=>C!==v))},x=v=>{const k={pending:{variant:"secondary",icon:Ce,label:"待审核"},approved:{variant:"default",icon:fe,label:"已通过"},rejected:{variant:"destructive",icon:Ks,label:"已退回"},flagged:{variant:"secondary",icon:Me,label:"有疑问"}}[v],C=k.icon;return e.jsxs(V,{variant:k.variant,className:"flex items-center gap-1",children:[e.jsx(C,{className:"w-3 h-3"}),k.label]})},f=v=>{if(v==="none")return null;const k={low:{color:"text-yellow-600 bg-yellow-50",label:"低风险"},medium:{color:"text-orange-600 bg-orange-50",label:"中风险"},high:{color:"text-red-600 bg-red-50",label:"高风险"}}[v];return e.jsx(V,{className:X("text-xs",k.color),children:k.label})},w=()=>{const v=s.filter(C=>C.duplicateRisk!=="none").length,P=s.reduce((C,M)=>C+M.issues.length,0),k=s.filter(C=>C.completeness<70).length;return{duplicateCount:v,issueCount:P,lowCompletenessCount:k}},D=u(),y=h(),T=w();return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"材料初审管理"}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{children:["待审: ",e.jsx("span",{className:"font-semibold text-orange-600",children:D.pending})]}),e.jsxs("span",{children:["已审: ",e.jsx("span",{className:"font-semibold text-green-600",children:D.approved})]}),e.jsxs("span",{children:["退回: ",e.jsx("span",{className:"font-semibold text-red-600",children:D.rejected})]}),e.jsxs("span",{children:["疑问: ",e.jsx("span",{className:"font-semibold text-yellow-600",children:D.flagged})]})]})]}),e.jsx(R,{className:"mb-6",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(se,{placeholder:"搜索学生姓名或学号...",value:i,onChange:v=>c(v.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ie,{value:r,onValueChange:v=>l(v),children:[e.jsx(re,{className:"w-32",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"全部"}),e.jsx(W,{value:"pending",children:"待审核"}),e.jsx(W,{value:"flagged",children:"有疑问"}),e.jsx(W,{value:"approved",children:"已通过"})]})]}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(rn,{className:"w-4 h-4 mr-1"}),"筛选"]}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Se,{className:"w-4 h-4 mr-1"}),"导出"]})]})]})})}),(T.duplicateCount>0||T.issueCount>0||T.lowCompletenessCount>0)&&e.jsxs(ue,{className:"mb-6",children:[e.jsx(_i,{className:"h-4 w-4"}),e.jsxs(xe,{children:[e.jsx("span",{className:"font-medium",children:"AI辅助提示："}),T.duplicateCount>0&&e.jsxs("span",{className:"ml-1",children:["发现 ",T.duplicateCount," 份材料可能存在重复提交；"]}),T.issueCount>0&&e.jsxs("span",{className:"ml-1",children:["检测到 ",T.issueCount," 个潜在问题需要关注；"]}),T.lowCompletenessCount>0&&e.jsxs("span",{className:"ml-1",children:[T.lowCompletenessCount," 份材料完整度较低。"]})]})]}),d&&e.jsx(R,{className:"mb-6",children:e.jsx(E,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ae,{checked:a.length===y.length&&y.length>0,onCheckedChange:N}),e.jsxs("span",{className:"text-sm text-gray-600",children:["已选择 ",a.length," 项"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(S,{size:"sm",disabled:a.length===0,onClick:g,children:[e.jsx(fe,{className:"w-4 h-4 mr-1"}),"批量通过"]}),e.jsxs(S,{variant:"outline",size:"sm",disabled:a.length===0,onClick:b,children:[e.jsx(Ks,{className:"w-4 h-4 mr-1"}),"批量退回"]}),e.jsx(S,{variant:"ghost",size:"sm",children:e.jsx(co,{className:"w-4 h-4"})})]})]})})}),e.jsx("div",{className:"space-y-4",children:y.map(v=>e.jsx(R,{className:"hover:shadow-md transition-shadow",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[d&&e.jsx(Ae,{checked:a.includes(v.id),onCheckedChange:P=>j(v.id,P),className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"font-semibold text-lg",children:v.studentName}),e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",v.studentId,")"]}),x(v.reviewStatus),f(v.duplicateRisk)]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["提交时间: ",v.submissionDate]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsx("div",{className:"flex items-center gap-2 text-sm",children:e.jsxs(V,{variant:"outline",className:"text-blue-600",children:["竞赛获奖 ",v.materials.competitions,"项"]})}),e.jsx("div",{className:"flex items-center gap-2 text-sm",children:e.jsxs(V,{variant:"outline",className:"text-green-600",children:["科研项目 ",v.materials.research,"项"]})}),e.jsx("div",{className:"flex items-center gap-2 text-sm",children:e.jsxs(V,{variant:"outline",className:"text-purple-600",children:["社会实践 ",v.materials.social,"项"]})}),e.jsx("div",{className:"flex items-center gap-2 text-sm",children:e.jsxs(V,{variant:"outline",className:"text-orange-600",children:["证书文件 ",v.materials.certificates,"项"]})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"材料完整度"}),e.jsxs("span",{className:X("font-medium",v.completeness>=90?"text-green-600":v.completeness>=70?"text-yellow-600":"text-red-600"),children:[v.completeness,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:X("h-2 rounded-full",v.completeness>=90?"bg-green-500":v.completeness>=70?"bg-yellow-500":"bg-red-500"),style:{width:`${v.completeness}%`}})})]}),(v.issues.length>0||v.aiSuggestions.length>0)&&e.jsxs("div",{className:"space-y-2 mb-4",children:[v.issues.map((P,k)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Me,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),e.jsx("span",{className:"text-red-700",children:P})]},k)),v.aiSuggestions.map((P,k)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(zt,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),e.jsx("span",{className:"text-blue-700",children:P})]},k))]}),v.lastReviewDate&&e.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:["上次审核: ",v.lastReviewDate," by ",v.reviewer]}),e.jsxs("div",{className:"flex items-center gap-2",children:[v.reviewStatus==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(S,{size:"sm",onClick:()=>p(v.id,"approved"),children:[e.jsx(fe,{className:"w-4 h-4 mr-1"}),"快速通过"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>p(v.id,"flagged"),children:[e.jsx(Me,{className:"w-4 h-4 mr-1"}),"标记问题"]})]}),v.reviewStatus==="flagged"&&e.jsxs(e.Fragment,{children:[e.jsxs(S,{size:"sm",onClick:()=>p(v.id,"approved"),children:[e.jsx(fe,{className:"w-4 h-4 mr-1"}),"确认通过"]}),e.jsxs(S,{variant:"destructive",size:"sm",onClick:()=>p(v.id,"rejected"),children:[e.jsx(Ks,{className:"w-4 h-4 mr-1"}),"退回修改"]})]}),e.jsxs(S,{variant:"ghost",size:"sm",children:[e.jsx(Le,{className:"w-4 h-4 mr-1"}),"查看详情"]}),v.reviewStatus!=="pending"&&e.jsxs(S,{variant:"ghost",size:"sm",onClick:()=>p(v.id,"pending"),children:[e.jsx(Ke,{className:"w-4 h-4 mr-1"}),"重新审核"]})]})]})]})})},v.id))}),y.length===0&&e.jsx(R,{children:e.jsxs(E,{className:"py-12 text-center",children:[e.jsx(Ne,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"暂无符合条件的提交材料"}),e.jsx("p",{className:"text-gray-600",children:i?"尝试调整搜索条件或筛选器":"等待学生提交材料进行审核"})]})})]})}),e.jsx(Te,{})]})}function _j(){const[s,t]=o.useState([{id:"1",name:"王小明",submittedAt:"2024-08-28 14:32",status:"submitted",completeness:85,issues:["证书日期模糊"]},{id:"2",name:"李小红",submittedAt:"2024-08-28 15:21",status:"approved",completeness:100},{id:"3",name:"张三",status:"pending",completeness:0},{id:"4",name:"赵六",submittedAt:"2024-08-27 09:15",status:"reviewing",completeness:90},{id:"5",name:"王五",submittedAt:"2024-08-26 16:45",status:"rejected",completeness:60,issues:["材料不完整","缺少必要证明"]},{id:"6",name:"钱七",status:"pending",completeness:0},{id:"7",name:"孙八",submittedAt:"2024-08-28 11:20",status:"submitted",completeness:95},{id:"8",name:"周九",status:"pending",completeness:0}]),[a,n]=o.useState({total:0,submitted:0,pending:0,reviewing:0,approved:0,rejected:0}),[r,l]=o.useState(""),[i,c]=o.useState("all"),[d,m]=o.useState(!0),u=new Date("2024-09-01T23:59:59");o.useEffect(()=>{(()=>{const j={total:s.length,submitted:s.filter(x=>x.status==="submitted").length,pending:s.filter(x=>x.status==="pending").length,reviewing:s.filter(x=>x.status==="reviewing").length,approved:s.filter(x=>x.status==="approved").length,rejected:s.filter(x=>x.status==="rejected").length};n(j)})()},[s]),o.useEffect(()=>{const N=setInterval(()=>{const j=new Date,x=u.getTime()-j.getTime();if(x>0){const f=Math.floor(x/864e5),w=Math.floor(x%(1e3*60*60*24)/(1e3*60*60)),D=Math.floor(x%(1e3*60*60)/(1e3*60));l(`${f}天 ${w}小时 ${D}分钟`)}else l("已截止")},1e3);return()=>clearInterval(N)},[u]),o.useEffect(()=>{if(!d)return;const N=setInterval(()=>{const j=Math.floor(Math.random()*s.length),x=[...s];x[j].status==="pending"&&Math.random()>.7&&(x[j]={...x[j],status:"submitted",submittedAt:new Date().toLocaleString("zh-CN"),completeness:Math.floor(Math.random()*40)+60},t(x))},5e3);return()=>clearInterval(N)},[d,s]);const h=N=>{switch(N){case"pending":return"bg-gray-100 text-gray-700";case"submitted":return"bg-blue-100 text-blue-700";case"reviewing":return"bg-yellow-100 text-yellow-700";case"approved":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},p=N=>{switch(N){case"pending":return"未提交";case"submitted":return"已提交";case"reviewing":return"审核中";case"approved":return"已通过";case"rejected":return"已退回";default:return N}},g=i==="all"?s:s.filter(N=>N.status===i),b=Math.round((a.total-a.pending)/a.total*100);return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"进度追踪面板"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(S,{variant:d?"default":"outline",size:"sm",onClick:()=>m(!d),children:[e.jsx(Ke,{className:`w-4 h-4 mr-1 ${d?"animate-spin":""}`}),d?"自动刷新":"手动刷新"]}),e.jsxs(V,{variant:"outline",className:"px-3 py-1",children:[e.jsx(oh,{className:"w-4 h-4 mr-1"}),"截止时间: ",r]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[e.jsxs(R,{className:"lg:col-span-2",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"提交状态统计"}),e.jsxs("div",{className:"text-sm font-normal text-gray-600",children:["总人数: ",a.total]})]})}),e.jsxs(E,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",onClick:()=>c("pending"),children:[e.jsx(Ce,{className:"w-8 h-8 text-gray-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-gray-700",children:a.pending}),e.jsx("div",{className:"text-sm text-gray-600",children:"未提交"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg cursor-pointer hover:bg-blue-100",onClick:()=>c("submitted"),children:[e.jsx(Ne,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-blue-700",children:a.submitted}),e.jsx("div",{className:"text-sm text-blue-600",children:"已提交"})]}),e.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg cursor-pointer hover:bg-yellow-100",onClick:()=>c("reviewing"),children:[e.jsx(ze,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:a.reviewing}),e.jsx("div",{className:"text-sm text-yellow-600",children:"审核中"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg cursor-pointer hover:bg-green-100",onClick:()=>c("approved"),children:[e.jsx(fe,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-green-700",children:a.approved}),e.jsx("div",{className:"text-sm text-green-600",children:"已通过"})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg cursor-pointer hover:bg-red-100",onClick:()=>c("rejected"),children:[e.jsx(Me,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-red-700",children:a.rejected}),e.jsx("div",{className:"text-sm text-red-600",children:"已退回"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"整体进度"}),e.jsxs("span",{className:"font-medium",children:[b,"%"]})]}),e.jsx(te,{value:b,className:"h-3"})]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"异常状态提醒"})}),e.jsxs(E,{className:"space-y-3",children:[a.pending>0&&e.jsxs(ue,{children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsxs(xe,{children:["还有 ",e.jsx("span",{className:"font-bold",children:a.pending})," 名学生未提交材料"]})]}),a.rejected>0&&e.jsxs(ue,{children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsxs(xe,{children:["有 ",e.jsx("span",{className:"font-bold",children:a.rejected})," 份材料被退回需要重新提交"]})]}),e.jsx("div",{className:"pt-2",children:e.jsxs(S,{className:"w-full",size:"sm",children:[e.jsx(Os,{className:"w-4 h-4 mr-2"}),"发送提醒通知"]})})]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"学生提交详情"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{variant:i==="all"?"default":"outline",size:"sm",onClick:()=>c("all"),children:"全部"}),e.jsx(S,{variant:i==="pending"?"default":"outline",size:"sm",onClick:()=>c("pending"),children:"未提交"})]})]})}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:"学生姓名"}),e.jsx("th",{className:"text-left p-2",children:"提交时间"}),e.jsx("th",{className:"text-left p-2",children:"状态"}),e.jsx("th",{className:"text-left p-2",children:"完整度"}),e.jsx("th",{className:"text-left p-2",children:"问题标记"}),e.jsx("th",{className:"text-left p-2",children:"操作"})]})}),e.jsx("tbody",{children:g.map(N=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{className:"w-4 h-4 text-gray-400"}),N.name]})}),e.jsx("td",{className:"p-2 text-sm text-gray-600",children:N.submittedAt||"-"}),e.jsx("td",{className:"p-2",children:e.jsx(V,{className:h(N.status),children:p(N.status)})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{value:N.completeness,className:"w-20 h-2"}),e.jsxs("span",{className:"text-sm",children:[N.completeness,"%"]})]})}),e.jsx("td",{className:"p-2",children:N.issues&&N.issues.length>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Me,{className:"w-4 h-4 text-yellow-500"}),e.jsxs("span",{className:"text-sm text-yellow-600",children:[N.issues.length," 个问题"]})]})}),e.jsxs("td",{className:"p-2",children:[N.status==="submitted"&&e.jsx(S,{size:"sm",variant:"outline",children:"查看详情"}),N.status==="pending"&&e.jsx(S,{size:"sm",variant:"outline",children:"发送提醒"})]})]},N.id))})]})})})]})]})}),e.jsx(Te,{})]})}function Lj(){const[s,t]=o.useState(0),[a]=o.useState([{id:"1",name:"王小明",competitions:[{name:"全国大学生数学建模竞赛",level:"国家级",award:"一等奖",score:20},{name:'中国"互联网+"大学生创新创业大赛',level:"国家级",award:"一等奖",score:20},{name:"全国大学生电子设计竞赛",level:"省级",award:"二等奖",score:15}],research:[{name:"基于深度学习的目标检测算法研究",role:"负责人",type:"国家级大创项目",score:25},{name:"智能制造系统优化研究",role:"第二作者",type:"发表论文1篇",score:10}]},{id:"2",name:"李小红",competitions:[{name:"全国大学生机械创新设计大赛",level:"国家级",award:"二等奖",score:15},{name:"全国大学生数学竞赛",level:"省级",award:"一等奖",score:10}],research:[{name:"新能源汽车电池管理系统研究",role:"参与者",type:"省级科研项目",score:15}]}]),[n,r]=o.useState({}),[l,i]=o.useState({}),[c,d]=o.useState({}),m=a[s],u=n[m.id]||{creativeThinking:25,practicalAbility:22,developmentPotential:28},h=l[m.id]||"思维活跃，实践能力较强，具有良好的创新潜力。在多个竞赛中表现优异，科研项目执行能力突出。",p=Math.min(m.competitions.reduce((y,T)=>y+T.score,0),40),g=Math.min(m.research.reduce((y,T)=>y+T.score,0),30),b=(u.creativeThinking+u.practicalAbility+u.developmentPotential)/3,N=p+g+b,j=(y,T)=>{r({...n,[m.id]:{...u,[y]:T[0]}}),d({...c,[m.id]:!1})},x=y=>{i({...l,[m.id]:y}),d({...c,[m.id]:!1})},f=y=>{d({...c,[m.id]:!0}),alert(y?`已确认 ${m.name} 的评分：${N.toFixed(1)} 分`:`已暂存 ${m.name} 的评分`)},w=y=>{y==="prev"&&s>0?t(s-1):y==="next"&&s<a.length-1&&t(s+1)},D=Object.keys(c).filter(y=>c[y]).length;return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"科技创新维度评审"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["已评: ",D,"/",a.length]}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Es,{className:"w-4 h-4 mr-1"}),"评分指南"]})]})]}),e.jsx(R,{className:"mb-4",children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"font-medium",children:"当前学生:"}),e.jsx("span",{className:"text-xl font-bold",children:m.name}),c[m.id]&&e.jsxs(V,{className:"bg-green-100 text-green-700",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"已评分"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>w("prev"),disabled:s===0,children:[e.jsx(br,{className:"w-4 h-4 mr-1"}),"上一个"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>w("next"),disabled:s===a.length-1,children:["下一个",e.jsx(Us,{className:"w-4 h-4 ml-1"})]})]})]})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(or,{className:"w-5 h-5 text-yellow-500"}),"竞赛获奖 (40%)"]})}),e.jsxs(E,{children:[e.jsx("div",{className:"space-y-3",children:m.competitions.map((y,T)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:y.name}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[y.level," · ",y.award]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"text-lg font-bold",children:[y.score,"分"]})})]},T))}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"小计:"}),e.jsxs("span",{className:"text-lg font-bold",children:[p,"/40 分",m.competitions.reduce((y,T)=>y+T.score,0)>40&&e.jsx("span",{className:"text-sm text-gray-600 ml-2",children:"(超出部分按40分计)"})]})]})})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(JN,{className:"w-5 h-5 text-blue-500"}),"科研项目 (30%)"]})}),e.jsxs(E,{children:[e.jsx("div",{className:"space-y-3",children:m.research.map((y,T)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:y.name}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[y.type," · ",y.role]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"text-lg font-bold",children:[y.score,"分"]})})]},T))}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"小计:"}),e.jsxs("span",{className:"text-lg font-bold",children:[g,"/30 分",m.research.reduce((y,T)=>y+T.score,0)>30&&e.jsx("span",{className:"text-sm text-gray-600 ml-2",children:"(超出部分按30分计)"})]})]})})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(ra,{className:"w-5 h-5 text-orange-500"}),"创新能力 (30%) - 专家评分"]})}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"font-medium",children:"创新思维:"}),e.jsxs("span",{className:"text-sm font-bold",children:[u.creativeThinking,"/30"]})]}),e.jsx(is,{value:[u.creativeThinking],onValueChange:y=>j("creativeThinking",y),max:30,step:1,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"font-medium",children:"实践能力:"}),e.jsxs("span",{className:"text-sm font-bold",children:[u.practicalAbility,"/30"]})]}),e.jsx(is,{value:[u.practicalAbility],onValueChange:y=>j("practicalAbility",y),max:30,step:1,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"font-medium",children:"发展潜力:"}),e.jsxs("span",{className:"text-sm font-bold",children:[u.developmentPotential,"/30"]})]}),e.jsx(is,{value:[u.developmentPotential],onValueChange:y=>j("developmentPotential",y),max:30,step:1,className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-medium block mb-2",children:"专家评语:"}),e.jsx(Ie,{value:h,onChange:y=>x(y.target.value),placeholder:"请输入对该学生创新能力的评价...",rows:4})]})]})]}),e.jsx(R,{children:e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-lg font-medium",children:"本维度得分:"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600 ml-3",children:[N.toFixed(1),"/100"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(S,{variant:"outline",onClick:()=>f(!1),children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"暂存"]}),e.jsxs(S,{onClick:()=>f(!0),disabled:b===0,children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"确认评分"]})]})]}),b===0&&e.jsxs(ue,{children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx(xe,{children:"请完成创新能力专家评分后再确认提交"})]})]})})]})]})}),e.jsx(Te,{})]})}function zj(){const[s,t]=o.useState("disconnected"),[a,n]=o.useState({totalRecords:0,processedRecords:0,successCount:0,errorCount:0,warningCount:0,status:"idle"}),[r,l]=o.useState([]),[i,c]=o.useState(!1),[d,m]=o.useState("2024-08-28 09:30:00"),[u,h]=o.useState("academic"),[p]=o.useState([{sourceField:"学号",targetField:"studentId"},{sourceField:"姓名",targetField:"studentName"},{sourceField:"平时成绩",targetField:"usualScore",transformation:"number"},{sourceField:"期末成绩",targetField:"finalScore",transformation:"number"},{sourceField:"总评成绩",targetField:"totalScore",transformation:"calculated"}]);o.useEffect(()=>{(()=>{s==="connecting"&&setTimeout(()=>{t("connected"),g("success","成功连接到教务系统")},2e3)})()},[s]),o.useEffect(()=>{if(i&&s==="connected"){const D=setInterval(()=>{N()},3e5);return()=>clearInterval(D)}},[i,s]);const g=(D,y,T)=>{const v={id:Date.now().toString(),timestamp:new Date().toLocaleString("zh-CN"),type:D,message:y,details:T};l(P=>[v,...P].slice(0,100))},b=()=>{t("connecting"),g("info","正在连接到教务系统...")},N=()=>{if(s!=="connected"){g("error","请先连接到教务系统");return}n({totalRecords:150,processedRecords:0,successCount:0,errorCount:0,warningCount:0,status:"syncing"}),g("info","开始同步成绩数据...");let D=0;const y=setInterval(()=>{D+=10;const T=Math.floor(D*.9),v=Math.floor(D*.05),P=D-T-v;n({totalRecords:150,processedRecords:D,successCount:T,errorCount:P,warningCount:v,status:D<150?"syncing":"completed"}),D>=150&&(clearInterval(y),m(new Date().toLocaleString("zh-CN")),g("success",`同步完成：成功 ${T} 条，警告 ${v} 条，错误 ${P} 条`))},100)},j=()=>{const D=a.errorCount;g("info",`正在重试 ${D} 条失败记录...`),setTimeout(()=>{n(y=>({...y,errorCount:Math.floor(D*.2),successCount:y.successCount+Math.floor(D*.8)})),g("success",`重试完成：成功恢复 ${Math.floor(D*.8)} 条记录`)},2e3)},x=()=>{switch(s){case"connected":return e.jsx(fe,{className:"w-5 h-5 text-green-500"});case"connecting":return e.jsx(C3,{className:"w-5 h-5 text-blue-500 animate-spin"});case"error":return e.jsx(Ks,{className:"w-5 h-5 text-red-500"});default:return e.jsx(ze,{className:"w-5 h-5 text-gray-400"})}},f=D=>{switch(D){case"success":return e.jsx(fe,{className:"w-4 h-4 text-green-500"});case"error":return e.jsx(Ks,{className:"w-4 h-4 text-red-500"});case"warning":return e.jsx(Me,{className:"w-4 h-4 text-yellow-500"});default:return e.jsx(Ts,{className:"w-4 h-4 text-blue-500"})}},w=a.totalRecords>0?a.processedRecords/a.totalRecords*100:0;return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"成绩导入系统"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(V,{variant:"outline",className:"px-3 py-1",children:[e.jsx(Ce,{className:"w-4 h-4 mr-1"}),"最后同步: ",d]}),e.jsxs(S,{variant:i?"default":"outline",size:"sm",onClick:()=>c(!i),children:[e.jsx(Ke,{className:`w-4 h-4 mr-1 ${i?"animate-spin":""}`}),i?"自动同步中":"自动同步"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"系统连接"}),x()]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"选择系统"}),e.jsxs(ie,{value:u,onValueChange:h,children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"academic",children:"教务系统"}),e.jsx(W,{value:"library",children:"图书馆系统"}),e.jsx(W,{value:"lab",children:"实验室系统"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"连接状态:"}),e.jsx("span",{className:`font-medium ${s==="connected"?"text-green-600":s==="error"?"text-red-600":"text-gray-600"}`,children:s==="connected"?"已连接":s==="connecting"?"连接中...":s==="error"?"连接失败":"未连接"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"服务器:"}),e.jsx("span",{className:"text-gray-600",children:"academic.hust.edu.cn"})]})]}),e.jsxs(S,{className:"w-full",onClick:b,disabled:s==="connecting"||s==="connected",children:[e.jsx(Nt,{className:"w-4 h-4 mr-2"}),s==="connected"?"已连接":"连接系统"]})]})})]}),e.jsxs(R,{className:"lg:col-span-2",children:[e.jsx(O,{children:e.jsx(L,{children:"导入状态"})}),e.jsx(E,{children:a.status!=="idle"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"同步进度"}),e.jsxs("span",{children:[a.processedRecords,"/",a.totalRecords]})]}),e.jsx(te,{value:w,className:"h-3"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[e.jsx(fe,{className:"w-6 h-6 text-green-500 mx-auto mb-1"}),e.jsx("div",{className:"text-2xl font-bold text-green-700",children:a.successCount}),e.jsx("div",{className:"text-sm text-green-600",children:"成功"})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[e.jsx(Me,{className:"w-6 h-6 text-yellow-500 mx-auto mb-1"}),e.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:a.warningCount}),e.jsx("div",{className:"text-sm text-yellow-600",children:"警告"})]}),e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg",children:[e.jsx(Ks,{className:"w-6 h-6 text-red-500 mx-auto mb-1"}),e.jsx("div",{className:"text-2xl font-bold text-red-700",children:a.errorCount}),e.jsx("div",{className:"text-sm text-red-600",children:"错误"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{onClick:N,disabled:a.status==="syncing",className:"flex-1",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),a.status==="syncing"?"同步中...":"重新同步"]}),a.errorCount>0&&e.jsxs(S,{variant:"outline",onClick:j,children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),"重试失败项"]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Nt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"暂无同步任务"}),e.jsxs(S,{onClick:N,disabled:s!=="connected",children:[e.jsx(Ms,{className:"w-4 h-4 mr-2"}),"开始同步"]})]})})]})]}),e.jsxs(Ye,{defaultValue:"logs",className:"space-y-4",children:[e.jsxs(qe,{children:[e.jsx(J,{value:"logs",children:"同步日志"}),e.jsx(J,{value:"mapping",children:"数据映射"}),e.jsx(J,{value:"manual",children:"手动导入"})]}),e.jsx(ee,{value:"logs",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"同步日志"}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Se,{className:"w-4 h-4 mr-1"}),"导出日志"]})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:r.length>0?r.map(D=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[f(D.type),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:D.message}),e.jsx("span",{className:"text-xs text-gray-500",children:D.timestamp})]}),D.details&&e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:D.details})]})]},D.id)):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"暂无日志记录"})})})]})}),e.jsx(ee,{value:"mapping",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"数据映射配置"}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Je,{className:"w-4 h-4 mr-1"}),"编辑映射"]})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(ue,{children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx(xe,{children:"数据映射定义了源系统字段与目标系统字段的对应关系"})]}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3 font-medium",children:"源字段"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"目标字段"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"转换规则"}),e.jsx("th",{className:"text-left p-3 font-medium",children:"状态"})]})}),e.jsx("tbody",{children:p.map((D,y)=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3",children:D.sourceField}),e.jsx("td",{className:"p-3",children:D.targetField}),e.jsx("td",{className:"p-3",children:e.jsx(V,{variant:"outline",children:D.transformation||"直接映射"})}),e.jsx("td",{className:"p-3",children:e.jsxs(V,{className:"bg-green-100 text-green-700",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"正常"]})})]},y))})]})})]})})]})}),e.jsx(ee,{value:"manual",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"手动导入"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(ue,{children:[e.jsx(Ne,{className:"h-4 w-4"}),e.jsx(xe,{children:"支持 Excel (.xlsx, .xls) 和 CSV 格式的成绩文件导入"})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[e.jsx(Ms,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"拖拽文件到此处或点击选择"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"支持的格式: .xlsx, .xls, .csv"}),e.jsx(se,{type:"file",accept:".xlsx,.xls,.csv",className:"hidden",id:"file-upload"}),e.jsx(H,{htmlFor:"file-upload",children:e.jsx(S,{variant:"outline",className:"cursor-pointer",children:"选择文件"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(S,{variant:"outline",children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"下载模板"]}),e.jsxs(S,{disabled:!0,children:[e.jsx(Ms,{className:"w-4 h-4 mr-2"}),"开始导入"]})]})]})})]})})]})]})}),e.jsx(Te,{})]})}function Fj(){var C;const[s,t]=o.useState(0),[a,n]=o.useState([{id:"1",name:"张教授",avatar:"ZJ",status:"online"},{id:"2",name:"李教授",avatar:"LJ",status:"reviewing",currentReview:"王小明"},{id:"3",name:"王教授",avatar:"WJ",status:"online"},{id:"4",name:"陈教授",avatar:"CJ",status:"offline"}]),[r]=o.useState([{id:"1",name:"王小明",status:"in_review",assignedExperts:[{id:"1",name:"张教授",avatar:"ZJ",status:"reviewing"},{id:"2",name:"李教授",avatar:"LJ",status:"reviewing"}],competitions:[{name:"全国大学生数学建模竞赛",level:"国家级",award:"一等奖",score:20},{name:'中国"互联网+"大学生创新创业大赛',level:"国家级",award:"一等奖",score:20},{name:"全国大学生电子设计竞赛",level:"省级",award:"二等奖",score:15}],research:[{name:"基于深度学习的目标检测算法研究",role:"负责人",type:"国家级大创项目",score:25},{name:"智能制造系统优化研究",role:"第二作者",type:"发表论文1篇",score:10}]},{id:"2",name:"李小红",status:"pending",assignedExperts:[],competitions:[{name:"全国大学生机械创新设计大赛",level:"国家级",award:"二等奖",score:15},{name:"全国大学生数学竞赛",level:"省级",award:"一等奖",score:10}],research:[{name:"新能源汽车电池管理系统研究",role:"参与者",type:"省级科研项目",score:15}]}]),[l,i]=o.useState({1:[{expertId:"1",creativeThinking:25,practicalAbility:22,developmentPotential:28,comment:"创新思维活跃，在多个国家级竞赛中表现突出，科研能力强。",timestamp:new Date("2024-03-20T10:30:00"),status:"submitted"},{expertId:"2",creativeThinking:28,practicalAbility:26,developmentPotential:29,comment:"极具创新潜力，实践能力出众，科研项目成果显著。",timestamp:new Date("2024-03-20T11:15:00"),status:"submitted"}]}),[c,d]=o.useState([{id:"1",expertId:"1",expertName:"张教授",message:"该学生的创新思维确实很突出，特别是在算法设计方面。",timestamp:new Date("2024-03-20T10:35:00")},{id:"2",expertId:"2",expertName:"李教授",message:"同意，而且实践能力也很强，建议给予较高评分。",timestamp:new Date("2024-03-20T11:20:00")}]),[m,u]=o.useState([]),[h,p]=o.useState(!1),[g,b]=o.useState({expertId:"1",creativeThinking:25,practicalAbility:22,developmentPotential:28,comment:"",timestamp:new Date,status:"draft"}),[N,j]=o.useState(""),x=r[s],f=l[x.id]||[],w=Math.min(x.competitions.reduce((M,z)=>M+z.score,0),40),D=Math.min(x.research.reduce((M,z)=>M+z.score,0),30);o.useEffect(()=>{y()},[f]);const y=()=>{if(f.length<2)return;const M=["creativeThinking","practicalAbility","developmentPotential"],z=[];M.forEach(I=>{const F=f.map(B=>B[I]);Math.max(...F)-Math.min(...F)>5&&z.push({dimension:I==="creativeThinking"?"创新思维":I==="practicalAbility"?"实践能力":"发展潜力",experts:f.map(B=>{var A;return((A=a.find(_=>_.id===B.expertId))==null?void 0:A.name)||""}),scores:F,resolved:!1})}),u(z),z.length>0&&p(!0)},T=(M,z)=>{b({...g,[M]:z[0]})},v=()=>{const M={...g,timestamp:new Date,status:"submitted"};i({...l,[x.id]:[...f,M]}),alert("评审已提交")},P=()=>{if(!N.trim())return;const M={id:Date.now().toString(),expertId:"1",expertName:"张教授",message:N,timestamp:new Date};d([...c,M]),j("")},k=()=>{if(f.length===0)return null;const M={creativeThinking:f.reduce((I,F)=>I+F.creativeThinking,0)/f.length,practicalAbility:f.reduce((I,F)=>I+F.practicalAbility,0)/f.length,developmentPotential:f.reduce((I,F)=>I+F.developmentPotential,0)/f.length},z=(M.creativeThinking+M.practicalAbility+M.developmentPotential)/3;return w+D+z};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"专家协同评审平台"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{className:"w-4 h-4 text-gray-600"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["在线专家: ",a.filter(M=>M.status!=="offline").length]})]}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Es,{className:"w-4 h-4 mr-1"}),"评分指南"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"font-medium",children:"当前学生:"}),e.jsx("span",{className:"text-xl font-bold",children:x.name}),e.jsx(V,{variant:x.status==="completed"?"default":x.status==="conflict"?"destructive":x.status==="in_review"?"secondary":"outline",children:x.status==="completed"?"已完成":x.status==="conflict"?"存在冲突":x.status==="in_review"?"评审中":"待评审"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>t(Math.max(0,s-1)),disabled:s===0,children:[e.jsx(br,{className:"w-4 h-4 mr-1"}),"上一个"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>t(Math.min(r.length-1,s+1)),disabled:s===r.length-1,children:["下一个",e.jsx(Us,{className:"w-4 h-4 ml-1"})]})]})]}),x.assignedExperts.length>0&&e.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"分配专家:"}),e.jsx("div",{className:"flex gap-2",children:x.assignedExperts.map(M=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Vs,{className:"w-6 h-6",children:e.jsx("div",{className:"w-full h-full bg-blue-100 flex items-center justify-center text-xs",children:M.avatar})}),e.jsx("span",{className:"text-sm",children:M.name}),M.status==="reviewing"&&e.jsx(V,{variant:"secondary",className:"text-xs px-1",children:"评审中"})]},M.id))})]})]})}),e.jsxs(Ye,{defaultValue:"review",className:"w-full",children:[e.jsxs(qe,{className:"grid w-full grid-cols-3",children:[e.jsx(J,{value:"review",children:"评审打分"}),e.jsx(J,{value:"history",children:"评审历史"}),e.jsx(J,{value:"merge",children:"结果合并"})]}),e.jsxs(ee,{value:"review",className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(or,{className:"w-5 h-5 text-yellow-500"}),"竞赛获奖 (40%)"]})}),e.jsxs(E,{children:[e.jsx("div",{className:"space-y-3",children:x.competitions.map((M,z)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:M.name}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[M.level," · ",M.award]})]}),e.jsxs("span",{className:"text-lg font-bold",children:[M.score,"分"]})]},z))}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"小计:"}),e.jsxs("span",{className:"text-lg font-bold",children:[w,"/40 分"]})]})})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(JN,{className:"w-5 h-5 text-blue-500"}),"科研项目 (30%)"]})}),e.jsxs(E,{children:[e.jsx("div",{className:"space-y-3",children:x.research.map((M,z)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:M.name}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[M.type," · ",M.role]})]}),e.jsxs("span",{className:"text-lg font-bold",children:[M.score,"分"]})]},z))}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"小计:"}),e.jsxs("span",{className:"text-lg font-bold",children:[D,"/30 分"]})]})})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(ra,{className:"w-5 h-5 text-orange-500"}),"创新能力 (30%) - 专家评分"]})}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"font-medium",children:"创新思维:"}),e.jsxs("span",{className:"text-sm font-bold",children:[g.creativeThinking,"/30"]})]}),e.jsx(is,{value:[g.creativeThinking],onValueChange:M=>T("creativeThinking",M),max:30,step:1})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"font-medium",children:"实践能力:"}),e.jsxs("span",{className:"text-sm font-bold",children:[g.practicalAbility,"/30"]})]}),e.jsx(is,{value:[g.practicalAbility],onValueChange:M=>T("practicalAbility",M),max:30,step:1})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"font-medium",children:"发展潜力:"}),e.jsxs("span",{className:"text-sm font-bold",children:[g.developmentPotential,"/30"]})]}),e.jsx(is,{value:[g.developmentPotential],onValueChange:M=>T("developmentPotential",M),max:30,step:1})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-medium block mb-2",children:"专家评语:"}),e.jsx(Ie,{value:g.comment,onChange:M=>b({...g,comment:M.target.value}),placeholder:"请输入对该学生创新能力的评价...",rows:4})]}),e.jsx(S,{onClick:v,className:"w-full",children:"提交评审"})]})]})]}),e.jsx(ee,{value:"history",className:"space-y-4",children:f.map((M,z)=>{var I,F;return e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Vs,{children:e.jsx("div",{className:"w-full h-full bg-blue-100 flex items-center justify-center",children:((I=a.find($=>$.id===M.expertId))==null?void 0:I.avatar)||"E"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:((F=a.find($=>$.id===M.expertId))==null?void 0:F.name)||"专家"}),e.jsx("p",{className:"text-sm text-gray-600",children:M.timestamp.toLocaleString()})]})]}),e.jsx(V,{variant:M.status==="submitted"?"default":"secondary",children:M.status==="submitted"?"已提交":"草稿"})]})}),e.jsxs(E,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"创新思维"}),e.jsxs("p",{className:"font-bold",children:[M.creativeThinking,"/30"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"实践能力"}),e.jsxs("p",{className:"font-bold",children:[M.practicalAbility,"/30"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"发展潜力"}),e.jsxs("p",{className:"font-bold",children:[M.developmentPotential,"/30"]})]})]}),e.jsx("p",{className:"text-sm text-gray-700",children:M.comment})]})]},z)})}),e.jsx(ee,{value:"merge",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(g3,{className:"w-5 h-5"}),"评审结果合并"]})}),e.jsx(E,{children:f.length===0?e.jsxs(ue,{children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsx(xe,{children:"暂无评审结果，请等待专家完成评审"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"创新思维平均分"}),e.jsx("p",{className:"text-2xl font-bold",children:(f.reduce((M,z)=>M+z.creativeThinking,0)/f.length).toFixed(1)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"实践能力平均分"}),e.jsx("p",{className:"text-2xl font-bold",children:(f.reduce((M,z)=>M+z.practicalAbility,0)/f.length).toFixed(1)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"发展潜力平均分"}),e.jsx("p",{className:"text-2xl font-bold",children:(f.reduce((M,z)=>M+z.developmentPotential,0)/f.length).toFixed(1)})]})]}),m.length>0&&e.jsxs(ue,{variant:"destructive",children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsx(xe,{children:"检测到评分冲突，请专家协商解决"})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-lg font-medium",children:"最终得分:"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[(C=k())==null?void 0:C.toFixed(1),"/100"]})]}),e.jsxs(S,{className:"w-full",children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"确认合并结果"]})]})]})})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"w-5 h-5"}),"质量监控"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"评审完成度"}),e.jsxs("span",{className:"font-medium",children:[f.length,"/",x.assignedExperts.length]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"评分一致性"}),e.jsx(V,{variant:m.length===0?"default":"destructive",children:m.length===0?"正常":`${m.length}个冲突`})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"平均评审时长"}),e.jsx("span",{className:"font-medium",children:"15分钟"})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"w-5 h-5"}),"专家讨论"]})}),e.jsxs(E,{children:[e.jsx(ot,{className:"h-64 mb-4",children:e.jsx("div",{className:"space-y-3",children:c.map(M=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-sm",children:M.expertName}),e.jsx("span",{className:"text-xs text-gray-500",children:M.timestamp.toLocaleTimeString()})]}),e.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded",children:M.message})]},M.id))})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ie,{value:N,onChange:M=>j(M.target.value),placeholder:"输入讨论内容...",rows:2,className:"flex-1"}),e.jsx(S,{onClick:P,size:"sm",children:e.jsx(Os,{className:"w-4 h-4"})})]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(He,{className:"w-5 h-5"}),"在线专家"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-2",children:a.map(M=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vs,{className:"w-8 h-8",children:e.jsx("div",{className:"w-full h-full bg-blue-100 flex items-center justify-center text-sm",children:M.avatar})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:M.name}),M.currentReview&&e.jsxs("p",{className:"text-xs text-gray-600",children:["正在评审: ",M.currentReview]})]})]}),e.jsx(V,{variant:M.status==="online"?"default":M.status==="reviewing"?"secondary":"outline",children:M.status==="online"?"在线":M.status==="reviewing"?"评审中":"离线"})]},M.id))})})]})]})]})]})}),e.jsx(Ge,{open:h,onOpenChange:p,children:e.jsxs(Be,{children:[e.jsxs(We,{children:[e.jsxs(Ve,{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-red-500"}),"评分冲突检测"]}),e.jsx(Ji,{children:"检测到以下维度存在较大评分差异，请专家协商解决"})]}),e.jsxs("div",{className:"space-y-4",children:[m.map((M,z)=>e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:M.dimension}),e.jsx("div",{className:"space-y-1",children:M.experts.map((I,F)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{children:[I,":"]}),e.jsxs("span",{className:"font-medium",children:[M.scores[F],"分"]})]},F))}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["差值: ",Math.max(...M.scores)-Math.min(...M.scores),"分"]})]},z)),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{onClick:()=>p(!1),className:"flex-1",children:"开始协商"}),e.jsx(S,{variant:"outline",onClick:()=>p(!1),children:"稍后处理"})]})]})]})}),e.jsx(Te,{})]})}function $j(){var x;const[s,t]=o.useState("innovation"),[a,n]=o.useState("all"),[r,l]=o.useState(0),[i,c]=o.useState({}),[d,m]=o.useState(!1),u=[{expertId:"1",expertName:"张教授",dimension:"创新思维",score:85,deviation:5},{expertId:"2",expertName:"李教授",dimension:"创新思维",score:78,deviation:-2},{expertId:"3",expertName:"王教授",dimension:"创新思维",score:92,deviation:12},{expertId:"1",expertName:"张教授",dimension:"实践能力",score:80,deviation:3},{expertId:"2",expertName:"李教授",dimension:"实践能力",score:75,deviation:-2},{expertId:"3",expertName:"王教授",dimension:"实践能力",score:77,deviation:0}],h=[{id:"1",studentName:"标准案例A - 优秀",description:"该学生在多个国家级竞赛中获得一等奖，主持国家级科研项目，发表高质量论文。",expectedScore:90,scoreRange:{min:85,max:95},keyPoints:["国家级竞赛一等奖（2项）","主持国家级大创项目","发表SCI论文（第一作者）","创新思维活跃，实践能力强"]},{id:"2",studentName:"标准案例B - 良好",description:"该学生在省级竞赛中获奖，参与科研项目，有一定的创新成果。",expectedScore:75,scoreRange:{min:70,max:80},keyPoints:["省级竞赛二等奖","参与省级科研项目","校级创新成果","具有较好的学习能力"]},{id:"3",studentName:"标准案例C - 中等",description:"该学生参与一些竞赛和项目，但成果一般。",expectedScore:60,scoreRange:{min:55,max:65},keyPoints:["参加校级竞赛","课程项目完成良好","有基本的创新意识","需要更多实践锻炼"]}],p=[{id:"1",question:"基于以下学生信息，请评估其创新思维得分：",sampleData:{name:"测试学生A",achievements:["全国大学生数学建模竞赛国家一等奖",'中国"互联网+"大学生创新创业大赛省级金奖',"主持校级创新项目1项","申请实用新型专利1项"]},options:[{value:60,label:"60-65分（中等）"},{value:75,label:"70-80分（良好）"},{value:85,label:"80-90分（优秀）"},{value:95,label:"90-100分（卓越）"}],correctAnswer:85,explanation:"该学生有国家级和省级重要竞赛获奖，具有专利申请，创新能力突出，应评80-90分。"},{id:"2",question:"评估该学生的实践能力：",sampleData:{name:"测试学生B",projects:["参与导师横向课题，负责数据分析模块","独立完成课程设计3项，均获优秀","暑期企业实习，获得优秀实习生称号","参与开源项目贡献代码"]},options:[{value:65,label:"60-70分（合格）"},{value:75,label:"70-80分（良好）"},{value:85,label:"80-90分（优秀）"},{value:95,label:"90-100分（卓越）"}],correctAnswer:75,explanation:"该学生实践经验丰富但缺乏突出成果，实践能力良好，应评70-80分。"}],g=p[r],b=f=>{c({...i,[g.id]:f})},N=()=>{r<p.length-1?l(r+1):m(!0)},j=f=>Math.abs(f)<=5?"text-green-600":Math.abs(f)<=10?"text-yellow-600":"text-red-600";return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"评分校准工具"}),e.jsxs(S,{variant:"outline",children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"导出校准报告"]})]}),e.jsxs(Ye,{defaultValue:"comparison",className:"w-full",children:[e.jsxs(qe,{className:"grid w-full grid-cols-5",children:[e.jsx(J,{value:"comparison",children:"标准对比"}),e.jsx(J,{value:"analysis",children:"差异分析"}),e.jsx(J,{value:"samples",children:"标准样本"}),e.jsx(J,{value:"test",children:"校准测试"}),e.jsx(J,{value:"training",children:"培训材料"})]}),e.jsx(ee,{value:"comparison",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"w-5 h-5"}),"评分标准对比"]})}),e.jsxs(E,{children:[e.jsx("div",{className:"mb-4 flex gap-4",children:e.jsxs(ie,{value:s,onValueChange:t,children:[e.jsx(re,{className:"w-48",children:e.jsx(ce,{placeholder:"选择评分维度"})}),e.jsxs(le,{children:[e.jsx(W,{value:"innovation",children:"创新思维"}),e.jsx(W,{value:"practice",children:"实践能力"}),e.jsx(W,{value:"potential",children:"发展潜力"})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"平均分"}),e.jsx("p",{className:"text-2xl font-bold",children:"81.7"}),e.jsx("p",{className:"text-sm text-gray-600",children:"所有专家平均"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"标准差"}),e.jsx("p",{className:"text-2xl font-bold",children:"7.2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"评分离散程度"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"一致性"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"85%"}),e.jsx("p",{className:"text-sm text-gray-600",children:"专家间一致性"})]})})]}),e.jsx("div",{className:"space-y-2",children:u.filter(f=>f.dimension==="创新思维").map((f,w)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(TD,{className:"w-10 h-10",children:e.jsx("div",{className:"w-full h-full bg-blue-100 flex items-center justify-center",children:f.expertName[0]})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:f.expertName}),e.jsx("p",{className:"text-sm text-gray-600",children:f.dimension})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold",children:[f.score,"分"]}),e.jsxs("p",{className:`text-sm ${j(f.deviation)}`,children:[f.deviation>0?"+":"",f.deviation]})]})]},w))})]})]})]})}),e.jsx(ee,{value:"analysis",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"w-5 h-5"}),"专家评分差异分析"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ue,{children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsx(xe,{children:'检测到3位专家在"创新思维"维度存在较大差异（>10分），建议进行评分校准。'})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"各维度差异分析"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm",children:"创新思维"}),e.jsx("span",{className:"text-sm font-medium text-red-600",children:"高差异"})]}),e.jsx(te,{value:85,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm",children:"实践能力"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"低差异"})]}),e.jsx(te,{value:25,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm",children:"发展潜力"}),e.jsx("span",{className:"text-sm font-medium text-yellow-600",children:"中等差异"})]}),e.jsx(te,{value:55,className:"h-2"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"专家评分模式"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"张教授"}),e.jsx(V,{children:"偏宽松"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"李教授"}),e.jsx(V,{variant:"secondary",children:"标准"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-sm",children:"王教授"}),e.jsx(V,{variant:"destructive",children:"偏严格"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"校准建议"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(fe,{className:"w-4 h-4 text-green-500 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"组织专家讨论会，明确创新思维评分标准"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(fe,{className:"w-4 h-4 text-green-500 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"提供更多标准案例供专家参考"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(fe,{className:"w-4 h-4 text-green-500 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"建议王教授适当提高评分，张教授适当降低评分"})]})]})]})]})})]})}),e.jsx(ee,{value:"samples",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-5 h-5"}),"标准评分样本"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:h.map(f=>e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:f.studentName}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[f.expectedScore,"分"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["建议范围: ",f.scoreRange.min,"-",f.scoreRange.max,"分"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium mb-2",children:"关键评分点："}),e.jsx("ul",{className:"space-y-1",children:f.keyPoints.map((w,D)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(Kt,{className:"w-3 h-3 text-yellow-500"}),w]},D))})]})]})},f.id))})})]})}),e.jsx(ee,{value:"test",className:"space-y-6",children:d?e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"w-5 h-5"}),"校准测试结果"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ue,{className:"bg-green-50 border-green-200",children:[e.jsx(fe,{className:"h-4 w-4 text-green-600"}),e.jsx(xe,{className:"text-green-800",children:"恭喜！您的评分准确率为 85%，已达到校准标准。"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(R,{children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"准确率"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"85%"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"一致性"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"88%"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"总得分"}),e.jsx("p",{className:"text-2xl font-bold",children:"82分"})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"详细反馈"}),p.map((f,w)=>e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-medium",children:["问题 ",w+1]}),i[f.id]===f.correctAnswer?e.jsx(V,{className:"bg-green-100 text-green-700",children:"正确"}):e.jsx(V,{variant:"destructive",children:"错误"})]}),i[f.id]!==f.correctAnswer&&e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"解释："})," ",f.explanation]})]},f.id))]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(S,{onClick:()=>{m(!1),l(0),c({})},children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"重新测试"]}),e.jsx(S,{variant:"outline",children:"查看培训材料"})]})]})})]}):e.jsxs(R,{children:[e.jsxs(O,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ax,{className:"w-5 h-5"}),"评分校准测试"]}),e.jsxs("div",{className:"mt-2",children:[e.jsx(te,{value:(r+1)/p.length*100}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["问题 ",r+1," / ",p.length]})]})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:g.question}),e.jsx(R,{className:"mb-4",children:e.jsxs(E,{className:"p-4",children:[e.jsx("h5",{className:"font-medium mb-2",children:g.sampleData.name}),g.sampleData.achievements&&e.jsx("ul",{className:"space-y-1",children:g.sampleData.achievements.map((f,w)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(fe,{className:"w-4 h-4 text-green-500 mt-0.5"}),f]},w))}),g.sampleData.projects&&e.jsx("ul",{className:"space-y-1",children:g.sampleData.projects.map((f,w)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(fe,{className:"w-4 h-4 text-blue-500 mt-0.5"}),f]},w))})]})}),e.jsx(zl,{value:(x=i[g.id])==null?void 0:x.toString(),onValueChange:f=>b(parseInt(f)),children:g.options.map(f=>e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Rt,{value:f.value.toString(),id:`option-${f.value}`}),e.jsx(H,{htmlFor:`option-${f.value}`,className:"cursor-pointer",children:f.label})]},f.value))})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(S,{variant:"outline",onClick:()=>l(Math.max(0,r-1)),disabled:r===0,children:"上一题"}),e.jsx(S,{onClick:N,disabled:!i[g.id],children:r===p.length-1?"提交测试":"下一题"})]})]})})]})}),e.jsx(ee,{value:"training",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Es,{className:"w-5 h-5"}),"评分指南"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(S,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"综合素质评价评分标准.pdf"]}),e.jsxs(S,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"创新能力评分细则.pdf"]}),e.jsxs(S,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"实践能力认定办法.pdf"]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(ui,{className:"w-5 h-5"}),"培训视频"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ui,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"评分标准解读"}),e.jsx("p",{className:"text-sm text-gray-600",children:"时长: 15分钟"})]})]})}),e.jsx("div",{className:"p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ui,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"典型案例分析"}),e.jsx("p",{className:"text-sm text-gray-600",children:"时长: 20分钟"})]})]})})]})})]}),e.jsxs(R,{className:"md:col-span-2",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(En,{className:"w-5 h-5"}),"常见问题"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1",children:"Q: 如何把握优秀与良好的界限？"}),e.jsx("p",{className:"text-sm text-gray-600",children:"A: 优秀（80-90分）需要有省级以上重要竞赛获奖或主持科研项目；良好（70-80分）一般为校级获奖或参与项目。"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1",children:"Q: 创新能力如何量化评分？"}),e.jsx("p",{className:"text-sm text-gray-600",children:"A: 主要看创新成果的层次、数量和质量，如专利、论文、竞赛获奖等具体成果。"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1",children:"Q: 评分时是否考虑学生年级？"}),e.jsx("p",{className:"text-sm text-gray-600",children:"A: 是的，低年级学生的评分标准会适当放宽，重点看发展潜力。"})]})]})})]})]})})]})]})}),e.jsx(Te,{})]})}const TD=({children:s,className:t})=>e.jsx("div",{className:`relative inline-flex items-center justify-center overflow-hidden bg-gray-100 rounded-full ${t}`,children:s});function Bj(){const[s,t]=o.useState("all"),[a,n]=o.useState("30"),[r,l]=o.useState(new Date),[i,c]=o.useState(!0),d=[{dimension:"思想品德",total:150,completed:120,inProgress:20,pending:10,percentage:80},{dimension:"科技创新",total:150,completed:95,inProgress:30,pending:25,percentage:63},{dimension:"实践能力",total:150,completed:110,inProgress:25,pending:15,percentage:73},{dimension:"发展潜力",total:150,completed:85,inProgress:35,pending:30,percentage:57},{dimension:"综合素质",total:150,completed:75,inProgress:40,pending:35,percentage:50}],m=[{range:"90-100",count:15,percentage:10},{range:"80-89",count:45,percentage:30},{range:"70-79",count:60,percentage:40},{range:"60-69",count:25,percentage:17},{range:"0-59",count:5,percentage:3}],u=[{expertId:"1",expertName:"张教授",assigned:50,completed:45,avgTime:"8分钟",avgScore:82,status:"active"},{expertId:"2",expertName:"李教授",assigned:50,completed:38,avgTime:"10分钟",avgScore:78,status:"active"},{expertId:"3",expertName:"王教授",assigned:50,completed:42,avgTime:"6分钟",avgScore:85,status:"idle"},{expertId:"4",expertName:"陈教授",assigned:50,completed:30,avgTime:"12分钟",avgScore:76,status:"active"},{expertId:"5",expertName:"刘教授",assigned:50,completed:25,avgTime:"15分钟",avgScore:80,status:"offline"}],h=[{indicator:"评分一致性",value:85,trend:"up",status:"good"},{indicator:"完成及时率",value:72,trend:"down",status:"warning"},{indicator:"评语完整度",value:90,trend:"stable",status:"good"},{indicator:"异常检出率",value:5,trend:"up",status:"warning"}],p=[{id:"1",type:"score_deviation",severity:"high",message:"王教授在科技创新维度评分明显偏高（+15分）",timestamp:"10:32",expert:"王教授"},{id:"2",type:"time_exceeded",severity:"medium",message:"刘教授平均评审时间超过预期（15分钟/人）",timestamp:"10:15",expert:"刘教授"},{id:"3",type:"incomplete",severity:"low",message:"3份评审表缺少评语说明",timestamp:"09:45"},{id:"4",type:"system",severity:"medium",message:"系统检测到异常登录尝试",timestamp:"09:20"}];o.useEffect(()=>{if(!i)return;const f=setInterval(()=>{l(new Date)},parseInt(a)*1e3);return()=>clearInterval(f)},[i,a]);const g=()=>{const f=d.reduce((D,y)=>D+y.total,0),w=d.reduce((D,y)=>D+y.completed,0);return Math.round(w/f*100)},b=f=>{switch(f){case"active":return"bg-green-500";case"idle":return"bg-yellow-500";case"offline":return"bg-gray-500";default:return"bg-gray-500"}},N=f=>{switch(f){case"high":return"text-red-600 bg-red-50";case"medium":return"text-yellow-600 bg-yellow-50";case"low":return"text-blue-600 bg-blue-50";default:return"text-gray-600 bg-gray-50"}},j=f=>{switch(f){case"up":return"↑";case"down":return"↓";default:return"→"}},x=f=>{switch(f){case"good":return"text-green-600";case"warning":return"text-yellow-600";case"error":return"text-red-600";default:return"text-gray-600"}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"实时统计面板"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["最后更新: ",r.toLocaleTimeString()]})]}),e.jsxs(ie,{value:a,onValueChange:n,children:[e.jsx(re,{className:"w-32",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"10",children:"10秒"}),e.jsx(W,{value:"30",children:"30秒"}),e.jsx(W,{value:"60",children:"1分钟"}),e.jsx(W,{value:"300",children:"5分钟"})]})]}),e.jsxs(S,{variant:i?"default":"outline",size:"sm",onClick:()=>c(!i),children:[e.jsx(Ke,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),"自动刷新"]}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"导出报告"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"总体进度"}),e.jsxs("p",{className:"text-2xl font-bold",children:[g(),"%"]})]}),e.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ts,{className:"w-6 h-6 text-blue-600"})})]}),e.jsx(te,{value:g(),className:"mt-2"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"在线专家"}),e.jsx("p",{className:"text-2xl font-bold",children:"3/5"})]}),e.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(He,{className:"w-6 h-6 text-green-600"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"60% 在线率"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"平均评分"}),e.jsx("p",{className:"text-2xl font-bold",children:"78.2"})]}),e.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(xs,{className:"w-6 h-6 text-purple-600"})})]}),e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"↑ 2.3 较昨日"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"异常预警"}),e.jsx("p",{className:"text-2xl font-bold",children:"4"})]}),e.jsx("div",{className:"h-12 w-12 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Me,{className:"w-6 h-6 text-red-600"})})]}),e.jsx("p",{className:"text-xs text-red-600 mt-2",children:"需要关注"})]})})]}),e.jsxs(Ye,{defaultValue:"progress",className:"w-full",children:[e.jsxs(qe,{className:"grid w-full grid-cols-5",children:[e.jsx(J,{value:"progress",children:"评审进度"}),e.jsx(J,{value:"distribution",children:"分数分布"}),e.jsx(J,{value:"workload",children:"工作量统计"}),e.jsx(J,{value:"quality",children:"质量指标"}),e.jsx(J,{value:"alerts",children:"异常预警"})]}),e.jsx(ee,{value:"progress",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"w-5 h-5"}),"各维度评审进度"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:d.map(f=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:f.dimension}),e.jsxs("span",{className:"text-sm text-gray-600",children:[f.completed,"/",f.total," (",f.percentage,"%)"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{value:f.percentage,className:"h-8"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"flex gap-2 text-xs",children:[e.jsxs("span",{className:"text-green-600",children:[f.completed," 完成"]}),e.jsxs("span",{className:"text-yellow-600",children:[f.inProgress," 进行中"]}),e.jsxs("span",{className:"text-gray-600",children:[f.pending," 待评"]})]})})]})]},f.dimension))})})]})}),e.jsx(ee,{value:"distribution",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Rl,{className:"w-5 h-5"}),"分数分布统计"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4",children:"分数段分布"}),e.jsx("div",{className:"space-y-3",children:m.map(f=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"w-20 text-sm",children:[f.range,"分"]}),e.jsx("div",{className:"flex-1",children:e.jsx(te,{value:f.percentage,className:"h-6"})}),e.jsxs("span",{className:"w-16 text-sm text-right",children:[f.count,"人 (",f.percentage,"%)"]})]},f.range))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4",children:"统计指标"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"最高分"}),e.jsx("span",{className:"font-medium",children:"96"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"最低分"}),e.jsx("span",{className:"font-medium",children:"52"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"平均分"}),e.jsx("span",{className:"font-medium",children:"78.2"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"中位数"}),e.jsx("span",{className:"font-medium",children:"76.5"})]}),e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"标准差"}),e.jsx("span",{className:"font-medium",children:"8.3"})]})]})]})]})})]})}),e.jsx(ee,{value:"workload",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ea,{className:"w-5 h-5"}),"专家工作量统计"]})}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"专家"}),e.jsx("th",{className:"text-center py-3 px-4",children:"状态"}),e.jsx("th",{className:"text-center py-3 px-4",children:"分配任务"}),e.jsx("th",{className:"text-center py-3 px-4",children:"已完成"}),e.jsx("th",{className:"text-center py-3 px-4",children:"完成率"}),e.jsx("th",{className:"text-center py-3 px-4",children:"平均用时"}),e.jsx("th",{className:"text-center py-3 px-4",children:"平均分"})]})}),e.jsx("tbody",{children:u.map(f=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${b(f.status)}`}),f.expertName]})}),e.jsx("td",{className:"text-center py-3 px-4",children:e.jsx(V,{variant:f.status==="active"?"default":"secondary",children:f.status==="active"?"在线":f.status==="idle"?"空闲":"离线"})}),e.jsx("td",{className:"text-center py-3 px-4",children:f.assigned}),e.jsx("td",{className:"text-center py-3 px-4",children:f.completed}),e.jsx("td",{className:"text-center py-3 px-4",children:e.jsxs("span",{className:f.completed/f.assigned>.8?"text-green-600":"",children:[Math.round(f.completed/f.assigned*100),"%"]})}),e.jsx("td",{className:"text-center py-3 px-4",children:f.avgTime}),e.jsx("td",{className:"text-center py-3 px-4",children:f.avgScore})]},f.expertId))})]})})})]})}),e.jsx(ee,{value:"quality",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"w-5 h-5"}),"评审质量指标"]})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(f=>e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium",children:f.indicator}),e.jsxs("span",{className:`text-sm ${x(f.status)}`,children:[f.value,"% ",j(f.trend)]})]}),e.jsx(te,{value:f.value,className:`h-2 ${f.status==="good"?"[&>div]:bg-green-500":f.status==="warning"?"[&>div]:bg-yellow-500":"[&>div]:bg-red-500"}`})]})},f.indicator))})})]})}),e.jsx(ee,{value:"alerts",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"w-5 h-5"}),"异常情况预警"]})}),e.jsxs(E,{children:[e.jsx("div",{className:"space-y-3",children:p.map(f=>e.jsxs(ue,{className:N(f.severity),children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsx("div",{className:"flex-1",children:e.jsxs(xe,{className:"flex items-center justify-between",children:[e.jsx("span",{children:f.message}),e.jsx("span",{className:"text-xs",children:f.timestamp})]})})]},f.id))}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx(S,{variant:"outline",size:"sm",children:"查看全部"}),e.jsx(S,{variant:"outline",size:"sm",children:"清除已读"})]})]})]})})]})]})}),e.jsx(Te,{})]})}function Wj(){const[s,t]=o.useState("1"),[a,n]=o.useState(""),[r,l]=o.useState("draft"),[i,c]=o.useState(!1),d=[{id:"1",name:"李小红",studentId:"U202100001",class:"机械2021级"},{id:"2",name:"张明",studentId:"U202100002",class:"机械2021级"},{id:"3",name:"王芳",studentId:"U202100003",class:"机械2021级"},{id:"4",name:"刘强",studentId:"U202100004",class:"机械2021级"},{id:"5",name:"陈雪",studentId:"U202100005",class:"机械2021级"}],[m,u]=o.useState([{id:"1",name:"社会责任感",description:"关心社会发展，积极参与社会公益活动，有强烈的社会责任意识",score:9,icon:e.jsx(na,{className:"w-5 h-5 text-red-500"})},{id:"2",name:"团队协作精神",description:"善于与他人合作，在团队中发挥积极作用，有良好的沟通能力",score:8,icon:e.jsx(He,{className:"w-5 h-5 text-blue-500"})},{id:"3",name:"学术诚信",description:"恪守学术道德，诚实守信，不弄虚作假，尊重知识产权",score:10,icon:e.jsx(Qs,{className:"w-5 h-5 text-green-500"})},{id:"4",name:"公益活动参与",description:"积极参加志愿服务、社会实践等公益活动，有奉献精神",score:7,icon:e.jsx(y3,{className:"w-5 h-5 text-purple-500"})},{id:"5",name:"集体荣誉感",description:"关心集体，维护集体利益，积极为集体争光，有强烈的归属感",score:9,icon:e.jsx(Kt,{className:"w-5 h-5 text-yellow-500"})}]),h=[{id:"1",date:"2024-01-15",evaluator:"张教授",totalScore:85,status:"submitted",comments:"该生品德优良，表现突出"},{id:"2",date:"2023-12-20",evaluator:"李教授",totalScore:82,status:"submitted",comments:"有进步空间，建议多参与集体活动"},{id:"3",date:"2023-11-10",evaluator:"王教授",totalScore:88,status:"submitted",comments:"品德表现优秀，值得表扬"}],p=d.find(w=>w.id===s),g=(w,D)=>{u(y=>y.map(T=>T.id===w?{...T,score:D[0]}:T))},b=()=>{const w=m.reduce((D,y)=>D+y.score,0);return Math.round(w/m.length*10)},N=()=>{l("draft"),c(!0),setTimeout(()=>c(!1),3e3)},j=()=>{l("submitted"),c(!0),setTimeout(()=>c(!1),3e3)},x=w=>w>=9?"text-green-600":w>=7?"text-blue-600":w>=6?"text-yellow-600":"text-red-600",f=w=>w>=90?{text:"优秀",color:"bg-green-100 text-green-700"}:w>=80?{text:"良好",color:"bg-blue-100 text-blue-700"}:w>=70?{text:"中等",color:"bg-yellow-100 text-yellow-700"}:w>=60?{text:"合格",color:"bg-orange-100 text-orange-700"}:{text:"待改进",color:"bg-red-100 text-red-700"};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"思想品德评价界面"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"导师：张教授"}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Ot,{className:"w-4 h-4 mr-2"}),"评价历史"]})]})]}),i&&e.jsxs(ue,{className:"mb-4 bg-green-50 border-green-200",children:[e.jsx(fe,{className:"h-4 w-4 text-green-600"}),e.jsx(xe,{className:"text-green-800",children:r==="submitted"?"评价已成功提交！":"草稿已保存！"})]}),e.jsxs(Ye,{defaultValue:"evaluate",className:"w-full",children:[e.jsxs(qe,{className:"grid w-full grid-cols-3",children:[e.jsx(J,{value:"evaluate",children:"进行评价"}),e.jsx(J,{value:"history",children:"历史记录"}),e.jsx(J,{value:"statistics",children:"统计分析"})]}),e.jsxs(ee,{value:"evaluate",className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"学生信息"})}),e.jsx(E,{children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(Xs,{className:"w-10 h-10 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs(ie,{value:s,onValueChange:t,children:[e.jsx(re,{className:"w-64",children:e.jsx(ce,{placeholder:"选择学生"})}),e.jsx(le,{children:d.map(w=>e.jsxs(W,{value:w.id,children:[w.name," - ",w.studentId]},w.id))})]}),p&&e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[e.jsxs("p",{children:["学号：",p.studentId]}),e.jsxs("p",{children:["班级：",p.class]})]})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"思想品德评价表"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"总分："}),e.jsxs("span",{className:`text-2xl font-bold ${x(b())}`,children:[b(),"/100"]}),e.jsx(V,{className:f(b()).color,children:f(b()).text})]})]})}),e.jsxs(E,{children:[e.jsx("div",{className:"space-y-6",children:m.map(w=>e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[w.icon,e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-medium",children:w.name}),e.jsxs("span",{className:`text-lg font-bold ${x(w.score)}`,children:[w.score,"分"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:w.description}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(is,{value:[w.score],onValueChange:D=>g(w.id,D),max:10,step:1,className:"flex-1"}),e.jsx("div",{className:"flex gap-1",children:[...Array(10)].map((D,y)=>e.jsx("div",{className:`w-2 h-2 rounded-full ${y<w.score?"bg-blue-500":"bg-gray-200"}`},y))})]})]})]})},w.id))}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx(H,{htmlFor:"comments",className:"text-base font-medium mb-2 block",children:"综合评语"}),e.jsx(Ie,{id:"comments",placeholder:"请输入对该生思想品德的综合评价...",value:a,onChange:w=>n(w.target.value),rows:4,className:"w-full"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"请客观、公正地评价学生的思想品德表现，提出改进建议"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["评价时间：",new Date().toLocaleDateString()]}),e.jsxs("p",{children:["评价状态：",e.jsx(V,{variant:r==="submitted"?"default":"secondary",children:r==="submitted"?"已提交":"草稿"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(S,{variant:"outline",onClick:N,children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"保存草稿"]}),e.jsxs(S,{onClick:j,children:[e.jsx(Os,{className:"w-4 h-4 mr-2"}),"提交评价"]})]})]})]})]})]}),e.jsx(ee,{value:"history",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"历史评价记录"}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"导出记录"]})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:h.map(w=>e.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(hs,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:w.date}),e.jsx(V,{variant:w.status==="submitted"?"default":"secondary",children:w.status==="submitted"?"已提交":"草稿"})]}),e.jsxs("p",{className:"font-medium",children:["评价人：",w.evaluator]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.comments})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-2xl font-bold ${x(w.totalScore)}`,children:[w.totalScore,"分"]}),e.jsx(V,{className:`mt-1 ${f(w.totalScore).color}`,children:f(w.totalScore).text})]})]})},w.id))})})]})}),e.jsxs(ee,{value:"statistics",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"维度分析"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:m.map(w=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[w.icon,e.jsx("span",{className:"text-sm",children:w.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{value:w.score*10,className:"w-24"}),e.jsxs("span",{className:"text-sm font-medium w-12 text-right",children:[w.score*10,"%"]})]})]},w.id))})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"评价趋势"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"85.3"}),e.jsx("p",{className:"text-sm text-gray-600",children:"平均得分"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[e.jsx("p",{className:"font-medium",children:"最高分"}),e.jsx("p",{className:"text-lg text-green-600",children:"88"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[e.jsx("p",{className:"font-medium",children:"最低分"}),e.jsx("p",{className:"text-lg text-red-600",children:"82"})]})]})]})})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"评价建议"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ue,{children:[e.jsx(Ds,{className:"h-4 w-4"}),e.jsx(xe,{children:"该生整体表现优秀，特别是在学术诚信和社会责任感方面表现突出"})]}),e.jsxs(ue,{children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx(xe,{children:"建议加强公益活动参与，提升社会实践经验"})]})]})})]})]})]})]})}),e.jsx(Te,{})]})}function Vj(){const[s,t]=o.useState(!1),[a,n]=o.useState(0),[r,l]=o.useState("all"),[i,c]=o.useState(!1),[d,m]=o.useState(new Set),u=[{dimension:"思想品德",weight:20,avgScore:82.5,contribution:16.5},{dimension:"课程成绩",weight:40,avgScore:78.3,contribution:31.3},{dimension:"科技创新",weight:25,avgScore:85.2,contribution:21.3},{dimension:"科研推进",weight:15,avgScore:76.8,contribution:11.5}],h=[{grade:"A级",range:"90-100",count:15,percentage:25},{grade:"B级",range:"80-89",count:28,percentage:47},{grade:"C级",range:"70-79",count:12,percentage:20},{grade:"D级",range:"60-69",count:5,percentage:8}],[p,g]=o.useState([{id:"1",name:"王某某",issue:"科技创新维度异常高",severity:"high",details:"科技创新得分96分，超过95分阈值，需要核实",status:"pending"},{id:"2",name:"李某某",issue:"各维度差异过大",severity:"medium",details:"最高分与最低分差异35分，超过30分阈值",status:"pending"},{id:"3",name:"张某某",issue:"总分偏低",severity:"low",details:"综合评分58分，低于60分及格线",status:"pending"}]),b=[{id:"1",timestamp:"2025-08-02 15:30:00",operator:"系统",action:"执行自动计算",result:"成功计算60名学生成绩"},{id:"2",timestamp:"2025-08-02 14:15:00",operator:"张秘书",action:"手动重新计算",result:"更新5名学生成绩"},{id:"3",timestamp:"2025-08-02 10:00:00",operator:"系统",action:"定时计算任务",result:"检测到3个异常情况"}],N=[{id:"1",name:"综合素质评价标准规则",formula:"思想品德×20% + 课程成绩×40% + 科技创新×25% + 科研推进×15%",weights:{moral:.2,academic:.4,innovation:.25,research:.15}}];o.useEffect(()=>{if(s){const y=setInterval(()=>{n(T=>T>=100?(t(!1),c(!0),setTimeout(()=>c(!1),3e3),100):T+10)},200);return()=>clearInterval(y)}},[s]);const j=()=>{n(0),t(!0)},x=y=>{m(new Set([...d,y])),g(T=>T.map(v=>v.id===y?{...v,status:"processed"}:v))},f=()=>u.reduce((y,T)=>y+T.contribution,0).toFixed(1),w=y=>{switch(y){case"high":return"text-red-600 bg-red-50";case"medium":return"text-yellow-600 bg-yellow-50";case"low":return"text-blue-600 bg-blue-50";default:return"text-gray-600 bg-gray-50"}},D=y=>{switch(y){case"A级":return"bg-green-500";case"B级":return"bg-blue-500";case"C级":return"bg-yellow-500";case"D级":return"bg-red-500";default:return"bg-gray-500"}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"综合素质评价 - 成绩核算"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(S,{variant:"outline",onClick:j,disabled:s,children:[e.jsx(Ke,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"重新计算"]}),e.jsxs(S,{variant:"outline",children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"导出"]})]})]}),i&&e.jsxs(ue,{className:"mb-4 bg-green-50 border-green-200",children:[e.jsx(fe,{className:"h-4 w-4 text-green-600"}),e.jsx(xe,{className:"text-green-800",children:"成绩计算完成！已成功计算60名学生的综合成绩。"})]}),s&&e.jsx(R,{className:"mb-6",children:e.jsxs(E,{className:"py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"正在计算中..."}),e.jsxs("span",{className:"text-sm text-gray-600",children:[a,"%"]})]}),e.jsx(te,{value:a,className:"h-2"})]})}),e.jsxs(Ye,{defaultValue:"overview",className:"w-full",children:[e.jsxs(qe,{className:"grid w-full grid-cols-5",children:[e.jsx(J,{value:"overview",children:"计算概览"}),e.jsx(J,{value:"distribution",children:"成绩分布"}),e.jsx(J,{value:"anomalies",children:"异常检测"}),e.jsx(J,{value:"rules",children:"计算规则"}),e.jsx(J,{value:"logs",children:"计算日志"})]}),e.jsxs(ee,{value:"overview",className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(xl,{className:"w-5 h-5"}),"计算规则预览"]})}),e.jsxs(E,{children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:e.jsx("p",{className:"text-lg font-mono text-center",children:"思想品德(20%) + 课程成绩(40%) + 科技创新(25%) + 科研推进(15%) = 总分(100%)"})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:u.map(y=>e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:y.dimension}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"权重："}),e.jsxs("span",{className:"font-medium",children:[y.weight,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"平均分："}),e.jsx("span",{className:"font-medium",children:y.avgScore})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"贡献分："}),e.jsx("span",{className:"font-bold text-blue-600",children:y.contribution})]})]})]})},y.dimension))}),e.jsxs("div",{className:"mt-4 text-center p-4 bg-gray-100 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"综合平均分"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:f()})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(R,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"已计算学生"}),e.jsx("p",{className:"text-2xl font-bold",children:"60"})]}),e.jsx(He,{className:"w-8 h-8 text-blue-500"})]})})}),e.jsx(R,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"异常情况"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:"3"})]}),e.jsx(Me,{className:"w-8 h-8 text-red-500"})]})})}),e.jsx(R,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"优秀率"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"25%"})]}),e.jsx(xs,{className:"w-8 h-8 text-green-500"})]})})})]})]}),e.jsx(ee,{value:"distribution",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"w-5 h-5"}),"成绩分布统计"]})}),e.jsxs(E,{children:[e.jsx("div",{className:"mb-4",children:e.jsxs(ie,{value:r,onValueChange:l,children:[e.jsx(re,{className:"w-48",children:e.jsx(ce,{placeholder:"选择班级"})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"全部班级"}),e.jsx(W,{value:"2021",children:"2021级"}),e.jsx(W,{value:"2022",children:"2022级"}),e.jsx(W,{value:"2023",children:"2023级"})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-4 gap-4",children:h.map(y=>e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"font-medium mb-2",children:y.grade}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["(",y.range,")"]}),e.jsx("div",{className:"relative h-32 flex items-end justify-center mb-2",children:e.jsx("div",{className:`w-16 ${D(y.grade)} rounded-t`,style:{height:`${y.percentage*1.2}%`}})}),e.jsxs("p",{className:"font-medium",children:[y.count,"人"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[y.percentage,"%"]})]},y.grade))}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"font-medium mb-3",children:"统计指标"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"最高分"}),e.jsx("p",{className:"text-xl font-bold",children:"96.5"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"最低分"}),e.jsx("p",{className:"text-xl font-bold",children:"58.2"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"平均分"}),e.jsx("p",{className:"text-xl font-bold",children:"80.6"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"标准差"}),e.jsx("p",{className:"text-xl font-bold",children:"8.7"})]})]})]})]})]})]})}),e.jsx(ee,{value:"anomalies",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-5 h-5"}),"异常提示"]}),e.jsxs(V,{variant:"destructive",children:[p.filter(y=>y.status==="pending").length," 待处理"]})]})}),e.jsxs(E,{children:[e.jsxs(ue,{className:"mb-4",children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsxs(xe,{children:["发现",p.length,"名学生分数异常，请核实相关信息"]})]}),e.jsx("div",{className:"space-y-3",children:p.map(y=>e.jsx("div",{className:`p-4 rounded-lg border ${y.status==="processed"?"bg-gray-50 opacity-60":""}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"font-medium",children:y.name}),e.jsxs(V,{className:w(y.severity),children:[y.severity==="high"?"高":y.severity==="medium"?"中":"低","优先级"]}),y.status==="processed"&&e.jsx(V,{variant:"outline",children:"已处理"})]}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:y.issue}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.details})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline",size:"sm",disabled:y.status==="processed",children:[e.jsx(Le,{className:"w-4 h-4 mr-1"}),"查看详情"]}),y.status==="pending"&&e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>x(y.id),children:[e.jsx(Dl,{className:"w-4 h-4 mr-1"}),"标记已处理"]})]})]})},y.id))})]})]})}),e.jsx(ee,{value:"rules",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5"}),"计算规则配置"]})}),e.jsxs(E,{children:[N.map(y=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:y.name}),e.jsx("div",{className:"bg-gray-50 p-3 rounded mb-3",children:e.jsx("p",{className:"font-mono text-sm",children:y.formula})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(y.weights).map(([T,v])=>e.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded",children:[e.jsx("p",{className:"text-xs text-gray-600 capitalize",children:T}),e.jsxs("p",{className:"font-bold",children:[(v*100).toFixed(0),"%"]})]},T))})]},y.id)),e.jsx("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(En,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-yellow-800",children:"计算说明"}),e.jsxs("ul",{className:"mt-1 space-y-1 text-yellow-700",children:[e.jsx("li",{children:"• 系统每日凌晨自动执行计算任务"}),e.jsx("li",{children:"• 手动重新计算将覆盖之前的结果"}),e.jsx("li",{children:"• 异常分数需要人工确认后才能生效"}),e.jsx("li",{children:"• 计算结果将自动同步到学生档案"})]})]})]})})]})]})}),e.jsx(ee,{value:"logs",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-5 h-5"}),"计算日志记录"]})}),e.jsx(E,{children:e.jsxs(On,{children:[e.jsx(_n,{children:e.jsxs(Hs,{children:[e.jsx(Xe,{children:"时间"}),e.jsx(Xe,{children:"操作人"}),e.jsx(Xe,{children:"操作"}),e.jsx(Xe,{children:"结果"}),e.jsx(Xe,{className:"text-right",children:"操作"})]})}),e.jsx(Ln,{children:b.map(y=>e.jsxs(Hs,{children:[e.jsx(Re,{className:"text-sm",children:y.timestamp}),e.jsx(Re,{children:e.jsx(V,{variant:y.operator==="系统"?"secondary":"default",children:y.operator})}),e.jsx(Re,{children:y.action}),e.jsx(Re,{className:"text-sm",children:y.result}),e.jsx(Re,{className:"text-right",children:e.jsx(S,{variant:"ghost",size:"sm",children:e.jsx(Us,{className:"w-4 h-4"})})})]},y.id))})]})})]})})]})]})}),e.jsx(Te,{})]})}const Uj=()=>{const[s,t]=o.useState(!1),[a,n]=o.useState([]),r=[{component:"思想品德",weight:20},{component:"课程成绩",weight:40},{component:"科技创新",weight:25},{component:"科研推进",weight:15}],l=[{level:"A级",range:"90-100",count:15,percentage:25,color:"#10b981"},{level:"B级",range:"80-89",count:28,percentage:47,color:"#3b82f6"},{level:"C级",range:"70-79",count:12,percentage:20,color:"#f59e0b"},{level:"D级",range:"60-69",count:5,percentage:8,color:"#ef4444"}],i=[{id:"1",name:"王某某",issue:"科技创新维度异常高(>95)",severity:"high"},{id:"2",name:"李某某",issue:"各维度差异过大(>30分)",severity:"medium"},{id:"3",name:"张某某",issue:"缺少科研推进成绩",severity:"high"}],c=l.reduce((p,g)=>p+g.count,0),d=async()=>{t(!0),await new Promise(p=>setTimeout(p,2e3)),t(!1),alert("成绩重新计算完成！")},m=()=>{const p={calculationRules:r,gradeLevels:l,anomalies:i,exportTime:new Date().toISOString()},g=new Blob([JSON.stringify(p,null,2)],{type:"application/json"}),b=URL.createObjectURL(g),N=document.createElement("a");N.href=b,N.download=`grade-preview-${new Date().toISOString().split("T")[0]}.json`,N.click(),URL.revokeObjectURL(b)},u=p=>{n(g=>g.includes(p)?g.filter(b=>b!==p):[...g,p])},h=()=>Math.max(...l.map(p=>p.percentage));return e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"综合素质评价 - 成绩核算"}),e.jsxs("div",{className:"space-x-2",children:[e.jsxs(S,{onClick:d,disabled:s,variant:"outline",children:[e.jsx(Ke,{className:`mr-2 h-4 w-4 ${s?"animate-spin":""}`}),"重新计算"]}),e.jsxs(S,{onClick:m,children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"导出"]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"计算规则预览"})}),e.jsx(E,{children:e.jsx("div",{className:"flex items-center justify-center bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"text-lg font-medium text-center",children:[r.map((p,g)=>e.jsxs("span",{children:[p.component,"(",p.weight,"%)",g<r.length-1?" + ":" = "]},p.component)),"总分(100%)"]})})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center",children:[e.jsx(Kt,{className:"mr-2 h-5 w-5"}),"成绩分布统计"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:c}),e.jsx("div",{className:"text-sm text-gray-500",children:"总人数"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(l[0].count/c*100),"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"优秀率"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round((l[0].count+l[1].count)/c*100),"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"良好以上"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Math.round(l[3].count/c*100),"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"待提升"})]})]}),e.jsx("div",{className:"space-y-4",children:l.map(p=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"font-medium w-12",children:p.level}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",p.range,")"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"font-medium",children:[p.count,"人"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[p.percentage,"%"]})]})]}),e.jsx("div",{className:"relative w-full bg-gray-200 rounded-full h-8",children:e.jsx("div",{className:"absolute top-0 left-0 h-full rounded-full flex items-center justify-center text-white font-medium transition-all duration-500",style:{width:`${p.percentage/h()*100}%`,backgroundColor:p.color},children:p.percentage>10&&`${p.percentage}%`})})]},p.level))})]})})]}),i.length>0&&e.jsxs(R,{className:"border-orange-200",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center text-orange-600",children:[e.jsx(Me,{className:"mr-2 h-5 w-5"}),"异常提示"]})}),e.jsxs(E,{children:[e.jsxs(ue,{className:"mb-4",children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsxs(xe,{children:["发现",i.length,"名学生分数异常，请仔细核查："]})]}),e.jsx("div",{className:"space-y-3",children:i.map(p=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${a.includes(p.id)?"bg-gray-50 border-gray-300":p.severity==="high"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(He,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:p.name}),e.jsxs("span",{className:"text-sm text-gray-600",children:["- ",p.issue]})]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(S,{size:"sm",variant:"outline",onClick:()=>alert(`查看${p.name}的详细信息`),children:"查看详情"}),e.jsx(S,{size:"sm",variant:a.includes(p.id)?"default":"outline",onClick:()=>u(p.id),children:a.includes(p.id)?"已处理":"标记已处理"})]})]},p.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"批量操作"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{className:"w-full",variant:"outline",children:"批量成绩查看"}),e.jsx(S,{className:"w-full",variant:"outline",children:"分数调整预览"})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"导出选项"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{className:"w-full",variant:"outline",children:"导出Excel报表"}),e.jsx(S,{className:"w-full",variant:"outline",children:"生成PDF报告"})]})})]})]})]})},qj=()=>{const[s,t]=o.useState([]),[a,n]=o.useState([]),[r,l]=o.useState("all"),[i,c]=o.useState("all"),[d,m]=o.useState("all"),[u,h]=o.useState(!1),[p,g]=o.useState({total:0,byType:{},bySeverity:{},byStatus:{},resolutionRate:0,averageResolutionTime:0});o.useEffect(()=>{const y=[{id:"1",studentId:"S001",studentName:"王某某",type:"high_score",severity:"critical",dimension:"科技创新",score:98,expectedRange:{min:60,max:95},deviation:3,cause:"单项得分异常高，超出预期范围",suggestion:"请核查该学生科技创新项目的真实性和评分标准",detectedAt:new Date("2025-08-01"),status:"pending"},{id:"2",studentId:"S002",studentName:"李某某",type:"dimension_variance",severity:"high",dimension:"全部维度",score:75,expectedRange:{min:70,max:85},deviation:35,cause:"各维度分数差异过大（最高95，最低60）",suggestion:"建议复核各维度评分，确保评分标准一致",detectedAt:new Date("2025-08-01"),status:"reviewing",reviewer:"张老师"},{id:"3",studentId:"S003",studentName:"张某某",type:"missing_data",severity:"high",dimension:"科研推进",score:0,expectedRange:{min:60,max:90},deviation:-60,cause:"缺少必要的评分数据",suggestion:"请联系相关导师补充科研推进评分",detectedAt:new Date("2025-07-30"),status:"resolved",reviewer:"李老师",reviewNote:"已补充评分"},{id:"4",studentId:"S004",studentName:"刘某某",type:"sudden_change",severity:"medium",dimension:"课程成绩",score:95,expectedRange:{min:70,max:80},deviation:15,cause:"相比历史成绩有突然大幅提升",suggestion:"核查是否有特殊原因导致成绩提升",detectedAt:new Date("2025-07-29"),status:"false_positive",reviewer:"王老师",reviewNote:"学生参加了暑期强化班，成绩提升合理"},{id:"5",studentId:"S005",studentName:"陈某某",type:"outlier",severity:"low",dimension:"思想品德",score:65,expectedRange:{min:75,max:95},deviation:-10,cause:"分数低于同组平均值2个标准差",suggestion:"检查是否有遗漏的加分项",detectedAt:new Date("2025-08-02"),status:"pending"}];t(y),n(y),b(y)},[]),o.useEffect(()=>{let y=s;r!=="all"&&(y=y.filter(T=>T.type===r)),i!=="all"&&(y=y.filter(T=>T.severity===i)),d!=="all"&&(y=y.filter(T=>T.status===d)),n(y)},[s,r,i,d]);const b=y=>{const T={total:y.length,byType:{},bySeverity:{},byStatus:{},resolutionRate:0,averageResolutionTime:0};y.forEach(P=>{T.byType[P.type]=(T.byType[P.type]||0)+1,T.bySeverity[P.severity]=(T.bySeverity[P.severity]||0)+1,T.byStatus[P.status]=(T.byStatus[P.status]||0)+1});const v=y.filter(P=>P.status==="resolved"||P.status==="false_positive").length;T.resolutionRate=y.length>0?v/y.length*100:0,T.averageResolutionTime=48,g(T)},N=async()=>{h(!0),await new Promise(y=>setTimeout(y,3e3)),h(!1),alert("异常检测分析完成！发现5个新的异常情况。")},j=(y,T)=>{t(v=>v.map(P=>P.id===y?{...P,status:T,reviewer:"当前用户"}:P))},x=y=>({high_score:"异常高分",dimension_variance:"维度差异",missing_data:"数据缺失",sudden_change:"突变异常",outlier:"离群值"})[y]||y,f=y=>({critical:"destructive",high:"destructive",medium:"warning",low:"secondary"})[y]||"default",w=y=>{switch(y){case"resolved":return e.jsx(bd,{className:"h-4 w-4 text-green-500"});case"false_positive":return e.jsx(Ks,{className:"h-4 w-4 text-gray-500"});case"reviewing":return e.jsx(Ce,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(Me,{className:"h-4 w-4 text-orange-500"})}},D=()=>{const y={generatedAt:new Date().toISOString(),statistics:p,anomalies:a,filters:{type:r,severity:i,status:d}},T=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),v=URL.createObjectURL(T),P=document.createElement("a");P.href=v,P.download=`anomaly-report-${new Date().toISOString().split("T")[0]}.json`,P.click(),URL.revokeObjectURL(v)};return e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"异常检测系统"}),e.jsxs("div",{className:"space-x-2",children:[e.jsxs(S,{onClick:N,disabled:u,variant:"outline",children:[e.jsx(Ke,{className:`mr-2 h-4 w-4 ${u?"animate-spin":""}`}),"运行分析"]}),e.jsxs(S,{onClick:D,children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"导出报告"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(R,{children:[e.jsx(O,{className:"pb-3",children:e.jsx(L,{className:"text-sm font-medium",children:"总异常数"})}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.total}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["待处理: ",p.byStatus.pending||0]})]})]}),e.jsxs(R,{children:[e.jsx(O,{className:"pb-3",children:e.jsx(L,{className:"text-sm font-medium",children:"严重程度分布"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-red-600",children:"严重"}),e.jsx("span",{children:p.bySeverity.critical||0})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-orange-600",children:"高"}),e.jsx("span",{children:p.bySeverity.high||0})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-yellow-600",children:"中"}),e.jsx("span",{children:p.bySeverity.medium||0})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{className:"pb-3",children:e.jsx(L,{className:"text-sm font-medium",children:"解决率"})}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[p.resolutionRate.toFixed(1),"%"]}),e.jsx(te,{value:p.resolutionRate,className:"mt-2"})]})]}),e.jsxs(R,{children:[e.jsx(O,{className:"pb-3",children:e.jsx(L,{className:"text-sm font-medium",children:"平均处理时间"})}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[p.averageResolutionTime,"h"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"较上周 -12%"})]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center",children:[e.jsx(rn,{className:"mr-2 h-5 w-5"}),"筛选条件"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"异常类型"}),e.jsxs(ie,{value:r,onValueChange:l,children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"全部类型"}),e.jsx(W,{value:"high_score",children:"异常高分"}),e.jsx(W,{value:"dimension_variance",children:"维度差异"}),e.jsx(W,{value:"missing_data",children:"数据缺失"}),e.jsx(W,{value:"sudden_change",children:"突变异常"}),e.jsx(W,{value:"outlier",children:"离群值"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"严重程度"}),e.jsxs(ie,{value:i,onValueChange:c,children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"全部等级"}),e.jsx(W,{value:"critical",children:"严重"}),e.jsx(W,{value:"high",children:"高"}),e.jsx(W,{value:"medium",children:"中"}),e.jsx(W,{value:"low",children:"低"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"处理状态"}),e.jsxs(ie,{value:d,onValueChange:m,children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"全部状态"}),e.jsx(W,{value:"pending",children:"待处理"}),e.jsx(W,{value:"reviewing",children:"审核中"}),e.jsx(W,{value:"resolved",children:"已解决"}),e.jsx(W,{value:"false_positive",children:"误报"})]})]})]})]})})]}),e.jsxs(Ye,{defaultValue:"list",className:"w-full",children:[e.jsxs(qe,{children:[e.jsx(J,{value:"list",children:"异常列表"}),e.jsx(J,{value:"analysis",children:"原因分析"}),e.jsx(J,{value:"trends",children:"趋势图表"})]}),e.jsx(ee,{value:"list",className:"space-y-4",children:a.map(y=>e.jsx(R,{className:"hover:shadow-lg transition-shadow",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[w(y.status),e.jsx("h3",{className:"font-semibold text-lg",children:y.studentName}),e.jsx(V,{variant:f(y.severity),children:y.severity==="critical"?"严重":y.severity==="high"?"高":y.severity==="medium"?"中":"低"}),e.jsx(V,{variant:"outline",children:x(y.type)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"维度："}),y.dimension]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"分数："}),e.jsx("span",{className:"text-red-600 font-bold",children:y.score}),e.jsxs("span",{className:"text-gray-500",children:[" (预期: ",y.expectedRange.min,"-",y.expectedRange.max,")"]})]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"偏差："}),y.deviation>0?"+":"",y.deviation]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"检测时间："}),y.detectedAt.toLocaleDateString()]})]})]}),e.jsxs(ue,{className:"mb-4",children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsxs(xe,{children:[e.jsx("strong",{children:"原因："}),y.cause]})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-md mb-4",children:e.jsxs("p",{className:"text-sm",children:[e.jsx(Ts,{className:"inline h-4 w-4 mr-1 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"建议："}),y.suggestion]})}),y.reviewer&&e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[e.jsx(Xs,{className:"inline h-4 w-4 mr-1"}),e.jsx("span",{className:"font-medium",children:"处理人："}),y.reviewer,y.reviewNote&&e.jsxs("span",{children:[" - ",y.reviewNote]})]})]}),e.jsxs("div",{className:"ml-4 space-y-2",children:[y.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(S,{size:"sm",onClick:()=>j(y.id,"reviewing"),children:"开始审核"}),e.jsx(S,{size:"sm",variant:"outline",onClick:()=>j(y.id,"false_positive"),children:"标记误报"})]}),y.status==="reviewing"&&e.jsxs(e.Fragment,{children:[e.jsx(S,{size:"sm",onClick:()=>j(y.id,"resolved"),children:"标记解决"}),e.jsx(S,{size:"sm",variant:"outline",children:"添加备注"})]}),e.jsxs(S,{size:"sm",variant:"outline",children:[e.jsx(Ne,{className:"h-4 w-4 mr-1"}),"查看详情"]})]})]})})},y.id))}),e.jsxs(ee,{value:"analysis",className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"异常原因分布分析"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"评分标准不一致"}),e.jsx("span",{className:"text-sm text-gray-500",children:"35%"})]}),e.jsx(te,{value:35})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"数据录入错误"}),e.jsx("span",{className:"text-sm text-gray-500",children:"25%"})]}),e.jsx(te,{value:25})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"系统计算异常"}),e.jsx("span",{className:"text-sm text-gray-500",children:"20%"})]}),e.jsx(te,{value:20})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"特殊情况"}),e.jsx("span",{className:"text-sm text-gray-500",children:"15%"})]}),e.jsx(te,{value:15})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"其他原因"}),e.jsx("span",{className:"text-sm text-gray-500",children:"5%"})]}),e.jsx(te,{value:5})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"改进建议"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(ue,{children:e.jsxs(xe,{children:[e.jsx("strong",{children:"1. 统一评分标准："}),"建议制定更详细的评分细则，减少主观判断差异"]})}),e.jsx(ue,{children:e.jsxs(xe,{children:[e.jsx("strong",{children:"2. 加强数据验证："}),"在数据录入时增加实时验证，减少录入错误"]})}),e.jsx(ue,{children:e.jsxs(xe,{children:[e.jsx("strong",{children:"3. 定期培训："}),"对评分人员进行定期培训，确保理解评分标准"]})})]})})]})]}),e.jsxs(ee,{value:"trends",className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"异常检测趋势"})}),e.jsx(E,{children:e.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xo,{className:"h-12 w-12 text-green-500 mx-auto mb-2"}),e.jsx("p",{className:"text-lg font-medium",children:"异常数量呈下降趋势"}),e.jsx("p",{className:"text-sm text-gray-500",children:"较上月减少23%"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"按时间分布"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"本周"}),e.jsx("span",{className:"font-medium",children:"12个"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"上周"}),e.jsx("span",{className:"font-medium",children:"18个"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"本月"}),e.jsx("span",{className:"font-medium",children:"45个"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"上月"}),e.jsx("span",{className:"font-medium",children:"58个"})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"按维度分布"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"科技创新"}),e.jsx("span",{className:"font-medium",children:"28%"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"课程成绩"}),e.jsx("span",{className:"font-medium",children:"25%"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"科研推进"}),e.jsx("span",{className:"font-medium",children:"23%"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"思想品德"}),e.jsx("span",{className:"font-medium",children:"24%"})]})]})})]})]})]})]})]})},Hj=()=>{const[s,t]=o.useState([]),[a,n]=o.useState([]),[r,l]=o.useState("review"),[i,c]=o.useState([]),[d,m]=o.useState(""),[u,h]=o.useState("approve"),[p,g]=o.useState([]),[b,N]=o.useState(!1);o.useEffect(()=>{const T=[{id:"1",name:"王某某",studentId:"S001",class:"计算机科学与技术1班",finalScore:92.5,grade:"A",dimensions:{moral:95,course:90,innovation:94,research:91},status:"pending",reviewers:["张教授","李教授","王教授"],votes:{approve:0,reject:0,abstain:0}},{id:"2",name:"李某某",studentId:"S002",class:"计算机科学与技术1班",finalScore:85.3,grade:"B",dimensions:{moral:88,course:82,innovation:86,research:85},status:"reviewing",reviewers:["张教授","李教授","王教授"],votes:{approve:2,reject:0,abstain:1}},{id:"3",name:"张某某",studentId:"S003",class:"计算机科学与技术2班",finalScore:78.6,grade:"C",dimensions:{moral:80,course:75,innovation:79,research:80},status:"approved",reviewers:["张教授","李教授","王教授"],votes:{approve:3,reject:0,abstain:0}}],v=[{id:"1",studentId:"2",reviewer:"张教授",timestamp:new Date("2025-08-01T10:00:00"),comment:"各项成绩均衡，符合培养要求。",vote:"approve"},{id:"2",studentId:"2",reviewer:"李教授",timestamp:new Date("2025-08-01T11:00:00"),comment:"科研推进方面还有提升空间，但整体表现良好。",vote:"approve"}],P=[{id:"1",action:"开始审核",reviewer:"系统",timestamp:new Date("2025-08-01T09:00:00"),details:"综合成绩计算完成，进入专家审核阶段"},{id:"2",action:"投票",reviewer:"张教授",timestamp:new Date("2025-08-01T10:00:00"),details:"对李某某投票：通过"}];t(T),c(v),g(P)},[]);const j=T=>{var k;if(!d.trim()){alert("请填写审核意见");return}const v={id:Date.now().toString(),studentId:T,reviewer:"当前专家",timestamp:new Date,comment:d,vote:u};c([...i,v]),t(C=>C.map(M=>{if(M.id===T){const z={...M.votes};return z[u]++,{...M,votes:z,status:z.approve>=2?"approved":"reviewing"}}return M}));const P={id:Date.now().toString(),action:"投票",reviewer:"当前专家",timestamp:new Date,details:`对${(k=s.find(C=>C.id===T))==null?void 0:k.name}投票：${u==="approve"?"通过":u==="reject"?"不通过":"弃权"}`};g([...p,P]),m(""),alert("投票成功！")},x=async()=>{if(a.length===0){alert("请选择需要批量确认的学生");return}N(!0),await new Promise(T=>setTimeout(T,2e3)),t(T=>T.map(v=>a.includes(v.id)?{...v,status:"approved"}:v)),n([]),N(!1),alert(`已批量确认${a.length}名学生的成绩`)},f=()=>{const T={generatedAt:new Date().toISOString(),totalStudents:s.length,approved:s.filter(C=>C.status==="approved").length,rejected:s.filter(C=>C.status==="rejected").length,pending:s.filter(C=>C.status==="pending").length,reviewing:s.filter(C=>C.status==="reviewing").length,students:s,comments:i,history:p},v=new Blob([JSON.stringify(T,null,2)],{type:"application/json"}),P=URL.createObjectURL(v),k=document.createElement("a");k.href=P,k.download=`review-report-${new Date().toISOString().split("T")[0]}.json`,k.click(),URL.revokeObjectURL(P)},w=T=>{switch(T){case"approved":return e.jsx(bd,{className:"h-5 w-5 text-green-500"});case"rejected":return e.jsx(Ks,{className:"h-5 w-5 text-red-500"});case"reviewing":return e.jsx(Ce,{className:"h-5 w-5 text-blue-500"});default:return e.jsx(ze,{className:"h-5 w-5 text-yellow-500"})}},D=T=>{switch(T){case"A":return"text-green-600 bg-green-50";case"B":return"text-blue-600 bg-blue-50";case"C":return"text-yellow-600 bg-yellow-50";case"D":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},y=s.filter(T=>T.status==="approved").length/s.length*100;return e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"审核确认流程"}),e.jsxs("div",{className:"space-x-2",children:[e.jsxs(S,{onClick:f,children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"生成报告"]}),e.jsxs(S,{variant:"outline",children:[e.jsx(Ot,{className:"mr-2 h-4 w-4"}),"查看历史"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(R,{children:[e.jsx(O,{className:"pb-3",children:e.jsx(L,{className:"text-sm font-medium",children:"待审核"})}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.filter(T=>T.status==="pending").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"需要专家组审核"})]})]}),e.jsxs(R,{children:[e.jsx(O,{className:"pb-3",children:e.jsx(L,{className:"text-sm font-medium",children:"审核中"})}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.filter(T=>T.status==="reviewing").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"正在收集投票"})]})]}),e.jsxs(R,{children:[e.jsx(O,{className:"pb-3",children:e.jsx(L,{className:"text-sm font-medium",children:"已通过"})}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.filter(T=>T.status==="approved").length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["通过率: ",y.toFixed(1),"%"]})]})]}),e.jsxs(R,{children:[e.jsx(O,{className:"pb-3",children:e.jsx(L,{className:"text-sm font-medium",children:"专家组"})}),e.jsxs(E,{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{className:"text-xl font-bold",children:"3"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"参与审核专家"})]})]})]}),e.jsxs(Ye,{value:r,onValueChange:l,children:[e.jsxs(qe,{children:[e.jsx(J,{value:"review",children:"成绩审核"}),e.jsx(J,{value:"comments",children:"审核意见"}),e.jsx(J,{value:"history",children:"审核历史"})]}),e.jsxs(ee,{value:"review",className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-lg",children:"批量操作"})}),e.jsx(E,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["已选择 ",a.length," 名学生"]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(S,{size:"sm",variant:"outline",onClick:()=>n(s.map(T=>T.id)),children:"全选"}),e.jsx(S,{size:"sm",variant:"outline",onClick:()=>n([]),children:"取消选择"}),e.jsx(S,{size:"sm",onClick:x,disabled:a.length===0||b,children:"批量确认"})]})]})})]}),s.map(T=>e.jsx(R,{className:"hover:shadow-lg transition-shadow",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(Ae,{checked:a.includes(T.id),onCheckedChange:v=>{n(v?[...a,T.id]:a.filter(P=>P!==T.id))}}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[w(T.status),e.jsx("h3",{className:"font-semibold text-lg",children:T.name}),e.jsx("span",{className:"text-sm text-gray-500",children:T.studentId}),e.jsxs(V,{className:D(T.grade),children:[T.grade,"级"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"班级："}),T.class]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"最终成绩："}),e.jsx("span",{className:"text-lg font-bold text-blue-600",children:T.finalScore})]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium mb-1",children:"各维度成绩："}),e.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[e.jsxs("span",{children:["思想品德: ",T.dimensions.moral]}),e.jsxs("span",{children:["课程成绩: ",T.dimensions.course]}),e.jsxs("span",{children:["科技创新: ",T.dimensions.innovation]}),e.jsxs("span",{children:["科研推进: ",T.dimensions.research]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"投票情况"}),e.jsx("span",{className:"text-xs text-gray-500",children:"需要至少2票通过"})]}),e.jsxs("div",{className:"flex space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(mo,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsxs("span",{children:["通过: ",T.votes.approve]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(hy,{className:"h-4 w-4 text-red-500 mr-1"}),e.jsxs("span",{children:["不通过: ",T.votes.reject]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ze,{className:"h-4 w-4 text-gray-500 mr-1"}),e.jsxs("span",{children:["弃权: ",T.votes.abstain]})]})]}),e.jsx(te,{value:T.votes.approve/2*100,className:"mt-2"})]}),T.status==="pending"||T.status==="reviewing"?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(H,{children:"审核意见"}),e.jsx(Ie,{placeholder:"请输入您的审核意见...",value:d,onChange:v=>m(v.target.value),className:"mt-1",rows:3})]}),e.jsxs("div",{children:[e.jsx(H,{children:"投票决定"}),e.jsxs(zl,{value:u,onValueChange:v=>h(v),className:"flex space-x-4 mt-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rt,{value:"approve",id:"approve"}),e.jsx(H,{htmlFor:"approve",className:"cursor-pointer",children:"通过"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rt,{value:"reject",id:"reject"}),e.jsx(H,{htmlFor:"reject",className:"cursor-pointer",children:"不通过"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rt,{value:"abstain",id:"abstain"}),e.jsx(H,{htmlFor:"abstain",className:"cursor-pointer",children:"弃权"})]})]})]}),e.jsxs(S,{onClick:()=>j(T.id),className:"w-full",children:[e.jsx(Os,{className:"mr-2 h-4 w-4"}),"提交审核意见"]})]}):e.jsxs(ue,{className:"bg-green-50 border-green-200",children:[e.jsx(bd,{className:"h-4 w-4 text-green-600"}),e.jsx(xe,{className:"text-green-800",children:"该学生成绩已通过审核确认"})]})]})]}),e.jsx("div",{className:"ml-4",children:e.jsxs(S,{size:"sm",variant:"outline",children:[e.jsx(Le,{className:"h-4 w-4 mr-1"}),"查看详情"]})})]})})},T.id))]}),e.jsx(ee,{value:"comments",className:"space-y-4",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center",children:[e.jsx(xt,{className:"mr-2 h-5 w-5"}),"审核意见记录"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:i.map(T=>{var v;return e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:T.reviewer}),e.jsx(V,{variant:T.vote==="approve"?"default":"destructive",children:T.vote==="approve"?"通过":T.vote==="reject"?"不通过":"弃权"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:T.timestamp.toLocaleString()})]}),e.jsx("p",{className:"text-sm text-gray-700",children:T.comment}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["学生: ",(v=s.find(P=>P.id===T.studentId))==null?void 0:v.name]})]},T.id)})})})]})}),e.jsx(ee,{value:"history",className:"space-y-4",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center",children:[e.jsx(Ot,{className:"mr-2 h-5 w-5"}),"审核历史记录"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:p.map(T=>e.jsxs("div",{className:"flex items-start space-x-3 pb-3 border-b last:border-0",children:[e.jsx("div",{className:"mt-1",children:e.jsx(Qs,{className:"h-4 w-4 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-sm",children:T.action}),e.jsx("span",{className:"text-xs text-gray-500",children:T.timestamp.toLocaleString()})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:T.details}),e.jsxs("p",{className:"text-xs text-gray-500",children:["操作人: ",T.reviewer]})]})]},T.id))})})]})})]})]})},Gj=()=>{const[s,t]=o.useState([]),[a,n]=o.useState([]),[r,l]=o.useState([]),[i,c]=o.useState([]),[d,m]=o.useState(null),[u,h]=o.useState(""),[p,g]=o.useState(!1),[b,N]=o.useState(!1),[j,x]=o.useState("lock-management"),f={id:"1",name:"张老师",role:"secretary",permissions:["lock_grades","unlock_grades","view_logs","manage_strategies"]};o.useEffect(()=>{w()},[]);const w=()=>{t([{id:"1",studentId:"S001",studentName:"王明",lockStatus:"locked",lockedBy:"李老师",lockTime:"2024-01-15 14:30:00",lockReason:"成绩确认完成，防止误操作修改",version:2},{id:"2",studentId:"S002",studentName:"张丽",lockStatus:"unlocked",lockedBy:"李老师",lockTime:"2024-01-15 14:32:00",lockReason:"成绩确认完成",unlockRequester:"张老师",unlockReason:"发现成绩录入错误，需要修正",unlockTime:"2024-01-16 09:15:00",version:3},{id:"3",studentId:"S003",studentName:"李华",lockStatus:"pending_unlock",lockedBy:"李老师",lockTime:"2024-01-15 14:35:00",lockReason:"成绩确认完成",unlockRequester:"王老师",unlockReason:"学生申诉，需要重新评分",version:1}]),n([{id:"1",studentId:"S001",studentName:"王明",operation:"lock",operator:"李老师",timestamp:"2024-01-15 14:30:00",description:"锁定学生成绩"},{id:"2",studentId:"S002",studentName:"张丽",operation:"unlock",operator:"张老师",timestamp:"2024-01-16 09:15:00",description:"解锁学生成绩用于修正"}]),l([{id:"1",backupTime:"2024-01-15 23:00:00",operator:"系统自动",recordCount:150,status:"completed",filePath:"/backups/grades_20240115.json"},{id:"2",backupTime:"2024-01-14 23:00:00",operator:"系统自动",recordCount:148,status:"completed",filePath:"/backups/grades_20240114.json"}]),c([{id:"1",name:"自动锁定策略",description:"当所有评分完成且经过专家审核后自动锁定",autoLockConditions:["所有维度评分完成","专家组审核通过","无异常检测"],requiredApprovers:["专家组长","系统管理员"],isActive:!0},{id:"2",name:"期末锁定策略",description:"期末成绩发布前自动锁定所有成绩",autoLockConditions:["到达锁定时间","成绩审核完成"],requiredApprovers:["教务处长"],lockDuration:72,isActive:!0}])},D=async(C,M)=>{g(!0);try{await new Promise(I=>setTimeout(I,1e3)),t(I=>I.map(F=>F.id===C?{...F,lockStatus:"locked",lockedBy:f.name,lockTime:new Date().toISOString(),lockReason:M,version:F.version+1}:F));const z=s.find(I=>I.id===C);if(z){const I={id:Date.now().toString(),studentId:z.studentId,studentName:z.studentName,operation:"lock",operator:f.name,timestamp:new Date().toISOString(),description:`锁定成绩: ${M}`};n(F=>[I,...F])}alert("成绩锁定成功！")}catch{alert("锁定失败，请重试")}finally{g(!1)}},y=async C=>{if(!u.trim()){alert("请填写解锁原因");return}g(!0);try{await new Promise(z=>setTimeout(z,1e3)),t(z=>z.map(I=>I.id===C.id?{...I,lockStatus:"pending_unlock",unlockRequester:f.name,unlockReason:u,version:I.version+1}:I));const M={id:Date.now().toString(),studentId:C.studentId,studentName:C.studentName,operation:"unlock",operator:f.name,timestamp:new Date().toISOString(),description:`申请解锁: ${u}`};n(z=>[M,...z]),N(!1),h(""),m(null),alert("解锁申请已提交，等待审批")}catch{alert("申请提交失败，请重试")}finally{g(!1)}},T=async C=>{g(!0);try{await new Promise(z=>setTimeout(z,1e3)),t(z=>z.map(I=>I.id===C?{...I,lockStatus:"unlocked",unlockTime:new Date().toISOString(),version:I.version+1}:I));const M=s.find(z=>z.id===C);if(M){const z={id:Date.now().toString(),studentId:M.studentId,studentName:M.studentName,operation:"unlock",operator:f.name,timestamp:new Date().toISOString(),description:"批准解锁申请"};n(I=>[z,...I])}alert("解锁申请已批准")}catch{alert("操作失败，请重试")}finally{g(!1)}},v=async()=>{g(!0);try{await new Promise(M=>setTimeout(M,2e3));const C={id:Date.now().toString(),backupTime:new Date().toISOString(),operator:f.name,recordCount:s.length,status:"completed",filePath:`/backups/grades_${new Date().toISOString().split("T")[0]}.json`};l(M=>[C,...M]),alert("备份创建成功！")}catch{alert("备份失败，请重试")}finally{g(!1)}},P=C=>{switch(C){case"locked":return e.jsxs(V,{className:"bg-red-100 text-red-800",children:[e.jsx(Hr,{className:"w-3 h-3 mr-1"}),"已锁定"]});case"unlocked":return e.jsxs(V,{className:"bg-green-100 text-green-800",children:[e.jsx(hi,{className:"w-3 h-3 mr-1"}),"未锁定"]});case"pending_unlock":return e.jsxs(V,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),"待解锁"]});default:return e.jsx(V,{variant:"secondary",children:"未知"})}},k=C=>{switch(C){case"lock":return e.jsx(Hr,{className:"w-4 h-4 text-red-500"});case"unlock":return e.jsx(hi,{className:"w-4 h-4 text-green-500"});case"modify":return e.jsx(Ne,{className:"w-4 h-4 text-blue-500"});case"backup":return e.jsx(Se,{className:"w-4 h-4 text-purple-500"});case"restore":return e.jsx(Ms,{className:"w-4 h-4 text-orange-500"});default:return e.jsx(Ne,{className:"w-4 h-4 text-gray-500"})}};return e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"成绩锁定机制"}),e.jsxs("div",{className:"space-x-2",children:[e.jsxs(S,{onClick:v,disabled:p,children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"创建备份"]}),e.jsxs(S,{variant:"outline",children:[e.jsx(Je,{className:"mr-2 h-4 w-4"}),"策略配置"]})]})]}),e.jsxs(Ye,{value:j,onValueChange:x,children:[e.jsxs(qe,{className:"grid w-full grid-cols-4",children:[e.jsx(J,{value:"lock-management",children:"锁定管理"}),e.jsx(J,{value:"modification-logs",children:"修改日志"}),e.jsx(J,{value:"backup-restore",children:"备份恢复"}),e.jsx(J,{value:"lock-strategies",children:"锁定策略"})]}),e.jsxs(ee,{value:"lock-management",className:"space-y-4",children:[e.jsxs(ue,{children:[e.jsx(Qs,{className:"h-4 w-4"}),e.jsxs(xe,{children:["当前用户权限：",f.permissions.join("、")]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center",children:[e.jsx(Hr,{className:"mr-2 h-5 w-5"}),"成绩锁定状态"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:s.map(C=>e.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"font-medium",children:C.studentName}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",C.studentId,")"]}),P(C.lockStatus),e.jsxs(V,{variant:"outline",children:["v",C.version]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("div",{children:["锁定人：",C.lockedBy," | 锁定时间：",C.lockTime]}),e.jsxs("div",{children:["锁定原因：",C.lockReason]}),C.unlockRequester&&e.jsxs("div",{className:"text-orange-600",children:["解锁申请人：",C.unlockRequester," | 申请原因：",C.unlockReason]})]})]}),e.jsxs("div",{className:"space-x-2",children:[C.lockStatus==="unlocked"&&e.jsxs(S,{size:"sm",onClick:()=>D(C.id,"手动锁定"),disabled:p,children:[e.jsx(Hr,{className:"w-4 h-4 mr-1"}),"锁定"]}),C.lockStatus==="locked"&&e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>{m(C),N(!0)},disabled:p,children:[e.jsx(hi,{className:"w-4 h-4 mr-1"}),"申请解锁"]}),C.lockStatus==="pending_unlock"&&e.jsxs("div",{className:"space-x-2",children:[e.jsxs(S,{size:"sm",onClick:()=>T(C.id),disabled:p,children:[e.jsx(fe,{className:"w-4 h-4 mr-1"}),"批准"]}),e.jsxs(S,{size:"sm",variant:"outline",disabled:p,children:[e.jsx(Ks,{className:"w-4 h-4 mr-1"}),"拒绝"]})]})]})]})},C.id))})})]})]}),e.jsx(ee,{value:"modification-logs",className:"space-y-4",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center",children:[e.jsx(Ot,{className:"mr-2 h-5 w-5"}),"修改日志记录"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:a.map(C=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[k(C.operation),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"font-medium",children:C.studentName}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",C.studentId,")"]}),e.jsx(V,{variant:"outline",children:C.operation})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("div",{children:["操作人：",C.operator," | 时间：",C.timestamp]}),e.jsxs("div",{children:["描述：",C.description]})]})]})]},C.id))})})]})}),e.jsx(ee,{value:"backup-restore",className:"space-y-4",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center",children:[e.jsx(Se,{className:"mr-2 h-5 w-5"}),"备份恢复管理"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"自动备份：每日23:00 | 保留30天"}),e.jsx(S,{size:"sm",variant:"outline",children:"配置备份策略"})]}),e.jsx("div",{className:"space-y-3",children:r.map(C=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"font-medium",children:["备份 ",C.id]}),e.jsx(V,{className:C.status==="completed"?"bg-green-100 text-green-800":C.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",children:C.status==="completed"?"已完成":C.status==="failed"?"失败":"进行中"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["时间：",C.backupTime," | 操作人：",C.operator," | 记录数：",C.recordCount]})]}),e.jsxs("div",{className:"space-x-2",children:[e.jsxs(S,{size:"sm",variant:"outline",children:[e.jsx(Se,{className:"w-4 h-4 mr-1"}),"下载"]}),e.jsxs(S,{size:"sm",variant:"outline",children:[e.jsx(Ms,{className:"w-4 h-4 mr-1"}),"恢复"]})]})]},C.id))})]})})]})}),e.jsx(ee,{value:"lock-strategies",className:"space-y-4",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center",children:[e.jsx(Je,{className:"mr-2 h-5 w-5"}),"锁定策略配置"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[i.map(C=>e.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"font-medium",children:C.name}),e.jsx(V,{className:C.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:C.isActive?"启用":"禁用"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:C.description}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"触发条件："}),C.autoLockConditions.join("、")]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"审批人员："}),C.requiredApprovers.join("、")]}),C.lockDuration&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"锁定时长："}),C.lockDuration,"小时"]})]})]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(S,{size:"sm",variant:"outline",children:"编辑"}),e.jsx(S,{size:"sm",variant:C.isActive?"destructive":"default",children:C.isActive?"禁用":"启用"})]})]})},C.id)),e.jsxs(S,{className:"w-full",variant:"outline",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"添加新策略"]})]})})]})})]}),e.jsx(Ge,{open:b,onOpenChange:N,children:e.jsxs(Be,{children:[e.jsx(We,{children:e.jsx(Ve,{children:"申请解锁成绩"})}),e.jsxs("div",{className:"space-y-4",children:[d&&e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"font-medium",children:[d.studentName," (",d.studentId,")"]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["当前状态：",P(d.lockStatus)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["解锁原因 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ie,{value:u,onChange:C=>h(C.target.value),placeholder:"请详细说明需要解锁的原因...",rows:4})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(S,{variant:"outline",onClick:()=>N(!1),children:"取消"}),e.jsx(S,{onClick:()=>d&&y(d),disabled:p||!u.trim(),children:"提交申请"})]})]})]})})]})},Yj=()=>{const[s,t]=o.useState([]),[a,n]=o.useState([]),[r,l]=o.useState([]),[i,c]=o.useState(null),[d,m]=o.useState("name"),[u,h]=o.useState(""),[p,g]=o.useState(!1),[b,N]=o.useState(""),[j,x]=o.useState("grade_dispute"),[f,w]=o.useState(null),[D,y]=o.useState(!1),[T,v]=o.useState("announcement"),P={id:"S001",name:"张三",role:"student"};o.useEffect(()=>{k()},[]),o.useEffect(()=>{C()},[s,u,d]);const k=()=>{t([{id:"1",studentId:"S001",studentName:"王*明",maskedStudentId:"2023****",grade:"A",selectionStatus:"selected",canAppeal:!0},{id:"2",studentId:"S002",studentName:"李*红",maskedStudentId:"2023****",grade:"A-",selectionStatus:"selected",canAppeal:!0},{id:"3",studentId:"S003",studentName:"张*华",maskedStudentId:"2023****",grade:"B+",selectionStatus:"standby",standbyPosition:3,canAppeal:!0},{id:"4",studentId:"S004",studentName:"陈*",maskedStudentId:"2023****",grade:"B",selectionStatus:"not_selected",canAppeal:!0},{id:"5",studentId:"S005",studentName:"刘*军",maskedStudentId:"2023****",grade:"B-",selectionStatus:"not_selected",canAppeal:!0},{id:"6",studentId:"S006",studentName:"赵*丽",maskedStudentId:"2023****",grade:"A",selectionStatus:"selected",canAppeal:!0}]),c({startDate:"2025-01-15",endDate:"2025-01-22",appealDeadline:"2025-01-20 17:00:00",isActive:!0,daysRemaining:3}),l([{id:"1",studentId:"S007",studentName:"孙*志",currentGrade:"B+",appealReason:"我认为我的科技创新项目评分过低，请重新评估",appealType:"grade_dispute",submitTime:"2025-01-18 14:30:00",status:"pending"},{id:"2",studentId:"S008",studentName:"周*梅",currentGrade:"B",appealReason:"提交材料时系统故障，部分材料未能成功上传",appealType:"material_missing",submitTime:"2025-01-17 16:45:00",status:"under_review",reviewComment:"正在核实材料上传记录"}])},C=()=>{if(!u.trim()){n(s);return}const A=s.filter(_=>{switch(d){case"name":return _.studentName.toLowerCase().includes(u.toLowerCase());case"id":return _.maskedStudentId.includes(u)||_.studentId.includes(u);case"grade":return _.grade.toLowerCase().includes(u.toLowerCase());default:return!0}});n(A)},M=async()=>{if(!b.trim()){alert("请填写申诉理由");return}try{const A={id:Date.now().toString(),studentId:P.id,studentName:P.name,currentGrade:(f==null?void 0:f.grade)||"",appealReason:b,appealType:j,submitTime:new Date().toISOString(),status:"pending"};l(_=>[A,..._]),g(!1),N(""),w(null),alert("申诉已提交成功，我们将在3个工作日内处理")}catch{alert("申诉提交失败，请重试")}},z=()=>{const A={title:"2025年度综合素质评价结果公示",announcementPeriod:i,results:s.map(G=>({maskedStudentId:G.maskedStudentId,studentName:G.studentName,grade:G.grade,selectionStatus:G.selectionStatus,standbyPosition:G.standbyPosition})),exportTime:new Date().toISOString()},_=new Blob([JSON.stringify(A,null,2)],{type:"application/json"}),q=URL.createObjectURL(_),U=document.createElement("a");U.href=q,U.download=`grade-announcement-${new Date().toISOString().split("T")[0]}.json`,U.click(),URL.revokeObjectURL(q)},I=(A,_)=>{switch(A){case"selected":return e.jsxs(V,{className:"bg-green-100 text-green-800",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"已入选"]});case"standby":return e.jsxs(V,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),"候补第",_,"位"]});case"not_selected":return e.jsxs(V,{className:"bg-red-100 text-red-800",children:[e.jsx(Ks,{className:"w-3 h-3 mr-1"}),"未入选"]});default:return e.jsx(V,{variant:"secondary",children:"未知"})}},F=A=>{const _={A:"bg-green-500","A-":"bg-green-400","B+":"bg-blue-500",B:"bg-blue-400","B-":"bg-blue-300","C+":"bg-yellow-500",C:"bg-yellow-400",D:"bg-red-500"};return e.jsx(V,{className:`text-white ${_[A]||"bg-gray-500"}`,children:A})},$=A=>{switch(A){case"pending":return e.jsx(V,{className:"bg-yellow-100 text-yellow-800",children:"待处理"});case"under_review":return e.jsx(V,{className:"bg-blue-100 text-blue-800",children:"审理中"});case"approved":return e.jsx(V,{className:"bg-green-100 text-green-800",children:"已批准"});case"rejected":return e.jsx(V,{className:"bg-red-100 text-red-800",children:"已驳回"});default:return e.jsx(V,{variant:"secondary",children:"未知"})}},B=[{dimension:"思想品德",weight:"20%",description:"包括政治表现、道德修养、社会责任感等"},{dimension:"课程成绩",weight:"40%",description:"各门课程的学业成绩综合表现"},{dimension:"科技创新",weight:"25%",description:"科研项目、创新竞赛、专利发明等"},{dimension:"科研推进",weight:"15%",description:"学术论文、研究报告、实验贡献等"}];return e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"2025年度综合素质评价结果公示"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[i&&e.jsxs("div",{className:"text-sm text-gray-600",children:["公示期剩余：",e.jsxs("span",{className:"font-medium text-orange-600",children:[i.daysRemaining,"天"]})]}),e.jsxs(S,{onClick:z,children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"下载公示名单"]})]})]}),i&&e.jsxs(ue,{children:[e.jsx(hs,{className:"h-4 w-4"}),e.jsxs(xe,{children:["公示期：",i.startDate," 至 ",i.endDate," | 申诉截止时间：",i.appealDeadline]})]}),e.jsxs(Ye,{value:T,onValueChange:v,children:[e.jsxs(qe,{className:"grid w-full grid-cols-2",children:[e.jsx(J,{value:"announcement",children:"公示结果"}),e.jsx(J,{value:"appeals",children:"申诉管理"})]}),e.jsxs(ee,{value:"announcement",className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center",children:[e.jsx(ks,{className:"mr-2 h-5 w-5"}),"查询方式"]})}),e.jsx(E,{children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(ie,{value:d,onValueChange:A=>m(A),children:[e.jsx(re,{className:"w-40",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"name",children:"按姓名"}),e.jsx(W,{value:"id",children:"按学号"}),e.jsx(W,{value:"grade",children:"按等级"})]})]}),e.jsx(se,{placeholder:d==="name"?"输入姓名关键字...":d==="id"?"输入学号...":"输入等级 (A, B+, B, 等)...",value:u,onChange:A=>h(A.target.value),className:"flex-1"}),e.jsx(S,{variant:"outline",children:e.jsx(ks,{className:"h-4 w-4"})})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(He,{className:"mr-2 h-5 w-5"}),"公示结果 (仅显示等级)"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["共 ",a.length," 条记录"]})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 bg-gray-50 rounded-lg font-medium text-sm",children:[e.jsx("div",{children:"学号"}),e.jsx("div",{children:"姓名"}),e.jsx("div",{children:"等级"}),e.jsx("div",{children:"是否入选实验班"})]}),a.map(A=>e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 border rounded-lg hover:bg-gray-50",children:[e.jsx("div",{className:"font-mono text-sm",children:A.maskedStudentId}),e.jsx("div",{children:A.studentName}),e.jsx("div",{children:F(A.grade)}),e.jsx("div",{children:I(A.selectionStatus,A.standbyPosition)})]},A.id)),a.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"未找到匹配的记录"})]})})]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs(S,{onClick:()=>{const A=s.find(_=>_.studentId===P.id);A&&A.canAppeal?(w(A),g(!0)):alert("您暂时无法申诉或申诉期已过")},className:"bg-orange-500 hover:bg-orange-600",children:[e.jsx(xt,{className:"mr-2 h-4 w-4"}),"我要申诉"]}),e.jsxs(S,{variant:"outline",onClick:()=>y(!0),children:[e.jsx(Ne,{className:"mr-2 h-4 w-4"}),"查看评价标准"]})]})]}),e.jsxs(ee,{value:"appeals",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx(R,{children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:r.filter(A=>A.status==="pending").length}),e.jsx("div",{className:"text-sm text-gray-500",children:"待处理"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.filter(A=>A.status==="under_review").length}),e.jsx("div",{className:"text-sm text-gray-500",children:"审理中"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.filter(A=>A.status==="approved").length}),e.jsx("div",{className:"text-sm text-gray-500",children:"已批准"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:r.filter(A=>A.status==="rejected").length}),e.jsx("div",{className:"text-sm text-gray-500",children:"已驳回"})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"申诉记录"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[r.map(A=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"font-medium",children:A.studentName}),e.jsxs("span",{className:"text-sm text-gray-500",children:["当前等级: ",A.currentGrade]}),$(A.status)]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["申诉类型: ",A.appealType==="grade_dispute"?"成绩争议":A.appealType==="process_issue"?"流程问题":A.appealType==="material_missing"?"材料缺失":"其他"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["提交时间: ",A.submitTime]})]})}),e.jsx("div",{className:"bg-gray-50 p-3 rounded",children:e.jsx("div",{className:"text-sm text-gray-700",children:A.appealReason})}),A.reviewComment&&e.jsx("div",{className:"bg-blue-50 p-3 rounded",children:e.jsxs("div",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"处理意见:"})," ",A.reviewComment]})})]},A.id)),r.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"暂无申诉记录"})]})})]})]})]}),e.jsx(Ge,{open:p,onOpenChange:g,children:e.jsxs(Be,{className:"max-w-2xl",children:[e.jsx(We,{children:e.jsx(Ve,{children:"提交申诉"})}),e.jsxs("div",{className:"space-y-4",children:[f&&e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"font-medium",children:"当前信息"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["学号: ",f.maskedStudentId," | 等级: ",f.grade," | 状态: ",f.selectionStatus==="selected"?"已入选":f.selectionStatus==="standby"?`候补第${f.standbyPosition}位`:"未入选"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"申诉类型"}),e.jsxs(ie,{value:j,onValueChange:A=>x(A),children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"grade_dispute",children:"成绩争议"}),e.jsx(W,{value:"process_issue",children:"流程问题"}),e.jsx(W,{value:"material_missing",children:"材料缺失"}),e.jsx(W,{value:"other",children:"其他"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["申诉理由 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ie,{value:b,onChange:A=>N(A.target.value),placeholder:"请详细说明您申诉的理由和依据，我们将认真审核您的申请...",rows:6})]}),e.jsxs(ue,{children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx(xe,{children:"申诉提交后，我们将在3个工作日内进行审核。请确保提供的信息真实有效。"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(S,{variant:"outline",onClick:()=>g(!1),children:"取消"}),e.jsx(S,{onClick:M,disabled:!b.trim(),children:"提交申诉"})]})]})]})}),e.jsx(Ge,{open:D,onOpenChange:y,children:e.jsxs(Be,{className:"max-w-3xl",children:[e.jsx(We,{children:e.jsx(Ve,{children:"综合素质评价标准"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"综合素质评价采用多维度评价体系，各维度权重和具体标准如下："}),e.jsx("div",{className:"space-y-4",children:B.map((A,_)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-medium text-lg",children:A.dimension}),e.jsx(V,{variant:"outline",children:A.weight})]}),e.jsx("p",{className:"text-sm text-gray-600",children:A.description})]},_))}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"等级划分标准"}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("div",{children:"A级 (90-100分): 优秀，全面发展且在某些方面表现突出"}),e.jsx("div",{children:"A-级 (85-89分): 良好，各方面表现均衡且较为优秀"}),e.jsx("div",{children:"B+级 (80-84分): 良好，大部分方面表现良好"}),e.jsx("div",{children:"B级 (75-79分): 合格，基本达到要求"}),e.jsx("div",{children:"B-级 (70-74分): 基本合格，个别方面需要改进"}),e.jsx("div",{children:"C级 (60-69分): 待提升，需要重点关注和指导"}),e.jsx("div",{children:"D级 (60分以下): 不合格，需要重新评价"})]})]})]})]})})]})},Kj=()=>{const[s,t]=o.useState([]),[a,n]=o.useState([]),[r,l]=o.useState({pending:0,underReview:0,approved:0,rejected:0,needSupplement:0,total:0}),[i,c]=o.useState("all"),[d,m]=o.useState(""),[u,h]=o.useState("all"),[p,g]=o.useState("all"),[b,N]=o.useState(null),[j,x]=o.useState(!1),[f,w]=o.useState(!1),[D,y]=o.useState(""),[T,v]=o.useState("grade_dispute"),[P,k]=o.useState(""),[C,M]=o.useState("approve"),[z,I]=o.useState(""),[F,$]=o.useState([]),{user:B}=rs(),A=B||{id:"U001",name:"张三",role:"student"};o.useEffect(()=>{_()},[]),o.useEffect(()=>{q(),U()},[s,d,u,p,i]);const _=()=>{t([{id:"1",appealNumber:"#20251115001",studentId:"S001",studentName:"陈某某",appealType:"grade_dispute",appealReason:"省级竞赛获奖未被正确计入科技创新分数，我在2024年10月获得省级科技创新大赛二等奖，但在系统中未看到相应加分。",attachments:[{name:"获奖证书.pdf",url:"#",uploadTime:"2025-01-15 10:30:00"},{name:"项目证明.docx",url:"#",uploadTime:"2025-01-15 10:31:00"}],submitTime:"2025-01-15 10:35:00",status:"under_review",reviewer:"李教授"},{id:"2",appealNumber:"#20251115002",studentId:"S002",studentName:"王某某",appealType:"material_missing",appealReason:"提交材料时系统出现故障，导致部分社会实践材料未能成功上传。",attachments:[{name:"系统错误截图.png",url:"#",uploadTime:"2025-01-14 15:20:00"}],submitTime:"2025-01-14 15:25:00",status:"need_supplement",reviewer:"张教授",supplementRequest:"请补充提供社会实践证明材料"},{id:"3",appealNumber:"#20251115003",studentId:"S003",studentName:"李某某",appealType:"process_issue",appealReason:"评分流程存在问题，我的导师评价未被计入最终成绩。",attachments:[{name:"导师评价表.pdf",url:"#",uploadTime:"2025-01-13 09:15:00"}],submitTime:"2025-01-13 09:20:00",status:"approved",reviewer:"赵教授",reviewComment:"经核实，确实存在系统录入问题，已重新计算成绩。"},{id:"4",appealNumber:"#20251115004",studentId:"S004",studentName:"张某某",appealType:"other",appealReason:"申请查看详细评分细则和各项得分明细。",attachments:[],submitTime:"2025-01-12 14:30:00",status:"rejected",reviewer:"钱教授",reviewComment:"评分细则已在系统中公示，请查看公告栏。"},{id:"5",appealNumber:"#20251115005",studentId:"S005",studentName:"刘某某",appealType:"grade_dispute",appealReason:"思想品德评分与预期不符，请重新审核。",attachments:[{name:"志愿服务证明.pdf",url:"#",uploadTime:"2025-01-16 11:00:00"}],submitTime:"2025-01-16 11:05:00",status:"pending"}])},q=()=>{let ae=[...s];i==="my"&&A.role==="student"?ae=ae.filter(me=>me.studentId===A.id):i==="review"&&(A.role==="professor"||A.role==="admin")&&(ae=ae.filter(me=>me.reviewer===A.name||me.status==="pending")),d&&(ae=ae.filter(me=>me.appealNumber.toLowerCase().includes(d.toLowerCase())||me.studentName.toLowerCase().includes(d.toLowerCase())||me.appealReason.toLowerCase().includes(d.toLowerCase()))),u!=="all"&&(ae=ae.filter(me=>me.appealType===u)),p!=="all"&&(ae=ae.filter(me=>me.status===p)),n(ae)},U=()=>{const ae={pending:s.filter(me=>me.status==="pending").length,underReview:s.filter(me=>me.status==="under_review").length,approved:s.filter(me=>me.status==="approved").length,rejected:s.filter(me=>me.status==="rejected").length,needSupplement:s.filter(me=>me.status==="need_supplement").length,total:s.length};l(ae)},G=async()=>{if(!D.trim()){alert("请填写申诉理由");return}try{const ae={id:Date.now().toString(),appealNumber:`#2025111500${s.length+1}`,studentId:A.id,studentName:A.name,appealType:T,appealReason:D,attachments:F.map(me=>({name:me.name,url:"#",uploadTime:new Date().toISOString()})),submitTime:new Date().toISOString(),status:"pending"};t(me=>[ae,...me]),x(!1),ne(),alert("申诉已成功提交！")}catch{alert("申诉提交失败，请重试")}},Y=async()=>{if(b){if(C==="need_supplement"&&!z.trim()){alert("请填写补充材料要求");return}if(!P.trim()&&C!=="need_supplement"){alert("请填写处理意见");return}try{const ae=s.map(me=>me.id===b.id?{...me,status:C==="approve"?"approved":C==="reject"?"rejected":"need_supplement",reviewer:A.name,reviewComment:C!=="need_supplement"?P:void 0,supplementRequest:C==="need_supplement"?z:void 0}:me);t(ae),w(!1),ge(),alert("申诉处理成功！")}catch{alert("处理失败，请重试")}}},ne=()=>{y(""),v("grade_dispute"),$([])},ge=()=>{k(""),M("approve"),I(""),N(null)},ke=ae=>{const De={pending:{color:"bg-yellow-100 text-yellow-800",icon:Ce,text:"待处理"},under_review:{color:"bg-blue-100 text-blue-800",icon:Ea,text:"专家组复核中"},approved:{color:"bg-green-100 text-green-800",icon:fe,text:"已接受"},rejected:{color:"bg-red-100 text-red-800",icon:Ks,text:"已驳回"},need_supplement:{color:"bg-orange-100 text-orange-800",icon:Ix,text:"需补充材料"}}[ae],Fe=De.icon;return e.jsxs(V,{className:De.color,children:[e.jsx(Fe,{className:"w-3 h-3 mr-1"}),De.text]})},Z=ae=>({grade_dispute:"科技创新分数异议",process_issue:"流程问题",material_missing:"材料缺失",other:"其他"})[ae],pe=A.role==="student",Ee=A.role==="professor"||A.role==="admin";return e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"申诉管理中心"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["待处理: ",e.jsx("span",{className:"font-medium text-orange-600",children:r.pending})," | 已处理: ",e.jsx("span",{className:"font-medium text-green-600",children:r.approved+r.rejected})]}),pe&&e.jsxs(S,{onClick:()=>x(!0),className:"bg-blue-500 hover:bg-blue-600",children:[e.jsx(xt,{className:"mr-2 h-4 w-4"}),"提交申诉"]})]})]}),e.jsxs(Ye,{value:i,onValueChange:c,children:[e.jsxs(qe,{className:`grid w-full ${pe&&Ee?"grid-cols-3":"grid-cols-2"}`,children:[e.jsx(J,{value:"all",children:"全部申诉"}),pe&&e.jsx(J,{value:"my",children:"我的申诉"}),Ee&&e.jsx(J,{value:"review",children:"待审核"})]}),e.jsxs(ee,{value:i,className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center",children:[e.jsx(rn,{className:"mr-2 h-5 w-5"}),"筛选条件"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx("div",{children:e.jsx(se,{placeholder:"搜索申诉编号、姓名或理由...",value:d,onChange:ae=>m(ae.target.value),className:"w-full"})}),e.jsxs(ie,{value:u,onValueChange:h,children:[e.jsx(re,{children:e.jsx(ce,{placeholder:"申诉类型"})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"全部类型"}),e.jsx(W,{value:"grade_dispute",children:"科技创新分数异议"}),e.jsx(W,{value:"process_issue",children:"流程问题"}),e.jsx(W,{value:"material_missing",children:"材料缺失"}),e.jsx(W,{value:"other",children:"其他"})]})]}),e.jsxs(ie,{value:p,onValueChange:g,children:[e.jsx(re,{children:e.jsx(ce,{placeholder:"状态"})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"全部状态"}),e.jsx(W,{value:"pending",children:"待处理"}),e.jsx(W,{value:"under_review",children:"专家组复核中"}),e.jsx(W,{value:"approved",children:"已接受"}),e.jsx(W,{value:"rejected",children:"已驳回"}),e.jsx(W,{value:"need_supplement",children:"需补充材料"})]})]}),e.jsxs(S,{variant:"outline",className:"w-full",children:[e.jsx(ks,{className:"mr-2 h-4 w-4"}),"搜索"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[e.jsx(R,{children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:r.pending}),e.jsx("div",{className:"text-sm text-gray-500",children:"待处理"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.underReview}),e.jsx("div",{className:"text-sm text-gray-500",children:"复核中"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.approved}),e.jsx("div",{className:"text-sm text-gray-500",children:"已接受"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:r.rejected}),e.jsx("div",{className:"text-sm text-gray-500",children:"已驳回"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.needSupplement}),e.jsx("div",{className:"text-sm text-gray-500",children:"需补充"})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"申诉列表"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[a.map(ae=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-3 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"font-mono text-sm",children:ae.appealNumber}),e.jsx("span",{className:"font-medium",children:ae.studentName}),e.jsx(V,{variant:"outline",children:Z(ae.appealType)}),ke(ae.status)]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["提交时间: ",ae.submitTime,ae.reviewer&&e.jsxs("span",{children:[" | 处理人: ",ae.reviewer]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>{N(ae),Ee&&(ae.status==="pending"||ae.status==="under_review")&&w(!0)},children:[e.jsx(Le,{className:"mr-1 h-3 w-3"}),"查看详情"]}),Ee&&(ae.status==="pending"||ae.status==="under_review")&&e.jsx(S,{size:"sm",onClick:()=>{N(ae),w(!0)},className:"bg-blue-500 hover:bg-blue-600",children:"处理申诉"})]})]}),e.jsx("div",{className:"bg-gray-50 p-3 rounded",children:e.jsx("div",{className:"text-sm text-gray-700 line-clamp-2",children:ae.appealReason})}),ae.attachments.length>0&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(Ne,{className:"h-4 w-4"}),e.jsx("span",{children:"补充材料: "}),ae.attachments.map((me,De)=>e.jsx("a",{href:me.url,className:"text-blue-600 hover:underline",children:me.name},De))]}),ae.status==="need_supplement"&&ae.supplementRequest&&e.jsxs(ue,{className:"bg-orange-50 border-orange-200",children:[e.jsx(ze,{className:"h-4 w-4 text-orange-600"}),e.jsxs(xe,{className:"text-orange-800",children:["需补充材料: ",ae.supplementRequest]})]}),(ae.status==="approved"||ae.status==="rejected")&&ae.reviewComment&&e.jsx("div",{className:"bg-blue-50 p-3 rounded",children:e.jsxs("div",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"处理意见:"})," ",ae.reviewComment]})})]},ae.id)),a.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"暂无申诉记录"})]})})]})]})]}),e.jsx(Ge,{open:j,onOpenChange:x,children:e.jsxs(Be,{className:"max-w-2xl",children:[e.jsx(We,{children:e.jsx(Ve,{children:"提交申诉"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["申诉类型 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(ie,{value:T,onValueChange:ae=>v(ae),children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"grade_dispute",children:"科技创新分数异议"}),e.jsx(W,{value:"process_issue",children:"流程问题"}),e.jsx(W,{value:"material_missing",children:"材料缺失"}),e.jsx(W,{value:"other",children:"其他"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["申诉理由 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ie,{value:D,onChange:ae=>y(ae.target.value),placeholder:"请详细说明您的申诉理由和依据...",rows:6})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"补充材料"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx(Ms,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"点击或拖拽文件到此处上传"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"支持 PDF、DOC、DOCX、PNG、JPG 格式"}),e.jsx("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.png,.jpg,.jpeg",className:"hidden",onChange:ae=>{ae.target.files&&$(Array.from(ae.target.files))}})]}),F.length>0&&e.jsx("div",{className:"space-y-1",children:F.map((ae,me)=>e.jsxs("div",{className:"text-sm text-gray-600",children:["• ",ae.name]},me))})]}),e.jsxs(ue,{children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx(xe,{children:"申诉提交后，专家组将在3个工作日内进行审核。请确保提供的信息真实有效。"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(S,{variant:"outline",onClick:()=>x(!1),children:"取消"}),e.jsxs(S,{onClick:G,disabled:!D.trim(),children:[e.jsx(Os,{className:"mr-2 h-4 w-4"}),"提交申诉"]})]})]})]})}),e.jsx(Ge,{open:f,onOpenChange:w,children:e.jsxs(Be,{className:"max-w-2xl",children:[e.jsx(We,{children:e.jsx(Ve,{children:"处理申诉"})}),b&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"font-mono text-sm",children:b.appealNumber}),e.jsx("span",{className:"font-medium",children:b.studentName}),e.jsx(V,{variant:"outline",children:Z(b.appealType)})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["提交时间: ",b.submitTime]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("strong",{className:"text-sm",children:"申诉理由:"}),e.jsx("div",{className:"text-sm text-gray-700 mt-1",children:b.appealReason})]}),b.attachments.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("strong",{className:"text-sm",children:"附件:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:b.attachments.map((ae,me)=>e.jsx("a",{href:ae.url,className:"text-sm text-blue-600 hover:underline",children:ae.name},me))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["处理决定 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(ie,{value:C,onValueChange:ae=>M(ae),children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"approve",children:"接受申诉"}),e.jsx(W,{value:"reject",children:"驳回申诉"}),e.jsx(W,{value:"need_supplement",children:"需要补充材料"})]})]})]}),C==="need_supplement"?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["补充材料要求 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ie,{value:z,onChange:ae=>I(ae.target.value),placeholder:"请说明需要补充的材料...",rows:4})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["处理意见 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Ie,{value:P,onChange:ae=>k(ae.target.value),placeholder:"请填写处理意见...",rows:4})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(S,{variant:"outline",onClick:()=>w(!1),children:"取消"}),e.jsxs(S,{onClick:Y,disabled:C==="need_supplement"&&!z.trim()||C!=="need_supplement"&&!P.trim(),className:C==="approve"?"bg-green-500 hover:bg-green-600":C==="reject"?"bg-red-500 hover:bg-red-600":"bg-orange-500 hover:bg-orange-600",children:[C==="approve"&&e.jsx(fe,{className:"mr-2 h-4 w-4"}),C==="reject"&&e.jsx(Ks,{className:"mr-2 h-4 w-4"}),C==="need_supplement"&&e.jsx(Ix,{className:"mr-2 h-4 w-4"}),C==="approve"?"接受申诉":C==="reject"?"驳回申诉":"要求补充材料"]})]})]})]})})]})};var Po="Switch",[DD,BA]=Ct(Po),[RD,ED]=DD(Po),jb=o.forwardRef((s,t)=>{const{__scopeSwitch:a,name:n,checked:r,defaultChecked:l,required:i,disabled:c,value:d="on",onCheckedChange:m,form:u,...h}=s,[p,g]=o.useState(null),b=Oe(t,w=>g(w)),N=o.useRef(!1),j=p?u||!!p.closest("form"):!0,[x,f]=Da({prop:r,defaultProp:l??!1,onChange:m,caller:Po});return e.jsxs(RD,{scope:a,checked:x,disabled:c,children:[e.jsx(ye.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":yb(x),"data-disabled":c?"":void 0,disabled:c,value:d,...h,ref:b,onClick:ve(s.onClick,w=>{f(D=>!D),j&&(N.current=w.isPropagationStopped(),N.current||w.stopPropagation())})}),j&&e.jsx(Nb,{control:p,bubbles:!N.current,name:n,value:d,checked:x,required:i,disabled:c,form:u,style:{transform:"translateX(-100%)"}})]})});jb.displayName=Po;var gb="SwitchThumb",vb=o.forwardRef((s,t)=>{const{__scopeSwitch:a,...n}=s,r=ED(gb,a);return e.jsx(ye.span,{"data-state":yb(r.checked),"data-disabled":r.disabled?"":void 0,...n,ref:t})});vb.displayName=gb;var AD="SwitchBubbleInput",Nb=o.forwardRef(({__scopeSwitch:s,control:t,checked:a,bubbles:n=!0,...r},l)=>{const i=o.useRef(null),c=Oe(i,l),d=Ki(a),m=Qi(t);return o.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(d!==a&&g){const b=new Event("click",{bubbles:n});g.call(u,a),u.dispatchEvent(b)}},[d,a,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...r,tabIndex:-1,ref:c,style:{...r.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Nb.displayName=AD;function yb(s){return s?"checked":"unchecked"}var wb=jb,ID=vb;const Bs=o.forwardRef(({className:s,...t},a)=>e.jsx(wb,{className:X("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...t,ref:a,children:e.jsx(ID,{className:X("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Bs.displayName=wb.displayName;const Qj=()=>{const{user:s}=rs(),[t,a]=o.useState([]),[n,r]=o.useState({minGrade:"B+",maxStudents:30,standbyRatio:20,autoCutoff:!0,priorityDimensions:["techInnovation","researchProgress"]}),[l,i]=o.useState(null),[c,d]=o.useState(!1),[m,u]=o.useState(!1),[h,p]=o.useState([]),[g,b]=o.useState(null),[N,j]=o.useState("screening"),x=(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.role)==="professor";o.useEffect(()=>{f()},[]);const f=()=>{a([{id:"1",name:"王明",studentId:"2023001",grade:"A",totalScore:92.5,dimensions:{moralCharacter:95,courseGrade:90,techInnovation:94,researchProgress:91},rank:1,selected:!1},{id:"2",name:"李红",studentId:"2023002",grade:"A",totalScore:90.8,dimensions:{moralCharacter:88,courseGrade:92,techInnovation:91,researchProgress:90},rank:2,selected:!1},{id:"3",name:"张华",studentId:"2023003",grade:"A-",totalScore:88.2,dimensions:{moralCharacter:90,courseGrade:85,techInnovation:89,researchProgress:88},rank:3,selected:!1},{id:"4",name:"陈伟",studentId:"2023004",grade:"A-",totalScore:87.5,dimensions:{moralCharacter:85,courseGrade:88,techInnovation:90,researchProgress:86},rank:4,selected:!1},{id:"5",name:"刘军",studentId:"2023005",grade:"B+",totalScore:85,dimensions:{moralCharacter:82,courseGrade:86,techInnovation:87,researchProgress:84},rank:5,selected:!1},{id:"6",name:"赵丽",studentId:"2023006",grade:"B+",totalScore:84.3,dimensions:{moralCharacter:86,courseGrade:83,techInnovation:85,researchProgress:83},rank:6,selected:!1},{id:"7",name:"孙志",studentId:"2023007",grade:"B+",totalScore:82.7,dimensions:{moralCharacter:80,courseGrade:84,techInnovation:83,researchProgress:82},rank:7,selected:!1},{id:"8",name:"周梅",studentId:"2023008",grade:"B",totalScore:80.1,dimensions:{moralCharacter:78,courseGrade:81,techInnovation:82,researchProgress:79},rank:8,selected:!1},{id:"9",name:"吴敏",studentId:"2023009",grade:"B",totalScore:78.5,dimensions:{moralCharacter:76,courseGrade:79,techInnovation:80,researchProgress:77},rank:9,selected:!1},{id:"10",name:"郑涛",studentId:"2023010",grade:"B",totalScore:77.2,dimensions:{moralCharacter:75,courseGrade:78,techInnovation:78,researchProgress:76},rank:10,selected:!1}]),p([{id:"1",timestamp:"2025-01-10 14:30:00",operator:"王主任",criteria:{minGrade:"B+",maxStudents:25,standbyRatio:20,autoCutoff:!0,priorityDimensions:["techInnovation"]},results:{selectedCount:25,standbyCount:5,notSelectedCount:15},status:"published"},{id:"2",timestamp:"2025-01-15 10:00:00",operator:"李教授",criteria:{minGrade:"A-",maxStudents:30,standbyRatio:15,autoCutoff:!1,cutoffScore:85,priorityDimensions:["researchProgress","techInnovation"]},results:{selectedCount:28,standbyCount:4,notSelectedCount:13},status:"draft"}])},w=async()=>{d(!0),u(!1),await new Promise(B=>setTimeout(B,1500));let k=t.filter(B=>{const A=["A","A-","B+","B","B-","C+","C","D"],_=A.indexOf(n.minGrade);return A.indexOf(B.grade)<=_});!n.autoCutoff&&n.cutoffScore&&(k=k.filter(B=>B.totalScore>=n.cutoffScore)),k.sort((B,A)=>{if(n.priorityDimensions.length>0)for(const _ of n.priorityDimensions){const q=B.dimensions[_],U=A.dimensions[_];if(q!==U)return U-q}return A.totalScore-B.totalScore});const C=Math.min(n.maxStudents,k.length),M=Math.ceil(C*(n.standbyRatio/100)),z=k.slice(0,C),I=k.slice(C,C+M),F=t.filter(B=>!z.includes(B)&&!I.includes(B));I.forEach((B,A)=>{B.standbyOrder=A+1});const $={selected:z,standby:I,notSelected:F,timestamp:new Date().toISOString(),criteria:n};i($),d(!1),u(!0)},D=()=>{if(!l)return;const k={id:Date.now().toString(),timestamp:new Date().toLocaleString("zh-CN"),operator:(s==null?void 0:s.name)||"系统",criteria:l.criteria,results:{selectedCount:l.selected.length,standbyCount:l.standby.length,notSelectedCount:l.notSelected.length},status:"confirmed"};p(C=>[k,...C]),u(!1),alert("筛选结果已确认！")},y=()=>{if(!l)return;const k={exportTime:new Date().toLocaleString("zh-CN"),criteria:l.criteria,results:{selected:l.selected.map(I=>({rank:I.rank,studentId:I.studentId,name:I.name,grade:I.grade,totalScore:I.totalScore,status:"已入选"})),standby:l.standby.map(I=>({rank:I.rank,studentId:I.studentId,name:I.name,grade:I.grade,totalScore:I.totalScore,status:`候补第${I.standbyOrder}位`})),notSelected:l.notSelected.map(I=>({rank:I.rank,studentId:I.studentId,name:I.name,grade:I.grade,totalScore:I.totalScore,status:"未入选"}))}},C=new Blob([JSON.stringify(k,null,2)],{type:"application/json"}),M=URL.createObjectURL(C),z=document.createElement("a");z.href=M,z.download=`experimental-class-screening-${new Date().toISOString().split("T")[0]}.json`,z.click(),URL.revokeObjectURL(M)},T=k=>({moralCharacter:"思想品德",courseGrade:"课程成绩",techInnovation:"科技创新",researchProgress:"科研推进"})[k]||k,v=k=>{const C={A:"bg-green-500","A-":"bg-green-400","B+":"bg-blue-500",B:"bg-blue-400","B-":"bg-blue-300","C+":"bg-yellow-500",C:"bg-yellow-400",D:"bg-red-500"};return e.jsx(V,{className:`text-white ${C[k]||"bg-gray-500"}`,children:k})},P=k=>{const M={draft:{color:"bg-gray-100 text-gray-800",text:"草稿"},confirmed:{color:"bg-blue-100 text-blue-800",text:"已确认"},published:{color:"bg-green-100 text-green-800",text:"已发布"}}[k];return e.jsx(V,{className:M.color,children:M.text})};return e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"实验班筛选工具"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[l&&m&&e.jsxs(S,{onClick:y,variant:"outline",children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"导出结果"]}),x&&e.jsx(S,{onClick:w,disabled:c,className:"bg-blue-500 hover:bg-blue-600",children:c?e.jsxs(e.Fragment,{children:[e.jsx(Ce,{className:"mr-2 h-4 w-4 animate-spin"}),"筛选中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rn,{className:"mr-2 h-4 w-4"}),"开始筛选"]})})]})]}),e.jsxs(Ye,{value:N,onValueChange:j,children:[e.jsxs(qe,{className:"grid w-full grid-cols-3",children:[e.jsx(J,{value:"screening",children:"筛选配置"}),e.jsx(J,{value:"preview",children:"结果预览"}),e.jsx(J,{value:"history",children:"历史记录"})]}),e.jsxs(ee,{value:"screening",className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center",children:[e.jsx(Je,{className:"mr-2 h-5 w-5"}),"筛选条件设置"]})}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"最低等级要求"}),e.jsxs(ie,{value:n.minGrade,onValueChange:k=>r(C=>({...C,minGrade:k})),disabled:!x,children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"A",children:"A"}),e.jsx(W,{value:"A-",children:"A-"}),e.jsx(W,{value:"B+",children:"B+"}),e.jsx(W,{value:"B",children:"B"}),e.jsx(W,{value:"B-",children:"B-"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"最大录取人数"}),e.jsx(se,{type:"number",value:n.maxStudents,onChange:k=>r(C=>({...C,maxStudents:parseInt(k.target.value)||0})),min:1,max:100,disabled:!x})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["候补比例: ",e.jsxs("span",{className:"font-bold",children:[n.standbyRatio,"%"]})]}),e.jsx(is,{value:[n.standbyRatio],onValueChange:k=>r(C=>({...C,standbyRatio:k[0]})),max:50,step:5,disabled:!x})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bs,{checked:n.autoCutoff,onCheckedChange:k=>r(C=>({...C,autoCutoff:k})),disabled:!x}),e.jsx("label",{className:"text-sm font-medium",children:"自动分数线"})]}),!n.autoCutoff&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"最低分数线"}),e.jsx(se,{type:"number",value:n.cutoffScore||"",onChange:k=>r(C=>({...C,cutoffScore:parseFloat(k.target.value)||void 0})),min:0,max:100,step:.5,disabled:!x})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"优先考虑维度 (按顺序)"}),e.jsx("div",{className:"space-y-2",children:["techInnovation","researchProgress","courseGrade","moralCharacter"].map(k=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:n.priorityDimensions.includes(k),onChange:C=>{C.target.checked?r(M=>({...M,priorityDimensions:[...M.priorityDimensions,k]})):r(M=>({...M,priorityDimensions:M.priorityDimensions.filter(z=>z!==k)}))},disabled:!x}),e.jsx("span",{className:"text-sm",children:T(k)})]},k))})]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center",children:[e.jsx(Cs,{className:"mr-2 h-5 w-5"}),"当前学生统计"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:t.length}),e.jsx("div",{className:"text-sm text-gray-500",children:"总人数"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(k=>k.grade==="A"||k.grade==="A-").length}),e.jsx("div",{className:"text-sm text-gray-500",children:"A级学生"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(k=>k.grade.startsWith("B")).length}),e.jsx("div",{className:"text-sm text-gray-500",children:"B级学生"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.filter(k=>k.totalScore>=85).length}),e.jsx("div",{className:"text-sm text-gray-500",children:"85分以上"})]})]})})]})]}),e.jsx(ee,{value:"preview",className:"space-y-4",children:l&&m?e.jsxs(e.Fragment,{children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(xs,{className:"mr-2 h-5 w-5"}),"筛选结果摘要"]}),e.jsxs(S,{onClick:D,className:"bg-green-500 hover:bg-green-600",children:[e.jsx(fe,{className:"mr-2 h-4 w-4"}),"确认结果"]})]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:l.selected.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"已入选"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:l.standby.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"候补名单"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-600",children:l.notSelected.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"未入选"})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center",children:[e.jsx(Ea,{className:"mr-2 h-5 w-5"}),"已入选学生名单"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-4 p-3 bg-gray-50 rounded-lg font-medium text-sm",children:[e.jsx("div",{children:"排名"}),e.jsx("div",{children:"学号"}),e.jsx("div",{children:"姓名"}),e.jsx("div",{children:"等级"}),e.jsx("div",{children:"总分"}),e.jsx("div",{children:"状态"})]}),l.selected.map(k=>e.jsxs("div",{className:"grid grid-cols-6 gap-4 p-3 border rounded-lg",children:[e.jsxs("div",{className:"font-medium",children:["#",k.rank]}),e.jsx("div",{className:"font-mono text-sm",children:k.studentId}),e.jsx("div",{children:k.name}),e.jsx("div",{children:v(k.grade)}),e.jsx("div",{className:"font-medium",children:k.totalScore}),e.jsx(V,{className:"bg-green-100 text-green-800",children:"已入选"})]},k.id))]})})]}),l.standby.length>0&&e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center",children:[e.jsx(Ce,{className:"mr-2 h-5 w-5"}),"候补名单"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-4 p-3 bg-gray-50 rounded-lg font-medium text-sm",children:[e.jsx("div",{children:"排名"}),e.jsx("div",{children:"学号"}),e.jsx("div",{children:"姓名"}),e.jsx("div",{children:"等级"}),e.jsx("div",{children:"总分"}),e.jsx("div",{children:"候补顺序"})]}),l.standby.map(k=>e.jsxs("div",{className:"grid grid-cols-6 gap-4 p-3 border rounded-lg",children:[e.jsxs("div",{className:"font-medium",children:["#",k.rank]}),e.jsx("div",{className:"font-mono text-sm",children:k.studentId}),e.jsx("div",{children:k.name}),e.jsx("div",{children:v(k.grade)}),e.jsx("div",{className:"font-medium",children:k.totalScore}),e.jsxs(V,{className:"bg-yellow-100 text-yellow-800",children:["候补第",k.standbyOrder,"位"]})]},k.id))]})})]})]}):e.jsxs(ue,{children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx(xe,{children:"请先配置筛选条件并运行筛选，查看结果预览。"})]})}),e.jsx(ee,{value:"history",className:"space-y-4",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center",children:[e.jsx(Ot,{className:"mr-2 h-5 w-5"}),"筛选历史记录"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[h.map(k=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"font-medium",children:k.timestamp}),e.jsxs("span",{className:"text-sm text-gray-500",children:["操作人: ",k.operator]}),P(k.status)]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["筛选条件: 最低",k.criteria.minGrade,"级 | 最多",k.criteria.maxStudents,"人 | 候补",k.criteria.standbyRatio,"%"]})]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>b(k.id),children:[e.jsx(Le,{className:"mr-1 h-3 w-3"}),"查看详情"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center p-2 bg-green-50 rounded",children:[e.jsx("div",{className:"font-medium text-green-700",children:k.results.selectedCount}),e.jsx("div",{className:"text-gray-600",children:"已入选"})]}),e.jsxs("div",{className:"text-center p-2 bg-yellow-50 rounded",children:[e.jsx("div",{className:"font-medium text-yellow-700",children:k.results.standbyCount}),e.jsx("div",{className:"text-gray-600",children:"候补"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-medium text-gray-700",children:k.results.notSelectedCount}),e.jsx("div",{className:"text-gray-600",children:"未入选"})]})]}),k.status==="draft"&&e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(S,{size:"sm",variant:"outline",children:"编辑"}),e.jsx(S,{size:"sm",className:"bg-blue-500 hover:bg-blue-600",children:"发布"})]})]},k.id)),h.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"暂无筛选历史记录"})]})})]})})]}),c&&e.jsx(Ge,{open:c,children:e.jsxs(Be,{className:"sm:max-w-md",children:[e.jsx(We,{children:e.jsx(Ve,{children:"正在筛选..."})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(te,{value:66}),e.jsx("p",{className:"text-sm text-gray-600 text-center",children:"正在根据设定条件筛选实验班学生，请稍候..."})]})]})})]})},Tc={course:{label:"课程资料",icon:Ne,color:"blue"},evaluation:{label:"评价材料",icon:Cs,color:"green"},grade:{label:"成绩记录",icon:Ne,color:"purple"},report:{label:"报告文档",icon:Ne,color:"orange"},certificate:{label:"证书文件",icon:Qs,color:"red"}},Dc={public:{label:"公开访问",icon:hi,color:"green"},restricted:{label:"限制访问",icon:Hr,color:"yellow"},confidential:{label:"机密文件",icon:Qs,color:"red"}};function Xj(){const[s,t]=o.useState([{id:"1",title:"2024年春季学期-综合素质评价报告",type:"evaluation",category:"学期评价",studentName:"张三",studentId:"2024001",archivedDate:new Date("2024-06-30"),fileSize:2457600,status:"backed_up",accessLevel:"restricted",tags:["2024春季","综合评价","已完成"],backupStatus:"completed",lastAccessed:new Date("2024-07-15"),accessCount:5},{id:"2",title:"创新实践课程-最终成绩单",type:"grade",category:"成绩档案",studentName:"李四",studentId:"2024002",archivedDate:new Date("2024-07-01"),fileSize:1024e3,status:"archived",accessLevel:"confidential",tags:["成绩单","创新实践","2024"],backupStatus:"completed",accessCount:2},{id:"3",title:"研究报告-AI在教育中的应用",type:"report",category:"研究成果",studentName:"王五",studentId:"2024003",archivedDate:new Date("2024-07-02"),fileSize:5242880,status:"processing",accessLevel:"public",tags:["研究报告","AI","教育技术"],backupStatus:"pending",accessCount:0}]),[a,n]=o.useState(""),[r,l]=o.useState("all"),[i,c]=o.useState("all"),[d,m]=o.useState("all"),[u,h]=o.useState(!0),p=D=>{if(D===0)return"0 Bytes";const y=1024,T=["Bytes","KB","MB","GB"],v=Math.floor(Math.log(D)/Math.log(y));return parseFloat((D/Math.pow(y,v)).toFixed(2))+" "+T[v]},g=D=>D.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}),b=()=>s.filter(D=>{const y=a===""||D.title.toLowerCase().includes(a.toLowerCase())||D.studentName.toLowerCase().includes(a.toLowerCase())||D.studentId.includes(a)||D.tags.some(k=>k.toLowerCase().includes(a.toLowerCase())),T=r==="all"||D.type===r,v=i==="all"||D.accessLevel===i,P=d==="all"||D.status===d;return y&&T&&v&&P}),N=()=>{const D=s.length,y=s.filter(k=>k.status==="archived"||k.status==="backed_up").length,T=s.filter(k=>k.status==="processing").length,v=s.filter(k=>k.backupStatus==="completed").length,P=s.reduce((k,C)=>k+C.fileSize,0);return{total:D,archived:y,processing:T,backedUp:v,totalSize:P}},j=D=>{t(y=>y.map(T=>T.id===D?{...T,backupStatus:"completed",status:"backed_up"}:T))},x=D=>{const y=s.find(T=>T.id===D);y&&(t(T=>T.map(v=>v.id===D?{...v,lastAccessed:new Date,accessCount:v.accessCount+1}:v)),console.log("Exporting archive:",y.title))},f=N(),w=b();return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"档案归档系统"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"永久保存评价材料，提供完整的档案管理和归档功能"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Nt,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"总档案数"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.total})]})]})})}),e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Rx,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"已归档"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.archived})]})]})})}),e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ke,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"处理中"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.processing})]})]})})}),e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pp,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"已备份"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.backedUp})]})]})})}),e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Sd,{className:"h-8 w-8 text-gray-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"总存储"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:p(f.totalSize)})]})]})})})]}),e.jsx(R,{className:"mb-6",children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(se,{placeholder:"搜索档案标题、学生姓名、学号或标签...",value:a,onChange:D=>n(D.target.value),className:"pl-9"})]})}),e.jsxs(ie,{value:r,onValueChange:l,children:[e.jsx(re,{children:e.jsx(ce,{placeholder:"档案类型"})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"所有类型"}),Object.entries(Tc).map(([D,y])=>e.jsx(W,{value:D,children:y.label},D))]})]}),e.jsxs(ie,{value:i,onValueChange:c,children:[e.jsx(re,{children:e.jsx(ce,{placeholder:"访问级别"})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"所有级别"}),Object.entries(Dc).map(([D,y])=>e.jsx(W,{value:D,children:y.label},D))]})]}),e.jsxs(ie,{value:d,onValueChange:m,children:[e.jsx(re,{children:e.jsx(ce,{placeholder:"归档状态"})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"所有状态"}),e.jsx(W,{value:"archived",children:"已归档"}),e.jsx(W,{value:"processing",children:"处理中"}),e.jsx(W,{value:"backed_up",children:"已备份"}),e.jsx(W,{value:"failed",children:"失败"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p3,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"自动归档"})]}),e.jsx(S,{variant:u?"default":"outline",size:"sm",onClick:()=>h(!u),children:u?"已启用":"已禁用"})]})]})}),w.length>0?e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{children:["档案列表 (",w.length,")"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:w.map(D=>{const y=Tc[D.type].icon,T=Dc[D.accessLevel].icon,v=Tc[D.type].color,P=Dc[D.accessLevel].color;return e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-grow",children:[e.jsx("div",{className:X("w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",v==="blue"&&"bg-blue-100 text-blue-600",v==="green"&&"bg-green-100 text-green-600",v==="purple"&&"bg-purple-100 text-purple-600",v==="orange"&&"bg-orange-100 text-orange-600",v==="red"&&"bg-red-100 text-red-600"),children:e.jsx(y,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:D.title}),e.jsx(V,{variant:"secondary",className:"text-xs",children:Tc[D.type].label}),e.jsx(V,{variant:D.status==="backed_up"?"default":D.status==="archived"?"secondary":D.status==="processing"?"outline":"destructive",className:"text-xs",children:D.status==="backed_up"?"已备份":D.status==="archived"?"已归档":D.status==="processing"?"处理中":"失败"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Xs,{className:"w-3 h-3"}),D.studentName," (",D.studentId,")"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hs,{className:"w-3 h-3"}),g(D.archivedDate)]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Sd,{className:"w-3 h-3"}),p(D.fileSize)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(T,{className:X("w-3 h-3",P==="green"&&"text-green-600",P==="yellow"&&"text-yellow-600",P==="red"&&"text-red-600")}),Dc[D.accessLevel].label]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:D.tags.map((k,C)=>e.jsxs(V,{variant:"outline",className:"text-xs",children:[e.jsx(uy,{className:"w-3 h-3 mr-1"}),k]},C))}),D.lastAccessed&&e.jsxs("div",{className:"text-xs text-gray-500",children:["最后访问: ",g(D.lastAccessed)," | 访问次数: ",D.accessCount]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[D.backupStatus==="pending"&&e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>j(D.id),children:[e.jsx(Pp,{className:"w-4 h-4 mr-1"}),"备份"]}),e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>x(D.id),children:[e.jsx(Se,{className:"w-4 h-4 mr-1"}),"导出"]})]})]}),D.status==="processing"&&e.jsxs("div",{className:"mt-3",children:[e.jsx(te,{value:65,className:"h-2"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"正在处理归档..."})]})]},D.id)})})})]}):e.jsx(R,{children:e.jsxs(E,{className:"py-12 text-center",children:[e.jsx(Rx,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"没有找到匹配的档案"}),e.jsx("p",{className:"text-gray-600",children:"请尝试调整搜索条件或筛选器"})]})})]})}),e.jsx(Te,{})]})}const bm=[{id:"1",name:"学期综合评价报告",description:"自动生成学期综合素质评价报告，包含成绩分析、活动参与、导师评价等",category:"evaluation",dataSource:["成绩系统","活动记录","导师评价"],outputFormats:["pdf","docx"],lastUsed:new Date("2024-06-30"),useCount:45},{id:"2",name:"实验室轮转总结",description:"汇总实验室轮转情况，包含学生分配、项目进展、成果展示",category:"academic",dataSource:["轮转记录","项目数据","成果展示"],outputFormats:["pdf","pptx"],lastUsed:new Date("2024-07-15"),useCount:32},{id:"3",name:"年度数据统计报告",description:"全年数据统计分析，包含各项指标对比、趋势分析、问题诊断",category:"statistics",dataSource:["所有模块数据"],outputFormats:["pdf","xlsx"],useCount:12},{id:"4",name:"学生成长档案",description:"AI智能生成个人成长档案，包含学习轨迹、能力评估、发展建议",category:"summary",dataSource:["个人数据","评价记录","成果展示"],outputFormats:["pdf","docx"],useCount:156}],OD={academic:{icon:_3,color:"blue"},evaluation:{icon:Kt,color:"green"},statistics:{icon:Cs,color:"purple"},summary:{icon:Ne,color:"orange"}};function Zj(){var v;const[s,t]=o.useState(""),[a,n]=o.useState(""),[r,l]=o.useState(""),[i,c]=o.useState("pdf"),[d,m]=o.useState(!0),[u,h]=o.useState(!1),[p,g]=o.useState(0),[b,N]=o.useState([{id:"1",title:"2024春季学期综合评价报告",templateId:"1",templateName:"学期综合评价报告",generatedAt:new Date("2024-07-01"),status:"completed",format:"pdf",size:2457600,aiGenerated:!0},{id:"2",title:"第一批实验室轮转总结",templateId:"2",templateName:"实验室轮转总结",generatedAt:new Date("2024-07-02"),status:"completed",format:"pptx",size:5242880,aiGenerated:!1}]),[j,x]=o.useState([{id:"1",templateId:"3",templateName:"年度数据统计报告",schedule:"monthly",nextRun:new Date("2024-08-01"),lastRun:new Date("2024-07-01"),enabled:!0,recipients:["admin@hust.edu.cn","secretary@hust.edu.cn"]}]),f=()=>{if(!s||!a)return;h(!0),g(0);const P=bm.find(M=>M.id===s);if(!P)return;const k={id:Date.now().toString(),title:a,templateId:s,templateName:P.name,generatedAt:new Date,status:"generating",format:i,aiGenerated:d,progress:0};N(M=>[k,...M]);const C=setInterval(()=>{g(M=>{const z=Math.min(M+Math.random()*20,100);return N(I=>I.map(F=>F.id===k.id?{...F,progress:z}:F)),z>=100&&(clearInterval(C),N(I=>I.map(F=>F.id===k.id?{...F,status:"completed",size:Math.floor(Math.random()*1e7)+1e6,progress:100}:F)),h(!1),t(""),n(""),l(""),g(0)),z})},500)},w=P=>{if(!P)return"-";const k=1024,C=["Bytes","KB","MB","GB"],M=Math.floor(Math.log(P)/Math.log(k));return parseFloat((P/Math.pow(k,M)).toFixed(2))+" "+C[M]},D=P=>P.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=P=>{switch(P){case"pdf":return Ne;case"docx":return Ne;case"xlsx":return ih;case"pptx":return ZN;default:return Ne}},T=P=>{x(k=>k.map(C=>C.id===P?{...C,enabled:!C.enabled}:C))};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"报告生成器"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"自动生成各类报告，提供智能化的报告生成和管理功能"})]}),e.jsxs(Ye,{defaultValue:"generate",className:"space-y-6",children:[e.jsxs(qe,{className:"grid w-full grid-cols-3",children:[e.jsx(J,{value:"generate",children:"生成报告"}),e.jsx(J,{value:"history",children:"历史报告"}),e.jsx(J,{value:"schedule",children:"定时任务"})]}),e.jsxs(ee,{value:"generate",className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"选择报告模板"})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:bm.map(P=>{const k=OD[P.category],C=k.icon,M=s===P.id;return e.jsx("div",{className:X("border rounded-lg p-4 cursor-pointer transition-all",M?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>t(P.id),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:X("w-10 h-10 rounded-lg flex items-center justify-center",k.color==="blue"&&"bg-blue-100 text-blue-600",k.color==="green"&&"bg-green-100 text-green-600",k.color==="purple"&&"bg-purple-100 text-purple-600",k.color==="orange"&&"bg-orange-100 text-orange-600"),children:e.jsx(C,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:P.name}),P.useCount>50&&e.jsx(V,{variant:"secondary",className:"text-xs",children:"热门"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:P.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(Cs,{className:"w-3 h-3"}),e.jsxs("span",{children:["使用 ",P.useCount," 次"]})]}),P.lastUsed&&e.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(Ce,{className:"w-3 h-3"}),e.jsxs("span",{children:["最近: ",P.lastUsed.toLocaleDateString()]})]})]})]})]})},P.id)})})})]}),s&&e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"配置报告参数"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"报告标题"}),e.jsx(se,{placeholder:"输入报告标题...",value:a,onChange:P=>n(P.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"报告描述（可选）"}),e.jsx(Ie,{placeholder:"输入报告描述...",value:r,onChange:P=>l(P.target.value),className:"mt-1",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"输出格式"}),e.jsxs(ie,{value:i,onValueChange:c,children:[e.jsx(re,{className:"mt-1",children:e.jsx(ce,{})}),e.jsx(le,{children:(v=bm.find(P=>P.id===s))==null?void 0:v.outputFormats.map(P=>e.jsx(W,{value:P,children:P.toUpperCase()},P))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"生成方式"}),e.jsxs("div",{className:"mt-1 space-y-2",children:[e.jsxs(S,{variant:d?"default":"outline",className:"w-full justify-start",onClick:()=>m(!0),children:[e.jsx(Dt,{className:"w-4 h-4 mr-2"}),"AI 智能生成"]}),e.jsxs(S,{variant:d?"outline":"default",className:"w-full justify-start",onClick:()=>m(!1),children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"模板填充生成"]})]})]})]}),d&&e.jsxs(ue,{children:[e.jsx(Dt,{className:"h-4 w-4"}),e.jsx(xe,{children:"AI 将基于历史数据和模板智能生成报告内容，确保准确性和专业性"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(S,{variant:"outline",onClick:()=>{t(""),n(""),l("")},children:"取消"}),e.jsx(S,{onClick:f,disabled:!a||u,children:u?e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4 mr-2 animate-spin"}),"生成中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ma,{className:"w-4 h-4 mr-2"}),"开始生成"]})})]}),u&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(te,{value:p}),e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["正在生成报告... ",Math.round(p),"%"]})]})]})]})]}),e.jsx(ee,{value:"history",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{children:["历史报告 (",b.length,")"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[b.map(P=>{const k=y(P.format);return e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg hover:bg-gray-50",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(k,{className:"w-5 h-5 text-gray-600"})})}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:P.title}),P.aiGenerated&&e.jsxs(V,{variant:"secondary",className:"text-xs",children:[e.jsx(Dt,{className:"w-3 h-3 mr-1"}),"AI 生成"]}),e.jsx(V,{variant:P.status==="completed"?"default":P.status==="generating"?"secondary":"destructive",className:"text-xs",children:P.status==="completed"?"已完成":P.status==="generating"?"生成中":"失败"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["模板: ",P.templateName]}),e.jsx("span",{children:D(P.generatedAt)}),P.size&&e.jsx("span",{children:w(P.size)})]}),P.status==="generating"&&P.progress!==void 0&&e.jsx(te,{value:P.progress,className:"mt-2 h-2"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[P.status==="completed"&&e.jsxs(e.Fragment,{children:[e.jsxs(S,{size:"sm",variant:"outline",children:[e.jsx(Le,{className:"w-4 h-4 mr-1"}),"预览"]}),e.jsxs(S,{size:"sm",variant:"outline",children:[e.jsx(Se,{className:"w-4 h-4 mr-1"}),"下载"]})]}),e.jsx(S,{size:"sm",variant:"ghost",children:e.jsx(ut,{className:"w-4 h-4"})})]})]},P.id)}),b.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ne,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"暂无历史报告"})]})]})})]})}),e.jsx(ee,{value:"schedule",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(L,{children:"定时任务"}),e.jsxs(S,{size:"sm",children:[e.jsx(as,{className:"w-4 h-4 mr-1"}),"新建任务"]})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[j.map(P=>e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:P.templateName}),e.jsx(V,{variant:P.enabled?"default":"secondary",children:P.enabled?"启用":"禁用"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(oh,{className:"w-3 h-3"}),P.schedule==="daily"?"每日":P.schedule==="weekly"?"每周":P.schedule==="monthly"?"每月":"每季度"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hs,{className:"w-3 h-3"}),"下次运行: ",D(P.nextRun)]}),P.lastRun&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"w-3 h-3"}),"上次运行: ",D(P.lastRun)]})]}),e.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["收件人: ",P.recipients.join(", ")]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{size:"sm",variant:"outline",onClick:()=>T(P.id),children:P.enabled?e.jsxs(e.Fragment,{children:[e.jsx(Yc,{className:"w-4 h-4 mr-1"}),"暂停"]}):e.jsxs(e.Fragment,{children:[e.jsx(ma,{className:"w-4 h-4 mr-1"}),"启用"]})}),e.jsx(S,{size:"sm",variant:"ghost",children:e.jsx(Je,{className:"w-4 h-4"})}),e.jsx(S,{size:"sm",variant:"ghost",children:e.jsx(ut,{className:"w-4 h-4"})})]})]},P.id)),j.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ce,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"暂无定时任务"})]})]})})]})})]})]})}),e.jsx(Te,{})]})}function Jj(){const s=Qe(),[t,a]=o.useState([{id:"1",name:"项目启动",status:"completed",score:95,description:"完成项目立项、文献调研和初步方案设计",requirements:["项目计划书","文献综述报告","初步技术方案"]},{id:"2",name:"中期进展",status:"in-progress",deadline:"2025-08-25",daysRemaining:5,description:"完成主要实验设计和初步数据收集",requirements:["实验设计方案","初步实验数据","中期进展报告"]},{id:"3",name:"实验完成",status:"not-started",deadline:"2025-09-15",description:"完成所有实验并进行数据分析",requirements:["完整实验数据","数据分析报告","实验总结"]},{id:"4",name:"最终报告",status:"not-started",deadline:"2025-10-01",description:"撰写并提交最终研究报告",requirements:["最终研究报告","项目总结PPT","成果展示材料"]}]),[n,r]=o.useState(t[1]),[l,i]=o.useState(""),[c,d]=o.useState([]),[m,u]=o.useState(!1),h=x=>{switch(x){case"completed":return e.jsx(fe,{className:"w-5 h-5 text-green-500"});case"in-progress":return e.jsx(zt,{className:"w-5 h-5 text-yellow-500"});default:return e.jsx(oa,{className:"w-5 h-5 text-gray-400"})}},p=x=>{switch(x){case"completed":return"已完成";case"in-progress":return"进行中";default:return"未开始"}},g=()=>{const x=document.createElement("input");x.type="file",x.multiple=!0,x.accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx",x.onchange=f=>{const w=f.target.files;if(w){const D=Array.from(w).map(y=>y.name);d(y=>[...y,...D])}},x.click()},b=()=>{if(!l.trim()){alert("请填写报告内容");return}if(c.length===0){alert("请上传相关文档");return}alert("里程碑报告已提交成功！"),a(x=>x.map(f=>f.id===n.id?{...f,status:"completed",score:Math.floor(Math.random()*10)+90}:f)),i(""),d([])},j=t.filter(x=>x.status==="completed").length/t.length*100;return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"里程碑报告"}),e.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[e.jsxs("span",{className:"text-gray-600",children:["第",t.findIndex(x=>x.status==="in-progress")+1,"个里程碑/共",t.length,"个"]}),e.jsx("div",{className:"flex-1",children:e.jsx(te,{value:j,className:"h-2"})}),e.jsxs("span",{className:"text-sm font-medium",children:[Math.round(j),"%"]})]})]}),e.jsxs(R,{className:"mb-6",children:[e.jsx(O,{children:e.jsx(L,{children:"里程碑进度"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:t.map((x,f)=>e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${x.status==="in-progress"?"bg-blue-50 border-blue-200":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[h(x.status),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:["M",f+1,": ",x.name]}),e.jsx("div",{className:"text-sm text-gray-600",children:x.description})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[x.score&&e.jsxs(V,{variant:"secondary",children:[x.score,"分"]}),e.jsx(V,{variant:x.status==="completed"?"default":x.status==="in-progress"?"secondary":"outline",children:p(x.status)}),x.deadline&&x.status!=="completed"&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(Ce,{className:"w-4 h-4"}),x.daysRemaining?`${x.daysRemaining}天后`:x.deadline]})]})]},x.id))})})]}),e.jsxs(R,{children:[e.jsxs(O,{children:[e.jsxs(L,{children:["当前里程碑: ",n.name,"报告"]}),n.daysRemaining&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-600",children:[e.jsx(ze,{className:"w-4 h-4"}),e.jsxs("span",{children:["截止时间：",n.daysRemaining,"天后"]})]})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"report-content",children:"报告内容"}),e.jsx(Ie,{id:"report-content",placeholder:"请输入里程碑完成情况、主要成果、遇到的问题等...",value:l,onChange:x=>i(x.target.value),rows:8,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(H,{children:"上传文档"}),e.jsx("div",{className:"mt-2 space-y-2",children:c.map((x,f)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm p-2 bg-gray-50 rounded",children:[e.jsx(Ne,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{children:x}),e.jsx("button",{onClick:()=>d(w=>w.filter((D,y)=>y!==f)),className:"ml-auto text-red-500 hover:text-red-700",children:"删除"})]},f))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{onClick:()=>s("/learning-report"),children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"在线填写表单"]}),e.jsxs(S,{variant:"outline",onClick:g,children:[e.jsx(Ms,{className:"w-4 h-4 mr-2"}),"上传文档"]}),e.jsxs(S,{variant:"outline",onClick:()=>u(!m),children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"查看要求"]})]}),m&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"里程碑要求"}),e.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700",children:n.requirements.map((x,f)=>e.jsx("li",{children:x},f))})]}),e.jsxs("div",{className:"pt-4 border-t flex justify-end gap-2",children:[e.jsx(S,{variant:"outline",onClick:()=>s("/progress-tracking"),children:"保存草稿"}),e.jsx(S,{onClick:b,disabled:!l.trim()||c.length===0,children:"提交报告"})]})]})]})]})}),e.jsx(Te,{})]})}function eg(){const s=Qe(),[t,a]=o.useState([{id:"1",name:"答辩截止提醒",priority:"urgent",channels:["system","sms","email"],triggerConditions:"答辩前1天",enabled:!0,lastTriggered:"2025-08-19 10:00",status:"sent"},{id:"2",name:"作业截止提醒",priority:"important",channels:["system","email"],triggerConditions:"作业截止前3天",enabled:!0,lastTriggered:"2025-08-18 15:00",status:"sent"},{id:"3",name:"新任务发布",priority:"normal",channels:["system"],triggerConditions:"任务发布时",enabled:!0,lastTriggered:"2025-08-17 09:00",status:"sent"},{id:"4",name:"成绩更新通知",priority:"info",channels:["system"],triggerConditions:"成绩发布或更新时",enabled:!0,lastTriggered:"2025-08-16 14:00",status:"sent"}]),[n,r]=o.useState([{id:"1",type:"答辩截止提醒",priority:"urgent",channels:["system","sms","email"],recipient:"全体学生",sentAt:"2025-08-19 10:00",status:"sent",content:"您的毕业答辩将于明天进行，请做好准备"},{id:"2",type:"作业截止提醒",priority:"important",channels:["system","email"],recipient:"张三",sentAt:"2025-08-18 15:00",status:"sent",content:"实验报告将于3天后截止提交"},{id:"3",type:"新任务发布",priority:"normal",channels:["system"],recipient:"李四",sentAt:"2025-08-17 09:00",status:"failed",content:"新的研究任务已发布，请查看详情"}]),[l,i]=o.useState(!1),[c,d]=o.useState({systemNotifications:!0,emailNotifications:!0,smsNotifications:!1,quietHoursEnabled:!0,quietHoursStart:"22:00",quietHoursEnd:"08:00"}),m=j=>{switch(j){case"urgent":return e.jsx(ze,{className:"w-4 h-4 text-red-500"});case"important":return e.jsx(Me,{className:"w-4 h-4 text-yellow-500"});case"normal":return e.jsx(En,{className:"w-4 h-4 text-green-500"});case"info":return e.jsx(En,{className:"w-4 h-4 text-blue-500"});default:return e.jsx(En,{className:"w-4 h-4 text-gray-500"})}},u=j=>{switch(j){case"urgent":return"紧急通知";case"important":return"重要提醒";case"normal":return"一般通知";case"info":return"信息更新";default:return"未知"}},h=j=>{switch(j){case"system":return e.jsx(Ra,{className:"w-4 h-4"});case"email":return e.jsx(hl,{className:"w-4 h-4"});case"sms":return e.jsx(B3,{className:"w-4 h-4"});default:return e.jsx(xt,{className:"w-4 h-4"})}},p=j=>{switch(j){case"system":return"系统通知";case"email":return"邮件";case"sms":return"短信";default:return j}},g=j=>{switch(j){case"sent":return e.jsx(fe,{className:"w-4 h-4 text-green-500"});case"failed":return e.jsx(Ks,{className:"w-4 h-4 text-red-500"});case"pending":return e.jsx(Ce,{className:"w-4 h-4 text-yellow-500"});default:return null}},b=j=>{a(x=>x.map(f=>f.id===j?{...f,enabled:!f.enabled}:f))},N=j=>{confirm("确定要删除此通知类型吗？")&&a(x=>x.filter(f=>f.id!==j))};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"通知管理中心"}),e.jsxs(S,{onClick:()=>s("/notification-settings"),children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"通知设置"]})]}),e.jsxs(Ye,{defaultValue:"types",className:"w-full",children:[e.jsxs(qe,{children:[e.jsx(J,{value:"types",children:"通知类型"}),e.jsx(J,{value:"history",children:"发送历史"}),e.jsx(J,{value:"settings",children:"个人设置"})]}),e.jsx(ee,{value:"types",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(L,{children:"通知类型配置"}),e.jsxs(S,{size:"sm",onClick:()=>i(!l),children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"添加通知类型"]})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-5 gap-4 pb-2 border-b font-medium text-sm text-gray-600",children:[e.jsx("div",{children:"通知类型"}),e.jsx("div",{children:"渠道"}),e.jsx("div",{children:"触发条件"}),e.jsx("div",{children:"状态"}),e.jsx("div",{children:"操作"})]}),t.map(j=>e.jsxs("div",{className:"grid grid-cols-5 gap-4 items-center py-3 border-b",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[m(j.priority),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:j.name}),e.jsx(V,{variant:j.priority==="urgent"?"destructive":j.priority==="important"?"default":j.priority==="normal"?"secondary":"outline",className:"text-xs mt-1",children:u(j.priority)})]})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:j.channels.map(x=>e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[h(x),e.jsx("span",{children:p(x)})]},x))}),e.jsx("div",{className:"text-sm text-gray-600",children:j.triggerConditions}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{checked:j.enabled,onCheckedChange:()=>b(j.id)}),j.status&&g(j.status)]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{size:"sm",variant:"outline",children:e.jsx(Yi,{className:"w-4 h-4"})}),e.jsx(S,{size:"sm",variant:"outline",onClick:()=>N(j.id),children:e.jsx(ut,{className:"w-4 h-4"})})]})]},j.id))]})})]})}),e.jsx(ee,{value:"history",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"通知发送历史"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:n.map(j=>e.jsxs("div",{className:"flex items-start justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m(j.priority),e.jsx("span",{className:"font-medium",children:j.type}),g(j.status)]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:j.content}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ce,{className:"w-3 h-3"}),e.jsx("span",{children:j.sentAt})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Os,{className:"w-3 h-3"}),e.jsxs("span",{children:["发送至: ",j.recipient]})]}),e.jsx("div",{className:"flex gap-2",children:j.channels.map(x=>e.jsx(V,{variant:"outline",className:"text-xs",children:p(x)},x))})]})]}),e.jsx(S,{size:"sm",variant:"outline",children:"重新发送"})]},j.id))})})]})}),e.jsx(ee,{value:"settings",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"个人通知设置"})}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(H,{children:"系统通知"}),e.jsx("p",{className:"text-sm text-gray-600",children:"在系统内接收通知提醒"})]}),e.jsx(Bs,{checked:c.systemNotifications,onCheckedChange:j=>d(x=>({...x,systemNotifications:j}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(H,{children:"邮件通知"}),e.jsx("p",{className:"text-sm text-gray-600",children:"通过邮件接收重要通知"})]}),e.jsx(Bs,{checked:c.emailNotifications,onCheckedChange:j=>d(x=>({...x,emailNotifications:j}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(H,{children:"短信通知"}),e.jsx("p",{className:"text-sm text-gray-600",children:"通过短信接收紧急通知"})]}),e.jsx(Bs,{checked:c.smsNotifications,onCheckedChange:j=>d(x=>({...x,smsNotifications:j}))})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(H,{children:"免打扰时段"}),e.jsx("p",{className:"text-sm text-gray-600",children:"在指定时间段内不接收通知"})]}),e.jsx(Bs,{checked:c.quietHoursEnabled,onCheckedChange:j=>d(x=>({...x,quietHoursEnabled:j}))})]}),c.quietHoursEnabled&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(H,{htmlFor:"quiet-start",children:"开始时间"}),e.jsx(se,{id:"quiet-start",type:"time",value:c.quietHoursStart,onChange:j=>d(x=>({...x,quietHoursStart:j.target.value}))})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(H,{htmlFor:"quiet-end",children:"结束时间"}),e.jsx(se,{id:"quiet-end",type:"time",value:c.quietHoursEnd,onChange:j=>d(x=>({...x,quietHoursEnd:j.target.value}))})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(S,{children:"保存设置"})})]})]})})]})]})}),e.jsx(Te,{})]})}function sg(){var k,C,M,z,I;const[s,t]=o.useState([{id:"1",name:"作业截止提醒",conditions:[{id:"1",field:"作业截止时间",operator:"小于",value:"24",unit:"小时"},{id:"2",field:"提交状态",operator:"等于",value:"未提交"}],action:{systemNotification:!0,email:!0,sms:!1,reminderText:"您有作业即将截止，请及时提交"},enabled:!0,createdAt:"2024-01-15",lastTriggered:"2024-01-20 14:30",triggerCount:15},{id:"2",name:"周报未提交提醒",conditions:[{id:"1",field:"周报提交状态",operator:"等于",value:"未提交"},{id:"2",field:"当前时间",operator:"等于",value:"周五下午5点"}],action:{systemNotification:!0,email:!1,sms:!1,reminderText:"请提交本周学习周报"},enabled:!0,createdAt:"2024-01-10",lastTriggered:"2024-01-19 17:00",triggerCount:8}]),[a,n]=o.useState(!1),[r,l]=o.useState(null),[i,c]=o.useState({name:"",conditions:[{id:"1",field:"",operator:"",value:""}],action:{systemNotification:!1,email:!1,sms:!1,reminderText:""},enabled:!0}),[d,m]=o.useState(""),[u,h]=o.useState(!1),p=["作业截止时间","提交状态","周报提交状态","当前时间","学习进度","出勤率","成绩状态","会议时间"],g=["等于","不等于","大于","小于","包含","不包含"],b=()=>{const F={id:Date.now().toString(),field:"",operator:"",value:""};c({...i,conditions:[...i.conditions||[],F]})},N=F=>{var $;c({...i,conditions:(($=i.conditions)==null?void 0:$.filter(B=>B.id!==F))||[]})},j=(F,$,B)=>{var A;c({...i,conditions:((A=i.conditions)==null?void 0:A.map(_=>_.id===F?{..._,[$]:B}:_))||[]})},x=()=>{if(r)t(s.map(F=>F.id===r.id?{...r,...i}:F));else{const F={id:Date.now().toString(),name:i.name||"新规则",conditions:i.conditions||[],action:i.action||{systemNotification:!1,email:!1,sms:!1,reminderText:""},enabled:!0,createdAt:new Date().toISOString().split("T")[0],triggerCount:0};t([...s,F])}n(!1),l(null),f()},f=()=>{c({name:"",conditions:[{id:"1",field:"",operator:"",value:""}],action:{systemNotification:!1,email:!1,sms:!1,reminderText:""},enabled:!0})},w=F=>{l(F),c(F),n(!0)},D=F=>{t(s.filter($=>$.id!==F))},y=F=>{t(s.map($=>$.id===F?{...$,enabled:!$.enabled}:$))},T=F=>{m(`规则"${F.name}"测试成功！
    
触发条件:
${F.conditions.map($=>`- ${$.field} ${$.operator} ${$.value}${$.unit?$.unit:""}`).join(`
`)}

执行动作:
${F.action.systemNotification?"- ✓ 系统通知":""}
${F.action.email?"- ✓ 邮件提醒":""}
${F.action.sms?"- ✓ 短信通知":""}

提醒文案: ${F.action.reminderText}`),h(!0)},v=[{id:"1",ruleId:"1",ruleName:"作业截止提醒",triggerTime:"2024-01-20 14:30:00",targetUsers:15,status:"success",details:"成功发送15条提醒"},{id:"2",ruleId:"2",ruleName:"周报未提交提醒",triggerTime:"2024-01-19 17:00:00",targetUsers:8,status:"success",details:"成功发送8条提醒"},{id:"3",ruleId:"1",ruleName:"作业截止提醒",triggerTime:"2024-01-19 14:30:00",targetUsers:12,status:"partial",details:"发送12条提醒，2条失败"}],P=[{id:"1",name:"作业截止提醒模板",description:"在作业截止前24小时提醒未提交的学生",category:"作业管理"},{id:"2",name:"周报提醒模板",description:"每周五下午5点提醒未提交周报的学生",category:"进度管理"},{id:"3",name:"会议提醒模板",description:"会议开始前30分钟提醒参会人员",category:"会议管理"},{id:"4",name:"成绩发布通知模板",description:"成绩发布后立即通知学生查看",category:"成绩管理"}];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Pe,{}),e.jsxs("main",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"智能提醒规则引擎"}),e.jsx("p",{className:"text-muted-foreground",children:"配置和管理各类自动提醒规则，支持灵活的条件设置和自动化执行"})]}),e.jsxs(Ye,{defaultValue:"rules",className:"space-y-4",children:[e.jsxs(qe,{className:"grid w-full grid-cols-3",children:[e.jsx(J,{value:"rules",children:"规则管理"}),e.jsx(J,{value:"logs",children:"执行日志"}),e.jsx(J,{value:"templates",children:"规则模板"})]}),e.jsxs(ee,{value:"rules",className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(se,{placeholder:"搜索规则...",className:"w-64"}),e.jsxs(ie,{defaultValue:"all",children:[e.jsx(re,{className:"w-32",children:e.jsx(ce,{placeholder:"状态"})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"全部"}),e.jsx(W,{value:"enabled",children:"已启用"}),e.jsx(W,{value:"disabled",children:"已禁用"})]})]})]}),e.jsxs(Ge,{open:a,onOpenChange:n,children:[e.jsx(Ta,{asChild:!0,children:e.jsxs(S,{onClick:()=>{l(null),f()},children:[e.jsx(KN,{className:"mr-2 h-4 w-4"}),"新建规则"]})}),e.jsxs(Be,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(We,{children:e.jsx(Ve,{children:r?"编辑规则":"新建提醒规则"})}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(H,{htmlFor:"rule-name",children:"规则名称"}),e.jsx(se,{id:"rule-name",value:i.name,onChange:F=>c({...i,name:F.target.value}),placeholder:"请输入规则名称"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"触发条件"}),e.jsx(R,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[(k=i.conditions)==null?void 0:k.map((F,$)=>e.jsxs("div",{className:"flex gap-2 items-center",children:[$>0&&e.jsx("span",{className:"text-sm text-muted-foreground",children:"且"}),e.jsx("span",{className:"text-sm",children:"当"}),e.jsxs(ie,{value:F.field,onValueChange:B=>j(F.id,"field",B),children:[e.jsx(re,{className:"w-40",children:e.jsx(ce,{placeholder:"选择字段"})}),e.jsx(le,{children:p.map(B=>e.jsx(W,{value:B,children:B},B))})]}),e.jsxs(ie,{value:F.operator,onValueChange:B=>j(F.id,"operator",B),children:[e.jsx(re,{className:"w-24",children:e.jsx(ce,{placeholder:"操作符"})}),e.jsx(le,{children:g.map(B=>e.jsx(W,{value:B,children:B},B))})]}),e.jsx(se,{value:F.value,onChange:B=>j(F.id,"value",B.target.value),placeholder:"值",className:"w-24"}),F.field.includes("时间")&&e.jsxs(ie,{value:F.unit,onValueChange:B=>j(F.id,"unit",B),children:[e.jsx(re,{className:"w-20",children:e.jsx(ce,{placeholder:"单位"})}),e.jsxs(le,{children:[e.jsx(W,{value:"分钟",children:"分钟"}),e.jsx(W,{value:"小时",children:"小时"}),e.jsx(W,{value:"天",children:"天"})]})]}),i.conditions&&i.conditions.length>1&&e.jsx(S,{variant:"ghost",size:"icon",onClick:()=>N(F.id),children:e.jsx(ut,{className:"h-4 w-4"})})]},F.id)),e.jsxs(S,{variant:"outline",size:"sm",onClick:b,className:"mt-2",children:[e.jsx(as,{className:"mr-2 h-4 w-4"}),"添加条件"]})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"执行动作"}),e.jsxs(R,{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"system-notification",checked:(C=i.action)==null?void 0:C.systemNotification,onCheckedChange:F=>c({...i,action:{...i.action,systemNotification:!!F}})}),e.jsx(H,{htmlFor:"system-notification",className:"cursor-pointer",children:"发送系统通知"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"email",checked:(M=i.action)==null?void 0:M.email,onCheckedChange:F=>c({...i,action:{...i.action,email:!!F}})}),e.jsx(H,{htmlFor:"email",className:"cursor-pointer",children:"发送邮件提醒"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"sms",checked:(z=i.action)==null?void 0:z.sms,onCheckedChange:F=>c({...i,action:{...i.action,sms:!!F}})}),e.jsx(H,{htmlFor:"sms",className:"cursor-pointer",children:"发送短信通知"})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"reminder-text",children:"提醒文案"}),e.jsx(Ie,{id:"reminder-text",value:(I=i.action)==null?void 0:I.reminderText,onChange:F=>c({...i,action:{...i.action,reminderText:F.target.value}}),placeholder:"请输入提醒文案",rows:3})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(S,{variant:"outline",onClick:()=>{n(!1),l(null),f()},children:"取消"}),e.jsxs(S,{onClick:x,children:[e.jsx(_t,{className:"mr-2 h-4 w-4"}),"保存规则"]})]})]})]})]})]}),e.jsx("div",{className:"grid gap-4",children:s.map(F=>e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(L,{className:"text-lg flex items-center gap-2",children:[F.name,e.jsx(V,{variant:F.enabled?"default":"secondary",children:F.enabled?"已启用":"已禁用"})]}),e.jsxs(ds,{children:["创建于 ",F.createdAt," · 已触发 ",F.triggerCount," 次",F.lastTriggered&&` · 最后触发: ${F.lastTriggered}`]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{variant:"ghost",size:"icon",onClick:()=>y(F.id),children:F.enabled?e.jsx(I3,{className:"h-4 w-4"}):e.jsx(A3,{className:"h-4 w-4"})}),e.jsx(S,{variant:"ghost",size:"icon",onClick:()=>w(F),children:e.jsx(Yi,{className:"h-4 w-4"})}),e.jsx(S,{variant:"ghost",size:"icon",onClick:()=>T(F),children:e.jsx(ma,{className:"h-4 w-4"})}),e.jsx(S,{variant:"ghost",size:"icon",onClick:()=>D(F.id),children:e.jsx(ut,{className:"h-4 w-4"})})]})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-1",children:"触发条件"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:F.conditions.map(($,B)=>e.jsxs("div",{children:[B>0&&e.jsx("span",{children:"且 "}),"当 ",$.field," ",$.operator," ",$.value,$.unit&&` ${$.unit}`]},$.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-1",children:"执行动作"}),e.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[F.action.systemNotification&&e.jsx("span",{children:"✓ 系统通知"}),F.action.email&&e.jsx("span",{children:"✓ 邮件提醒"}),F.action.sms&&e.jsx("span",{children:"✓ 短信通知"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["提醒文案: ",F.action.reminderText]})]})]})})]},F.id))})]}),e.jsx(ee,{value:"logs",className:"space-y-4",children:e.jsxs(R,{children:[e.jsxs(O,{children:[e.jsx(L,{children:"执行日志"}),e.jsx(ds,{children:"查看规则触发历史和执行结果"})]}),e.jsx(E,{children:e.jsxs(On,{children:[e.jsx(_n,{children:e.jsxs(Hs,{children:[e.jsx(Xe,{children:"规则名称"}),e.jsx(Xe,{children:"触发时间"}),e.jsx(Xe,{children:"目标用户数"}),e.jsx(Xe,{children:"状态"}),e.jsx(Xe,{children:"详情"})]})}),e.jsx(Ln,{children:v.map(F=>e.jsxs(Hs,{children:[e.jsx(Re,{children:F.ruleName}),e.jsx(Re,{children:F.triggerTime}),e.jsx(Re,{children:F.targetUsers}),e.jsx(Re,{children:e.jsx(V,{variant:F.status==="success"?"default":F.status==="partial"?"secondary":"destructive",children:F.status==="success"?"成功":F.status==="partial"?"部分成功":"失败"})}),e.jsx(Re,{children:F.details})]},F.id))})]})})]})}),e.jsx(ee,{value:"templates",className:"space-y-4",children:e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:P.map(F=>e.jsxs(R,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[e.jsx(O,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(L,{className:"text-lg",children:F.name}),e.jsx(ds,{children:F.description})]}),e.jsx(V,{variant:"outline",children:F.category})]})}),e.jsx(E,{children:e.jsxs(S,{className:"w-full",variant:"outline",children:[e.jsx(Je,{className:"mr-2 h-4 w-4"}),"使用此模板"]})})]},F.id))})})]}),e.jsx(Ge,{open:u,onOpenChange:h,children:e.jsxs(Be,{children:[e.jsx(We,{children:e.jsx(Ve,{children:"规则测试结果"})}),e.jsx("div",{className:"whitespace-pre-wrap text-sm",children:d}),e.jsx("div",{className:"flex justify-end",children:e.jsx(S,{onClick:()=>h(!1),children:"关闭"})})]})})]}),e.jsx(Te,{})]})}function tg(){var U;const[s,t]=o.useState(1),[a,n]=o.useState(""),[r,l]=o.useState(null),[i,c]=o.useState([]),[d,m]=o.useState([]),[u,h]=o.useState([]),[p,g]=o.useState(!1),[b,N]=o.useState(0),[j,x]=o.useState(null),[f,w]=o.useState([]),[D,y]=o.useState([]),T=o.useRef(null),v=[{id:"students",name:"学生信息",description:"导入学生基本信息",fields:["学生姓名","学生ID","所属班级","联系电话","邮箱地址"]},{id:"grades",name:"成绩数据",description:"导入学生成绩信息",fields:["学生ID","课程名称","成绩","学期","学分"]},{id:"mentors",name:"导师信息",description:"导入导师基本信息",fields:["导师姓名","工号","研究方向","联系方式","可带学生数"]},{id:"courses",name:"课程信息",description:"导入课程基本信息",fields:["课程编号","课程名称","学分","课时","授课教师"]}],P=G=>{var ne;const Y=(ne=G.target.files)==null?void 0:ne[0];Y&&(l(Y),k())},k=G=>{m(["姓名","学号","班级","电话","邮箱"]);const ne=[{姓名:"张三",学号:"2024001",班级:"科研实验班1班",电话:"13800138001",邮箱:"zhangsan@example.com"},{姓名:"李四",学号:"2024002",班级:"科研实验班1班",电话:"13800138002",邮箱:"lisi@example.com"},{姓名:"王五",学号:"2024003",班级:"科研实验班2班",电话:"13800138003",邮箱:"wangwu@example.com"},{姓名:"赵六",学号:"2024004",班级:"科研实验班2班",电话:"13800138004",邮箱:"zhaoliu@example.com"},{姓名:"孙七",学号:"2024005",班级:"科研实验班1班",电话:"13800138005",邮箱:"sunqi@example.com"}];c(ne),w(ne.slice(0,3))},C=G=>{G.preventDefault();const Y=G.dataTransfer.files[0];Y&&(l(Y),k())},M=()=>{const G=v.find(ge=>ge.id===a);if(!G)return;const Y=[],ne={姓名:"学生姓名",学号:"学生ID",班级:"所属班级",电话:"联系电话",邮箱:"邮箱地址"};d.forEach(ge=>{const ke=ne[ge]||"";ke&&G.fields.includes(ke)&&Y.push({excelColumn:ge,systemField:ke})}),h(Y)},z=(G,Y)=>{h(ne=>ne.find(ke=>ke.excelColumn===G)?ne.map(ke=>ke.excelColumn===G?{...ke,systemField:Y}:ke):[...ne,{excelColumn:G,systemField:Y}])},I=()=>{const G=[];return i.forEach((Y,ne)=>{(!Y.学号||Y.学号.length!==7)&&G.push({row:ne+1,column:"学号",message:"学号格式不正确",value:Y.学号||""}),Y.邮箱&&!Y.邮箱.includes("@")&&G.push({row:ne+1,column:"邮箱",message:"邮箱格式不正确",value:Y.邮箱})}),y(G),G.length===0},F=async()=>{g(!0),N(0);for(let Y=0;Y<=100;Y+=10)await new Promise(ne=>setTimeout(ne,200)),N(Y);const G={totalRecords:i.length,successCount:i.length-D.length,errorCount:D.length,errors:D};x(G),g(!1),t(4)},$=()=>{if(s===1&&!a){alert("请选择导入类型");return}if(s===2&&!r){alert("请上传文件");return}if(s===2&&r&&M(),s===3&&!I()){alert("数据验证失败，请检查错误信息");return}t(G=>Math.min(G+1,4))},B=()=>{t(G=>Math.max(G-1,1))},A=()=>{t(1),n(""),l(null),c([]),m([]),h([]),N(0),x(null),w([]),y([])},_=()=>{const G=v.find(Y=>Y.id===a);G&&alert(`下载${G.name}导入模板`)},q=()=>{alert("下载错误报告")};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Pe,{}),e.jsxs("main",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"批量导入工具"}),e.jsx("p",{className:"text-muted-foreground",children:"向导式批量数据导入，支持Excel文件导入、字段映射和数据验证"})]}),e.jsxs(R,{children:[e.jsxs(O,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(L,{children:"批量数据导入向导"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["步骤 ",s,"/4"]})]}),e.jsx(te,{value:s*25,className:"mt-2"})]}),e.jsxs(E,{children:[s===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"选择导入类型"}),e.jsxs(ie,{value:a,onValueChange:n,children:[e.jsx(re,{className:"w-full mt-2",children:e.jsx(ce,{placeholder:"请选择要导入的数据类型"})}),e.jsx(le,{children:v.map(G=>e.jsxs(W,{value:G.id,children:[G.name," - ",G.description]},G.id))})]})]}),a&&e.jsxs("div",{className:"mt-4",children:[e.jsxs(ue,{children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx(ti,{children:"导入须知"}),e.jsx(xe,{children:e.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[e.jsx("li",{children:"• 支持 Excel (.xlsx, .xls) 格式文件"}),e.jsx("li",{children:"• 文件大小不超过 10MB"}),e.jsx("li",{children:"• 第一行应为列标题"}),e.jsx("li",{children:"• 确保数据格式正确，避免导入失败"})]})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"font-medium mb-2",children:"必需字段"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(U=v.find(G=>G.id===a))==null?void 0:U.fields.map(G=>e.jsx(V,{variant:"outline",children:G},G))})]}),e.jsxs(S,{onClick:_,variant:"outline",className:"mt-4",children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"下载导入模板"]})]})]}),s===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"文件上传"}),e.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors cursor-pointer",onDrop:C,onDragOver:G=>G.preventDefault(),onClick:()=>{var G;return(G=T.current)==null?void 0:G.click()},children:[e.jsx("input",{ref:T,type:"file",accept:".xlsx,.xls",onChange:P,className:"hidden"}),e.jsx(Ms,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"拖拽Excel文件到此处"}),e.jsx("p",{className:"text-sm text-gray-500",children:"或"}),e.jsx(S,{variant:"outline",size:"sm",className:"mt-2",children:"选择文件"})]})]}),r&&e.jsxs(ue,{children:[e.jsx(ih,{className:"h-4 w-4"}),e.jsx(ti,{children:"文件已上传"}),e.jsx(xe,{children:e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("p",{children:["文件名: ",r.name]}),e.jsxs("p",{children:["大小: ",(r.size/1024/1024).toFixed(2)," MB"]}),e.jsxs("p",{children:["检测到: ",i.length," 条记录"]})]})})]}),f.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:"数据预览（前3条）"}),e.jsx(ot,{className:"h-[200px] w-full border rounded",children:e.jsxs(On,{children:[e.jsx(_n,{children:e.jsx(Hs,{children:d.map(G=>e.jsx(Xe,{children:G},G))})}),e.jsx(Ln,{children:f.map((G,Y)=>e.jsx(Hs,{children:d.map(ne=>e.jsx(Re,{children:G[ne]},ne))},Y))})]})})]})]}),s===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx(H,{children:"字段映射"}),e.jsx(S,{onClick:M,variant:"outline",size:"sm",children:"自动匹配"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-5 gap-2 font-medium text-sm",children:[e.jsx("div",{className:"col-span-2",children:"Excel列"}),e.jsx("div",{className:"text-center",children:"→"}),e.jsx("div",{className:"col-span-2",children:"系统字段"})]}),d.map(G=>{const Y=u.find(ge=>ge.excelColumn===G),ne=v.find(ge=>ge.id===a);return e.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[e.jsx("div",{className:"col-span-2 text-sm",children:G}),e.jsx("div",{className:"text-center",children:"→"}),e.jsx("div",{className:"col-span-2",children:e.jsxs(ie,{value:(Y==null?void 0:Y.systemField)||"",onValueChange:ge=>z(G,ge),children:[e.jsx(re,{className:"w-full",children:e.jsx(ce,{placeholder:"选择系统字段"})}),e.jsxs(le,{children:[e.jsx(W,{value:"",children:"不导入"}),ne==null?void 0:ne.fields.map(ge=>e.jsx(W,{value:ge,children:ge},ge))]})]})})]},G)})]}),D.length>0&&e.jsxs(ue,{variant:"destructive",children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx(ti,{children:"数据验证失败"}),e.jsx(xe,{children:e.jsx(ot,{className:"h-[150px] mt-2",children:e.jsx("ul",{className:"space-y-1 text-sm",children:D.map((G,Y)=>e.jsxs("li",{children:["第",G.row,"行 - ",G.column,": ",G.message," (值: ",G.value,")"]},Y))})})})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["已映射 ",u.length," / ",d.length," 个字段"]}),e.jsx(S,{onClick:()=>I(),variant:"outline",size:"sm",children:"验证数据"})]})]}),s===4&&e.jsx("div",{className:"space-y-4",children:p?e.jsxs("div",{className:"space-y-4 py-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"正在导入数据..."}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"请勿关闭页面，导入过程可能需要几分钟"})]}),e.jsx(te,{value:b}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[b,"%"]})]}):j&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs(ue,{className:j.errorCount>0?"border-yellow-500":"border-green-500",children:[j.errorCount>0?e.jsx(ze,{className:"h-4 w-4 text-yellow-500"}):e.jsx(fe,{className:"h-4 w-4 text-green-500"}),e.jsx(ti,{children:j.errorCount>0?"导入部分成功":"导入成功"}),e.jsx(xe,{children:e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("p",{children:["总记录数: ",j.totalRecords]}),e.jsxs("p",{className:"text-green-600",children:["成功导入: ",j.successCount," 条"]}),j.errorCount>0&&e.jsxs("p",{className:"text-red-600",children:["失败记录: ",j.errorCount," 条"]})]})})]}),j.errors.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-medium",children:"错误详情"}),e.jsxs(S,{onClick:q,variant:"outline",size:"sm",children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"下载错误报告"]})]}),e.jsx(ot,{className:"h-[200px] border rounded",children:e.jsxs(On,{children:[e.jsx(_n,{children:e.jsxs(Hs,{children:[e.jsx(Xe,{children:"行号"}),e.jsx(Xe,{children:"字段"}),e.jsx(Xe,{children:"错误信息"}),e.jsx(Xe,{children:"原始值"})]})}),e.jsx(Ln,{children:j.errors.map((G,Y)=>e.jsxs(Hs,{children:[e.jsx(Re,{children:G.row}),e.jsx(Re,{children:G.column}),e.jsx(Re,{children:G.message}),e.jsx(Re,{children:G.value})]},Y))})]})})]}),e.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[e.jsxs(S,{onClick:A,variant:"outline",children:[e.jsx(El,{className:"mr-2 h-4 w-4"}),"重新导入"]}),e.jsx(S,{onClick:()=>window.location.href="/",children:"完成"})]})]})}),s<4&&e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsxs(S,{onClick:B,variant:"outline",disabled:s===1,children:[e.jsx(br,{className:"mr-2 h-4 w-4"}),"上一步"]}),e.jsxs(S,{onClick:s===3?F:$,disabled:s===1&&!a||s===2&&!r,children:[s===3?"开始导入":"下一步",s<3&&e.jsx(Us,{className:"ml-2 h-4 w-4"})]})]})]})]}),e.jsxs(R,{className:"mt-6",children:[e.jsxs(O,{children:[e.jsx(L,{children:"导入历史"}),e.jsx(ds,{children:"查看最近的导入记录"})]}),e.jsx(E,{children:e.jsxs(On,{children:[e.jsx(_n,{children:e.jsxs(Hs,{children:[e.jsx(Xe,{children:"导入时间"}),e.jsx(Xe,{children:"数据类型"}),e.jsx(Xe,{children:"文件名"}),e.jsx(Xe,{children:"总记录数"}),e.jsx(Xe,{children:"成功数"}),e.jsx(Xe,{children:"状态"}),e.jsx(Xe,{children:"操作"})]})}),e.jsxs(Ln,{children:[e.jsxs(Hs,{children:[e.jsx(Re,{children:"2024-01-20 14:30"}),e.jsx(Re,{children:"学生信息"}),e.jsx(Re,{children:"students_2024.xlsx"}),e.jsx(Re,{children:"150"}),e.jsx(Re,{children:"148"}),e.jsx(Re,{children:e.jsx(V,{variant:"secondary",children:"部分成功"})}),e.jsx(Re,{children:e.jsx(S,{variant:"ghost",size:"sm",children:"查看详情"})})]}),e.jsxs(Hs,{children:[e.jsx(Re,{children:"2024-01-18 10:15"}),e.jsx(Re,{children:"成绩数据"}),e.jsx(Re,{children:"grades_final.xlsx"}),e.jsx(Re,{children:"320"}),e.jsx(Re,{children:"320"}),e.jsx(Re,{children:e.jsx(V,{variant:"default",children:"成功"})}),e.jsx(Re,{children:e.jsx(S,{variant:"ghost",size:"sm",children:"查看详情"})})]}),e.jsxs(Hs,{children:[e.jsx(Re,{children:"2024-01-15 16:20"}),e.jsx(Re,{children:"导师信息"}),e.jsx(Re,{children:"mentors_list.xlsx"}),e.jsx(Re,{children:"45"}),e.jsx(Re,{children:"45"}),e.jsx(Re,{children:e.jsx(V,{variant:"default",children:"成功"})}),e.jsx(Re,{children:e.jsx(S,{variant:"ghost",size:"sm",children:"查看详情"})})]})]})]})})]})]}),e.jsx(Te,{})]})}function ag(){const[s,t]=o.useState("scoring"),[a,n]=o.useState([{id:"1",studentName:"王小明",studentId:"2024001",assignmentName:"实验报告3",submittedAt:"10-15 08:30",status:"ungraded",selected:!0},{id:"2",studentName:"李小红",studentId:"2024002",assignmentName:"实验报告3",submittedAt:"10-15 09:15",status:"ungraded",selected:!0},{id:"3",studentName:"张小华",studentId:"2024003",assignmentName:"实验报告3",submittedAt:"10-15 10:20",status:"ungraded",selected:!0},{id:"4",studentName:"刘大伟",studentId:"2024004",assignmentName:"实验报告3",submittedAt:"10-15 11:45",status:"graded",currentScore:88,selected:!1},{id:"5",studentName:"陈小雨",studentId:"2024005",assignmentName:"实验报告3",submittedAt:"10-15 14:20",status:"ungraded",selected:!1}]),[r,l]=o.useState("range"),[i,c]=o.useState(90),[d,m]=o.useState({min:85,max:95}),[u,h]=o.useState(""),[p,g]=o.useState(""),[b,N]=o.useState(!0),[j,x]=o.useState("all"),[f,w]=o.useState("all"),[D,y]=o.useState(!1),[T,v]=o.useState([]),P=[{id:"1",name:"良好完成，继续努力",content:"作业完成质量良好，概念理解准确，继续保持。"},{id:"2",name:"优秀作业，值得表扬",content:"作业完成出色，思路清晰，分析深入，值得表扬！"},{id:"3",name:"基本完成，仍需改进",content:"作业基本完成要求，但部分内容需要进一步完善。"},{id:"4",name:"自定义评语",content:""}],k=[{id:"1",type:"批量评分",targetCount:30,operator:"张教授",timestamp:"2024-01-20 15:30",status:"completed",details:"实验报告2批量评分，分数区间85-95"},{id:"2",type:"批量通知",targetCount:45,operator:"李秘书",timestamp:"2024-01-19 10:20",status:"completed",details:"发送作业提醒通知"},{id:"3",type:"批量状态更新",targetCount:15,operator:"王助教",timestamp:"2024-01-18 16:45",status:"reverted",details:"更新作业提交状态（已撤销）"}],C=a.filter(A=>A.selected).length,M=A=>{n(a.map(_=>({..._,selected:A})))},z=(A,_)=>{n(a.map(q=>q.id===A?{...q,selected:_}:q))},I=()=>{let A=[...a];j!=="all"&&(A=A.filter(_=>j==="ungraded"?_.status==="ungraded":j==="graded"?_.status==="graded":!0)),n(A)},F=()=>{const _=a.filter(q=>q.selected).map(q=>{let U=0;r==="uniform"?U=i:U=Math.floor(Math.random()*(d.max-d.min+1))+d.min;const G=P.find(ne=>ne.id===u),Y=u==="4"?p:(G==null?void 0:G.content)||"";return{...q,newScore:U,comment:Y}});v(_),y(!0)},$=()=>{const A=a.map(_=>{const q=T.find(U=>U.id===_.id);return q?{..._,status:"graded",currentScore:q.newScore,selected:!1}:_});n(A),y(!1),v([]),alert("批量评分成功！")},B=A=>{alert(`撤销操作 ${A}`)};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Pe,{}),e.jsxs("main",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"批量操作管理"}),e.jsx("p",{className:"text-muted-foreground",children:"高效处理批量评分、通知和状态更新等操作"})]}),e.jsxs(Ye,{value:s,onValueChange:t,children:[e.jsxs(qe,{className:"grid w-full grid-cols-3",children:[e.jsx(J,{value:"scoring",children:"批量评分"}),e.jsx(J,{value:"notification",children:"批量通知"}),e.jsx(J,{value:"history",children:"操作历史"})]}),e.jsxs(ee,{value:"scoring",className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(L,{children:"批量评分操作"}),e.jsxs(V,{variant:"secondary",className:"text-lg px-3 py-1",children:["已选: ",C,"个作业"]})]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"select-all",checked:C===a.length&&C>0,onCheckedChange:M}),e.jsx(H,{htmlFor:"select-all",children:"全选"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"筛选:"}),e.jsxs(ie,{value:j,onValueChange:x,children:[e.jsx(re,{className:"w-24",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"全部"}),e.jsx(W,{value:"ungraded",children:"未评分"}),e.jsx(W,{value:"graded",children:"已评分"})]})]}),e.jsxs(ie,{value:f,onValueChange:w,children:[e.jsx(re,{className:"w-32",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"全部时间"}),e.jsx(W,{value:"today",children:"今天提交"}),e.jsx(W,{value:"week",children:"本周提交"}),e.jsx(W,{value:"month",children:"本月提交"})]})]}),e.jsx(S,{onClick:I,size:"sm",variant:"outline",children:e.jsx(rn,{className:"h-4 w-4"})})]})]}),e.jsx(ot,{className:"h-[300px] border rounded-md p-4",children:e.jsx("div",{className:"space-y-2",children:a.map(A=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-accent",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ae,{checked:A.selected,onCheckedChange:_=>z(A.id,!!_)}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[A.studentName," - ",A.assignmentName]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["提交: ",A.submittedAt]})]})]}),A.status==="graded"&&e.jsxs(V,{variant:"outline",children:["已评分: ",A.currentScore]})]},A.id))})}),e.jsxs(R,{className:"p-4",children:[e.jsx("h3",{className:"font-medium mb-4",children:"批量评分设置"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"评分模式"}),e.jsxs(zl,{value:r,onValueChange:A=>l(A),className:"flex space-x-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rt,{value:"uniform",id:"uniform"}),e.jsx(H,{htmlFor:"uniform",children:"统一分数"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rt,{value:"range",id:"range"}),e.jsx(H,{htmlFor:"range",children:"区间分数"})]})]})]}),r==="uniform"?e.jsxs("div",{children:[e.jsx(H,{htmlFor:"uniform-score",children:"分数"}),e.jsx(se,{id:"uniform-score",type:"number",value:i,onChange:A=>c(Number(A.target.value)),min:"0",max:"100",className:"w-24 mt-1"})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{children:"分数范围"}),e.jsx(se,{type:"number",value:d.min,onChange:A=>m({...d,min:Number(A.target.value)}),min:"0",max:"100",className:"w-20"}),e.jsx("span",{children:"-"}),e.jsx(se,{type:"number",value:d.max,onChange:A=>m({...d,max:Number(A.target.value)}),min:"0",max:"100",className:"w-20"})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"comment-template",children:"评语模板"}),e.jsxs(ie,{value:u,onValueChange:h,children:[e.jsx(re,{className:"mt-1",children:e.jsx(ce,{placeholder:"选择评语模板"})}),e.jsx(le,{children:P.map(A=>e.jsx(W,{value:A.id,children:A.name},A.id))})]})]}),u==="4"&&e.jsxs("div",{children:[e.jsx(H,{htmlFor:"custom-comment",children:"自定义评语"}),e.jsx(Ie,{id:"custom-comment",value:p,onChange:A=>g(A.target.value),placeholder:"请输入评语内容",className:"mt-1",rows:3})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"send-notification",checked:b,onCheckedChange:A=>N(!!A)}),e.jsx(H,{htmlFor:"send-notification",children:"发送成绩通知"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(S,{onClick:F,variant:"outline",disabled:C===0,children:[e.jsx(Le,{className:"mr-2 h-4 w-4"}),"预览结果"]}),e.jsxs(S,{onClick:$,disabled:C===0||!D,children:[e.jsx(fe,{className:"mr-2 h-4 w-4"}),"确认评分"]})]})]})]}),e.jsx(Ge,{open:D,onOpenChange:y,children:e.jsxs(Be,{className:"max-w-3xl",children:[e.jsxs(We,{children:[e.jsx(Ve,{children:"评分预览"}),e.jsx(Ji,{children:"请确认以下评分信息，确认后将批量应用到选中的作业"})]}),e.jsx(ot,{className:"h-[400px] mt-4",children:e.jsxs(On,{children:[e.jsx(_n,{children:e.jsxs(Hs,{children:[e.jsx(Xe,{children:"学生姓名"}),e.jsx(Xe,{children:"作业名称"}),e.jsx(Xe,{children:"评分"}),e.jsx(Xe,{children:"评语"})]})}),e.jsx(Ln,{children:T.map(A=>e.jsxs(Hs,{children:[e.jsx(Re,{children:A.studentName}),e.jsx(Re,{children:A.assignmentName}),e.jsx(Re,{className:"font-medium",children:A.newScore}),e.jsx(Re,{className:"max-w-xs truncate",children:A.comment})]},A.id))})]})}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(S,{variant:"outline",onClick:()=>y(!1),children:"取消"}),e.jsx(S,{onClick:$,children:"确认评分"})]})]})})]}),e.jsx(ee,{value:"notification",className:"space-y-4",children:e.jsxs(R,{children:[e.jsxs(O,{children:[e.jsx(L,{children:"批量通知"}),e.jsx(ds,{children:"向选中的学生批量发送通知消息"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{children:"通知对象"}),e.jsxs(ie,{defaultValue:"selected",children:[e.jsx(re,{className:"mt-1",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsxs(W,{value:"selected",children:["已选学生 (",C,"人)"]}),e.jsx(W,{value:"all",children:"全部学生"}),e.jsx(W,{value:"class",children:"按班级"}),e.jsx(W,{value:"group",children:"按小组"})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:"通知类型"}),e.jsxs(ie,{defaultValue:"reminder",children:[e.jsx(re,{className:"mt-1",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"reminder",children:"作业提醒"}),e.jsx(W,{value:"score",children:"成绩通知"}),e.jsx(W,{value:"meeting",children:"会议通知"}),e.jsx(W,{value:"custom",children:"自定义通知"})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"notification-title",children:"通知标题"}),e.jsx(se,{id:"notification-title",placeholder:"请输入通知标题",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(H,{htmlFor:"notification-content",children:"通知内容"}),e.jsx(Ie,{id:"notification-content",placeholder:"请输入通知内容",className:"mt-1",rows:5})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"发送渠道"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"channel-system",defaultChecked:!0}),e.jsx(H,{htmlFor:"channel-system",children:"系统通知"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"channel-email"}),e.jsx(H,{htmlFor:"channel-email",children:"邮件通知"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"channel-sms"}),e.jsx(H,{htmlFor:"channel-sms",children:"短信通知"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(S,{variant:"outline",children:[e.jsx(Le,{className:"mr-2 h-4 w-4"}),"预览"]}),e.jsxs(S,{children:[e.jsx(Os,{className:"mr-2 h-4 w-4"}),"发送通知"]})]})]})]})}),e.jsxs(ee,{value:"history",className:"space-y-4",children:[e.jsxs(R,{children:[e.jsxs(O,{children:[e.jsx(L,{children:"操作历史"}),e.jsx(ds,{children:"查看和管理批量操作记录"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:k.map(A=>e.jsx(R,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium",children:A.type}),e.jsx(V,{variant:A.status==="completed"?"default":"secondary",children:A.status==="completed"?"已完成":"已撤销"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:A.details}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(He,{className:"h-3 w-3"}),"影响 ",A.targetCount," 个对象"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ce,{className:"h-3 w-3"}),A.timestamp]}),e.jsxs("span",{children:["操作人: ",A.operator]})]})]}),A.status==="completed"&&e.jsxs(S,{variant:"ghost",size:"sm",onClick:()=>B(A.id),children:[e.jsx(El,{className:"mr-2 h-4 w-4"}),"撤销"]})]})},A.id))})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(R,{children:[e.jsx(O,{className:"pb-2",children:e.jsx(L,{className:"text-sm font-medium",children:"今日操作"})}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"12"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"比昨天增加 20%"})]})]}),e.jsxs(R,{children:[e.jsx(O,{className:"pb-2",children:e.jsx(L,{className:"text-sm font-medium",children:"本周操作"})}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"68"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"处理了 1,250 个对象"})]})]}),e.jsxs(R,{children:[e.jsx(O,{className:"pb-2",children:e.jsx(L,{className:"text-sm font-medium",children:"撤销率"})}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"2.3%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"保持较低水平"})]})]})]})]})]})]}),e.jsx(Te,{})]})}function _D(s,t,a="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:s,timeZoneName:a}).format(t).split(/\s/g).slice(2).join(" ")}const Sm={},ai={};function fi(s,t){try{const n=(Sm[s]||(Sm[s]=new Intl.DateTimeFormat("en-US",{timeZone:s,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return n in ai?ai[n]:ng(n,n.split(":"))}catch{if(s in ai)return ai[s];const a=s==null?void 0:s.match(LD);return a?ng(s,a.slice(1)):NaN}}const LD=/([+-]\d\d):?(\d\d)?/;function ng(s,t){const a=+(t[0]||0),n=+(t[1]||0);return ai[s]=a>0?a*60+n:a*60-n}class Ca extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(fi(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),bb(this),Kx(this)):this.setTime(Date.now())}static tz(t,...a){return a.length?new Ca(...a,t):new Ca(Date.now(),t)}withTimeZone(t){return new Ca(+this,t)}getTimezoneOffset(){return-fi(this.timeZone,this)}setTime(t){return Date.prototype.setTime.apply(this,arguments),Kx(this),+this}[Symbol.for("constructDateFrom")](t){return new Ca(+new Date(t),this.timeZone)}}const rg=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(s=>{if(!rg.test(s))return;const t=s.replace(rg,"$1UTC");Ca.prototype[t]&&(s.startsWith("get")?Ca.prototype[s]=function(){return this.internal[t]()}:(Ca.prototype[s]=function(){return Date.prototype[t].apply(this.internal,arguments),zD(this),+this},Ca.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),Kx(this),+this}))});function Kx(s){s.internal.setTime(+s),s.internal.setUTCMinutes(s.internal.getUTCMinutes()-s.getTimezoneOffset())}function zD(s){Date.prototype.setFullYear.call(s,s.internal.getUTCFullYear(),s.internal.getUTCMonth(),s.internal.getUTCDate()),Date.prototype.setHours.call(s,s.internal.getUTCHours(),s.internal.getUTCMinutes(),s.internal.getUTCSeconds(),s.internal.getUTCMilliseconds()),bb(s)}function bb(s){const t=fi(s.timeZone,s),a=new Date(+s);a.setUTCHours(a.getUTCHours()-1);const n=-new Date(+s).getTimezoneOffset(),r=-new Date(+a).getTimezoneOffset(),l=n-r,i=Date.prototype.getHours.apply(s)!==s.internal.getUTCHours();l&&i&&s.internal.setUTCMinutes(s.internal.getUTCMinutes()+l);const c=n-t;c&&Date.prototype.setUTCMinutes.call(s,Date.prototype.getUTCMinutes.call(s)+c);const d=fi(s.timeZone,s),u=-new Date(+s).getTimezoneOffset()-d,h=d!==t,p=u-c;if(h&&p){Date.prototype.setUTCMinutes.call(s,Date.prototype.getUTCMinutes.call(s)+p);const g=fi(s.timeZone,s),b=d-g;b&&(s.internal.setUTCMinutes(s.internal.getUTCMinutes()+b),Date.prototype.setUTCMinutes.call(s,Date.prototype.getUTCMinutes.call(s)+b))}}class tt extends Ca{static tz(t,...a){return a.length?new tt(...a,t):new tt(Date.now(),t)}toISOString(){const[t,a,n]=this.tzComponents(),r=`${t}${a}:${n}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,a,n,r]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${n} ${a} ${r}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[a,n,r]=this.tzComponents();return`${t} GMT${a}${n}${r} (${_D(this.timeZone,this)})`}toLocaleString(t,a){return Date.prototype.toLocaleString.call(this,t,{...a,timeZone:(a==null?void 0:a.timeZone)||this.timeZone})}toLocaleDateString(t,a){return Date.prototype.toLocaleDateString.call(this,t,{...a,timeZone:(a==null?void 0:a.timeZone)||this.timeZone})}toLocaleTimeString(t,a){return Date.prototype.toLocaleTimeString.call(this,t,{...a,timeZone:(a==null?void 0:a.timeZone)||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),a=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),r=String(Math.abs(t)%60).padStart(2,"0");return[a,n,r]}withTimeZone(t){return new tt(+this,t)}[Symbol.for("constructDateFrom")](t){return new tt(+new Date(t),this.timeZone)}}var we;(function(s){s.Root="root",s.Chevron="chevron",s.Day="day",s.DayButton="day_button",s.CaptionLabel="caption_label",s.Dropdowns="dropdowns",s.Dropdown="dropdown",s.DropdownRoot="dropdown_root",s.Footer="footer",s.MonthGrid="month_grid",s.MonthCaption="month_caption",s.MonthsDropdown="months_dropdown",s.Month="month",s.Months="months",s.Nav="nav",s.NextMonthButton="button_next",s.PreviousMonthButton="button_previous",s.Week="week",s.Weeks="weeks",s.Weekday="weekday",s.Weekdays="weekdays",s.WeekNumber="week_number",s.WeekNumberHeader="week_number_header",s.YearsDropdown="years_dropdown"})(we||(we={}));var gs;(function(s){s.disabled="disabled",s.hidden="hidden",s.outside="outside",s.focused="focused",s.today="today"})(gs||(gs={}));var la;(function(s){s.range_end="range_end",s.range_middle="range_middle",s.range_start="range_start",s.selected="selected"})(la||(la={}));var Mt;(function(s){s.weeks_before_enter="weeks_before_enter",s.weeks_before_exit="weeks_before_exit",s.weeks_after_enter="weeks_after_enter",s.weeks_after_exit="weeks_after_exit",s.caption_after_enter="caption_after_enter",s.caption_after_exit="caption_after_exit",s.caption_before_enter="caption_before_enter",s.caption_before_exit="caption_before_exit"})(Mt||(Mt={}));const lg=5,FD=4;function $D(s,t){const a=t.startOfMonth(s),n=a.getDay()>0?a.getDay():7,r=t.addDays(s,-n+1),l=t.addDays(r,lg*7-1);return t.getMonth(s)===t.getMonth(l)?lg:FD}function Sb(s,t){const a=t.startOfMonth(s),n=a.getDay();return n===1?a:n===0?t.addDays(a,-1*6):t.addDays(a,-1*(n-1))}function BD(s,t){const a=Sb(s,t),n=$D(s,t);return t.addDays(a,n*7-1)}class ln{constructor(t,a){this.Date=Date,this.today=()=>{var n;return(n=this.overrides)!=null&&n.today?this.overrides.today():this.options.timeZone?tt.tz(this.options.timeZone):new this.Date},this.newDate=(n,r,l)=>{var i;return(i=this.overrides)!=null&&i.newDate?this.overrides.newDate(n,r,l):this.options.timeZone?new tt(n,r,l,this.options.timeZone):new Date(n,r,l)},this.addDays=(n,r)=>{var l;return(l=this.overrides)!=null&&l.addDays?this.overrides.addDays(n,r):rb(n,r)},this.addMonths=(n,r)=>{var l;return(l=this.overrides)!=null&&l.addMonths?this.overrides.addMonths(n,r):lb(n,r)},this.addWeeks=(n,r)=>{var l;return(l=this.overrides)!=null&&l.addWeeks?this.overrides.addWeeks(n,r):OP(n,r)},this.addYears=(n,r)=>{var l;return(l=this.overrides)!=null&&l.addYears?this.overrides.addYears(n,r):_P(n,r)},this.differenceInCalendarDays=(n,r)=>{var l;return(l=this.overrides)!=null&&l.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,r):cb(n,r)},this.differenceInCalendarMonths=(n,r)=>{var l;return(l=this.overrides)!=null&&l.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,r):BP(n,r)},this.eachMonthOfInterval=n=>{var r;return(r=this.overrides)!=null&&r.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):UP(n)},this.endOfBroadcastWeek=n=>{var r;return(r=this.overrides)!=null&&r.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):BD(n,this)},this.endOfISOWeek=n=>{var r;return(r=this.overrides)!=null&&r.endOfISOWeek?this.overrides.endOfISOWeek(n):GP(n)},this.endOfMonth=n=>{var r;return(r=this.overrides)!=null&&r.endOfMonth?this.overrides.endOfMonth(n):WP(n)},this.endOfWeek=(n,r)=>{var l;return(l=this.overrides)!=null&&l.endOfWeek?this.overrides.endOfWeek(n,r):mb(n,this.options)},this.endOfYear=n=>{var r;return(r=this.overrides)!=null&&r.endOfYear?this.overrides.endOfYear(n):HP(n)},this.format=(n,r,l)=>{var c;const i=(c=this.overrides)!=null&&c.format?this.overrides.format(n,r,this.options):jt(n,r,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(i):i},this.getISOWeek=n=>{var r;return(r=this.overrides)!=null&&r.getISOWeek?this.overrides.getISOWeek(n):ub(n)},this.getMonth=(n,r)=>{var l;return(l=this.overrides)!=null&&l.getMonth?this.overrides.getMonth(n,this.options):VT(n,this.options)},this.getYear=(n,r)=>{var l;return(l=this.overrides)!=null&&l.getYear?this.overrides.getYear(n,this.options):UT(n,this.options)},this.getWeek=(n,r)=>{var l;return(l=this.overrides)!=null&&l.getWeek?this.overrides.getWeek(n,this.options):fb(n,this.options)},this.isAfter=(n,r)=>{var l;return(l=this.overrides)!=null&&l.isAfter?this.overrides.isAfter(n,r):qT(n,r)},this.isBefore=(n,r)=>{var l;return(l=this.overrides)!=null&&l.isBefore?this.overrides.isBefore(n,r):HT(n,r)},this.isDate=n=>{var r;return(r=this.overrides)!=null&&r.isDate?this.overrides.isDate(n):db(n)},this.isSameDay=(n,r)=>{var l;return(l=this.overrides)!=null&&l.isSameDay?this.overrides.isSameDay(n,r):FP(n,r)},this.isSameMonth=(n,r)=>{var l;return(l=this.overrides)!=null&&l.isSameMonth?this.overrides.isSameMonth(n,r):YT(n,r)},this.isSameYear=(n,r)=>{var l;return(l=this.overrides)!=null&&l.isSameYear?this.overrides.isSameYear(n,r):KT(n,r)},this.max=n=>{var r;return(r=this.overrides)!=null&&r.max?this.overrides.max(n):LP(n)},this.min=n=>{var r;return(r=this.overrides)!=null&&r.min?this.overrides.min(n):zP(n)},this.setMonth=(n,r)=>{var l;return(l=this.overrides)!=null&&l.setMonth?this.overrides.setMonth(n,r):QT(n,r)},this.setYear=(n,r)=>{var l;return(l=this.overrides)!=null&&l.setYear?this.overrides.setYear(n,r):XT(n,r)},this.startOfBroadcastWeek=(n,r)=>{var l;return(l=this.overrides)!=null&&l.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):Sb(n,this)},this.startOfDay=n=>{var r;return(r=this.overrides)!=null&&r.startOfDay?this.overrides.startOfDay(n):Bi(n)},this.startOfISOWeek=n=>{var r;return(r=this.overrides)!=null&&r.startOfISOWeek?this.overrides.startOfISOWeek(n):$i(n)},this.startOfMonth=n=>{var r;return(r=this.overrides)!=null&&r.startOfMonth?this.overrides.startOfMonth(n):qP(n)},this.startOfWeek=(n,r)=>{var l;return(l=this.overrides)!=null&&l.startOfWeek?this.overrides.startOfWeek(n,this.options):Vn(n,this.options)},this.startOfYear=n=>{var r;return(r=this.overrides)!=null&&r.startOfYear?this.overrides.startOfYear(n):ob(n)},this.options={locale:Lh,...t},this.overrides=a}getDigitMap(){const{numerals:t="latn"}=this.options,a=new Intl.NumberFormat("en-US",{numberingSystem:t}),n={};for(let r=0;r<10;r++)n[r.toString()]=a.format(r);return n}replaceDigits(t){const a=this.getDigitMap();return t.replace(/\d/g,n=>a[n]||n)}formatNumber(t){return this.replaceDigits(t.toString())}}const _a=new ln;class Cb{constructor(t,a,n=_a){this.date=t,this.displayMonth=a,this.outside=!!(a&&!n.isSameMonth(t,a)),this.dateLib=n}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class WD{constructor(t,a){this.date=t,this.weeks=a}}class VD{constructor(t,a){this.days=a,this.weekNumber=t}}function Ha(s,t,a=!1,n=_a){let{from:r,to:l}=s;const{differenceInCalendarDays:i,isSameDay:c}=n;return r&&l?(i(l,r)<0&&([r,l]=[l,r]),i(t,r)>=(a?1:0)&&i(l,t)>=(a?1:0)):!a&&l?c(l,t):!a&&r?c(r,t):!1}function kb(s){return!!(s&&typeof s=="object"&&"before"in s&&"after"in s)}function zh(s){return!!(s&&typeof s=="object"&&"from"in s)}function Mb(s){return!!(s&&typeof s=="object"&&"after"in s)}function Pb(s){return!!(s&&typeof s=="object"&&"before"in s)}function Tb(s){return!!(s&&typeof s=="object"&&"dayOfWeek"in s)}function Db(s,t){return Array.isArray(s)&&s.every(t.isDate)}function Ga(s,t,a=_a){const n=Array.isArray(t)?t:[t],{isSameDay:r,differenceInCalendarDays:l,isAfter:i}=a;return n.some(c=>{if(typeof c=="boolean")return c;if(a.isDate(c))return r(s,c);if(Db(c,a))return c.includes(s);if(zh(c))return Ha(c,s,!1,a);if(Tb(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(s.getDay()):c.dayOfWeek===s.getDay();if(kb(c)){const d=l(c.before,s),m=l(c.after,s),u=d>0,h=m<0;return i(c.before,c.after)?h&&u:u||h}return Mb(c)?l(s,c.after)>0:Pb(c)?l(c.before,s)>0:typeof c=="function"?c(s):!1})}function UD(s,t,a,n,r){const{disabled:l,hidden:i,modifiers:c,showOutsideDays:d,broadcastCalendar:m,today:u}=t,{isSameDay:h,isSameMonth:p,startOfMonth:g,isBefore:b,endOfMonth:N,isAfter:j}=r,x=a&&g(a),f=n&&N(n),w={[gs.focused]:[],[gs.outside]:[],[gs.disabled]:[],[gs.hidden]:[],[gs.today]:[]},D={};for(const y of s){const{date:T,displayMonth:v}=y,P=!!(v&&!p(T,v)),k=!!(x&&b(T,x)),C=!!(f&&j(T,f)),M=!!(l&&Ga(T,l,r)),z=!!(i&&Ga(T,i,r))||k||C||!m&&!d&&P||m&&d===!1&&P,I=h(T,u??r.today());P&&w.outside.push(y),M&&w.disabled.push(y),z&&w.hidden.push(y),I&&w.today.push(y),c&&Object.keys(c).forEach(F=>{const $=c==null?void 0:c[F];$&&Ga(T,$,r)&&(D[F]?D[F].push(y):D[F]=[y])})}return y=>{const T={[gs.focused]:!1,[gs.disabled]:!1,[gs.hidden]:!1,[gs.outside]:!1,[gs.today]:!1},v={};for(const P in w){const k=w[P];T[P]=k.some(C=>C===y)}for(const P in D)v[P]=D[P].some(k=>k===y);return{...T,...v}}}function qD(s,t,a={}){return Object.entries(s).filter(([,r])=>r===!0).reduce((r,[l])=>(a[l]?r.push(a[l]):t[gs[l]]?r.push(t[gs[l]]):t[la[l]]&&r.push(t[la[l]]),r),[t[we.Day]])}function HD(s){return he.createElement("button",{...s})}function GD(s){return he.createElement("span",{...s})}function YD(s){const{size:t=24,orientation:a="left",className:n}=s;return he.createElement("svg",{className:n,width:t,height:t,viewBox:"0 0 24 24"},a==="up"&&he.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),a==="down"&&he.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),a==="left"&&he.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),a==="right"&&he.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function KD(s){const{day:t,modifiers:a,...n}=s;return he.createElement("td",{...n})}function QD(s){const{day:t,modifiers:a,...n}=s,r=he.useRef(null);return he.useEffect(()=>{var l;a.focused&&((l=r.current)==null||l.focus())},[a.focused]),he.createElement("button",{ref:r,...n})}function XD(s){const{options:t,className:a,components:n,classNames:r,...l}=s,i=[r[we.Dropdown],a].join(" "),c=t==null?void 0:t.find(({value:d})=>d===l.value);return he.createElement("span",{"data-disabled":l.disabled,className:r[we.DropdownRoot]},he.createElement(n.Select,{className:i,...l},t==null?void 0:t.map(({value:d,label:m,disabled:u})=>he.createElement(n.Option,{key:d,value:d,disabled:u},m))),he.createElement("span",{className:r[we.CaptionLabel],"aria-hidden":!0},c==null?void 0:c.label,he.createElement(n.Chevron,{orientation:"down",size:18,className:r[we.Chevron]})))}function ZD(s){return he.createElement("div",{...s})}function JD(s){return he.createElement("div",{...s})}function eR(s){const{calendarMonth:t,displayIndex:a,...n}=s;return he.createElement("div",{...n},s.children)}function sR(s){const{calendarMonth:t,displayIndex:a,...n}=s;return he.createElement("div",{...n})}function tR(s){return he.createElement("table",{...s})}function aR(s){return he.createElement("div",{...s})}const Rb=o.createContext(void 0);function sc(){const s=o.useContext(Rb);if(s===void 0)throw new Error("useDayPicker() must be used within a custom component.");return s}function nR(s){const{components:t}=sc();return he.createElement(t.Dropdown,{...s})}function rR(s){const{onPreviousClick:t,onNextClick:a,previousMonth:n,nextMonth:r,...l}=s,{components:i,classNames:c,labels:{labelPrevious:d,labelNext:m}}=sc(),u=o.useCallback(p=>{r&&(a==null||a(p))},[r,a]),h=o.useCallback(p=>{n&&(t==null||t(p))},[n,t]);return he.createElement("nav",{...l},he.createElement(i.PreviousMonthButton,{type:"button",className:c[we.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":d(n),onClick:h},he.createElement(i.Chevron,{disabled:n?void 0:!0,className:c[we.Chevron],orientation:"left"})),he.createElement(i.NextMonthButton,{type:"button",className:c[we.NextMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":m(r),onClick:u},he.createElement(i.Chevron,{disabled:r?void 0:!0,orientation:"right",className:c[we.Chevron]})))}function lR(s){const{components:t}=sc();return he.createElement(t.Button,{...s})}function iR(s){return he.createElement("option",{...s})}function cR(s){const{components:t}=sc();return he.createElement(t.Button,{...s})}function dR(s){const{rootRef:t,...a}=s;return he.createElement("div",{...a,ref:t})}function oR(s){return he.createElement("select",{...s})}function mR(s){const{week:t,...a}=s;return he.createElement("tr",{...a})}function xR(s){return he.createElement("th",{...s})}function uR(s){return he.createElement("thead",{"aria-hidden":!0},he.createElement("tr",{...s}))}function hR(s){const{week:t,...a}=s;return he.createElement("th",{...a})}function fR(s){return he.createElement("th",{...s})}function pR(s){return he.createElement("tbody",{...s})}function jR(s){const{components:t}=sc();return he.createElement(t.Dropdown,{...s})}const gR=Object.freeze(Object.defineProperty({__proto__:null,Button:HD,CaptionLabel:GD,Chevron:YD,Day:KD,DayButton:QD,Dropdown:XD,DropdownNav:ZD,Footer:JD,Month:eR,MonthCaption:sR,MonthGrid:tR,Months:aR,MonthsDropdown:nR,Nav:rR,NextMonthButton:lR,Option:iR,PreviousMonthButton:cR,Root:dR,Select:oR,Week:mR,WeekNumber:hR,WeekNumberHeader:fR,Weekday:xR,Weekdays:uR,Weeks:pR,YearsDropdown:jR},Symbol.toStringTag,{value:"Module"}));function vR(s){return{...gR,...s}}function NR(s){const t={"data-mode":s.mode??void 0,"data-required":"required"in s?s.required:void 0,"data-multiple-months":s.numberOfMonths&&s.numberOfMonths>1||void 0,"data-week-numbers":s.showWeekNumber||void 0,"data-broadcast-calendar":s.broadcastCalendar||void 0,"data-nav-layout":s.navLayout||void 0};return Object.entries(s).forEach(([a,n])=>{a.startsWith("data-")&&(t[a]=n)}),t}function yR(){const s={};for(const t in we)s[we[t]]=`rdp-${we[t]}`;for(const t in gs)s[gs[t]]=`rdp-${gs[t]}`;for(const t in la)s[la[t]]=`rdp-${la[t]}`;for(const t in Mt)s[Mt[t]]=`rdp-${Mt[t]}`;return s}function Eb(s,t,a){return(a??new ln(t)).format(s,"LLLL y")}const wR=Eb;function bR(s,t,a){return(a??new ln(t)).format(s,"d")}function SR(s,t=_a){return t.format(s,"LLLL")}function CR(s,t=_a){return s<10?t.formatNumber(`0${s.toLocaleString()}`):t.formatNumber(`${s.toLocaleString()}`)}function kR(){return""}function MR(s,t,a){return(a??new ln(t)).format(s,"cccccc")}function Ab(s,t=_a){return t.format(s,"yyyy")}const PR=Ab,TR=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Eb,formatDay:bR,formatMonthCaption:wR,formatMonthDropdown:SR,formatWeekNumber:CR,formatWeekNumberHeader:kR,formatWeekdayName:MR,formatYearCaption:PR,formatYearDropdown:Ab},Symbol.toStringTag,{value:"Module"}));function DR(s){return s!=null&&s.formatMonthCaption&&!s.formatCaption&&(s.formatCaption=s.formatMonthCaption),s!=null&&s.formatYearCaption&&!s.formatYearDropdown&&(s.formatYearDropdown=s.formatYearCaption),{...TR,...s}}function RR(s,t,a,n,r){const{startOfMonth:l,startOfYear:i,endOfYear:c,eachMonthOfInterval:d,getMonth:m}=r;return d({start:i(s),end:c(s)}).map(p=>{const g=n.formatMonthDropdown(p,r),b=m(p),N=t&&p<l(t)||a&&p>l(a)||!1;return{value:b,label:g,disabled:N}})}function ER(s,t={},a={}){let n={...t==null?void 0:t[we.Day]};return Object.entries(s).filter(([,r])=>r===!0).forEach(([r])=>{n={...n,...a==null?void 0:a[r]}}),n}function AR(s,t,a){const n=s.today(),r=t?s.startOfISOWeek(n):s.startOfWeek(n),l=[];for(let i=0;i<7;i++){const c=s.addDays(r,i);l.push(c)}return l}function IR(s,t,a,n){if(!s||!t)return;const{startOfYear:r,endOfYear:l,addYears:i,getYear:c,isBefore:d,isSameYear:m}=n,u=r(s),h=l(t),p=[];let g=u;for(;d(g,h)||m(g,h);)p.push(g),g=i(g,1);return p.map(b=>{const N=a.formatYearDropdown(b,n);return{value:c(b),label:N,disabled:!1}})}function Ib(s,t,a){return(a??new ln(t)).format(s,"LLLL y")}const OR=Ib;function _R(s,t,a,n){let r=(n??new ln(a)).format(s,"PPPP");return t!=null&&t.today&&(r=`Today, ${r}`),r}function Ob(s,t,a,n){let r=(n??new ln(a)).format(s,"PPPP");return t.today&&(r=`Today, ${r}`),t.selected&&(r=`${r}, selected`),r}const LR=Ob;function zR(){return""}function FR(s){return"Choose the Month"}function $R(s){return"Go to the Next Month"}function BR(s){return"Go to the Previous Month"}function WR(s,t,a){return(a??new ln(t)).format(s,"cccc")}function VR(s,t){return`Week ${s}`}function UR(s){return"Week Number"}function qR(s){return"Choose the Year"}const HR=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:OR,labelDay:LR,labelDayButton:Ob,labelGrid:Ib,labelGridcell:_R,labelMonthDropdown:FR,labelNav:zR,labelNext:$R,labelPrevious:BR,labelWeekNumber:VR,labelWeekNumberHeader:UR,labelWeekday:WR,labelYearDropdown:qR},Symbol.toStringTag,{value:"Module"})),tc=s=>s instanceof HTMLElement?s:null,Cm=s=>[...s.querySelectorAll("[data-animated-month]")??[]],GR=s=>tc(s.querySelector("[data-animated-month]")),km=s=>tc(s.querySelector("[data-animated-caption]")),Mm=s=>tc(s.querySelector("[data-animated-weeks]")),YR=s=>tc(s.querySelector("[data-animated-nav]")),KR=s=>tc(s.querySelector("[data-animated-weekdays]"));function QR(s,t,{classNames:a,months:n,focused:r,dateLib:l}){const i=o.useRef(null),c=o.useRef(n),d=o.useRef(!1);o.useLayoutEffect(()=>{const m=c.current;if(c.current=n,!t||!s.current||!(s.current instanceof HTMLElement)||n.length===0||m.length===0||n.length!==m.length)return;const u=l.isSameMonth(n[0].date,m[0].date),h=l.isAfter(n[0].date,m[0].date),p=h?a[Mt.caption_after_enter]:a[Mt.caption_before_enter],g=h?a[Mt.weeks_after_enter]:a[Mt.weeks_before_enter],b=i.current,N=s.current.cloneNode(!0);if(N instanceof HTMLElement?(Cm(N).forEach(w=>{if(!(w instanceof HTMLElement))return;const D=GR(w);D&&w.contains(D)&&w.removeChild(D);const y=km(w);y&&y.classList.remove(p);const T=Mm(w);T&&T.classList.remove(g)}),i.current=N):i.current=null,d.current||u||r)return;const j=b instanceof HTMLElement?Cm(b):[],x=Cm(s.current);if(x&&x.every(f=>f instanceof HTMLElement)&&j&&j.every(f=>f instanceof HTMLElement)){d.current=!0,s.current.style.isolation="isolate";const f=YR(s.current);f&&(f.style.zIndex="1"),x.forEach((w,D)=>{const y=j[D];if(!y)return;w.style.position="relative",w.style.overflow="hidden";const T=km(w);T&&T.classList.add(p);const v=Mm(w);v&&v.classList.add(g);const P=()=>{d.current=!1,s.current&&(s.current.style.isolation=""),f&&(f.style.zIndex=""),T&&T.classList.remove(p),v&&v.classList.remove(g),w.style.position="",w.style.overflow="",w.contains(y)&&w.removeChild(y)};y.style.pointerEvents="none",y.style.position="absolute",y.style.overflow="hidden",y.setAttribute("aria-hidden","true");const k=KR(y);k&&(k.style.opacity="0");const C=km(y);C&&(C.classList.add(h?a[Mt.caption_before_exit]:a[Mt.caption_after_exit]),C.addEventListener("animationend",P));const M=Mm(y);M&&M.classList.add(h?a[Mt.weeks_before_exit]:a[Mt.weeks_after_exit]),w.insertBefore(y,w.firstChild)})}})}function XR(s,t,a,n){const r=s[0],l=s[s.length-1],{ISOWeek:i,fixedWeeks:c,broadcastCalendar:d}=a??{},{addDays:m,differenceInCalendarDays:u,differenceInCalendarMonths:h,endOfBroadcastWeek:p,endOfISOWeek:g,endOfMonth:b,endOfWeek:N,isAfter:j,startOfBroadcastWeek:x,startOfISOWeek:f,startOfWeek:w}=n,D=d?x(r,n):i?f(r):w(r),y=d?p(l):i?g(b(l)):N(b(l)),T=u(y,D),v=h(l,r)+1,P=[];for(let M=0;M<=T;M++){const z=m(D,M);if(t&&j(z,t))break;P.push(z)}const C=(d?35:42)*v;if(c&&P.length<C){const M=C-P.length;for(let z=0;z<M;z++){const I=m(P[P.length-1],1);P.push(I)}}return P}function ZR(s){const t=[];return s.reduce((a,n)=>{const r=n.weeks.reduce((l,i)=>[...l,...i.days],t);return[...a,...r]},t)}function JR(s,t,a,n){const{numberOfMonths:r=1}=a,l=[];for(let i=0;i<r;i++){const c=n.addMonths(s,i);if(t&&c>t)break;l.push(c)}return l}function ig(s,t,a,n){const{month:r,defaultMonth:l,today:i=n.today(),numberOfMonths:c=1}=s;let d=r||l||i;const{differenceInCalendarMonths:m,addMonths:u,startOfMonth:h}=n;if(a&&m(a,d)<c-1){const p=-1*(c-1);d=u(a,p)}return t&&m(d,t)<0&&(d=t),h(d)}function eE(s,t,a,n){const{addDays:r,endOfBroadcastWeek:l,endOfISOWeek:i,endOfMonth:c,endOfWeek:d,getISOWeek:m,getWeek:u,startOfBroadcastWeek:h,startOfISOWeek:p,startOfWeek:g}=n,b=s.reduce((N,j)=>{const x=a.broadcastCalendar?h(j,n):a.ISOWeek?p(j):g(j),f=a.broadcastCalendar?l(j):a.ISOWeek?i(c(j)):d(c(j)),w=t.filter(v=>v>=x&&v<=f),D=a.broadcastCalendar?35:42;if(a.fixedWeeks&&w.length<D){const v=t.filter(P=>{const k=D-w.length;return P>f&&P<=r(f,k)});w.push(...v)}const y=w.reduce((v,P)=>{const k=a.ISOWeek?m(P):u(P),C=v.find(z=>z.weekNumber===k),M=new Cb(P,j,n);return C?C.days.push(M):v.push(new VD(k,[M])),v},[]),T=new WD(j,y);return N.push(T),N},[]);return a.reverseMonths?b.reverse():b}function sE(s,t){let{startMonth:a,endMonth:n}=s;const{startOfYear:r,startOfDay:l,startOfMonth:i,endOfMonth:c,addYears:d,endOfYear:m,newDate:u,today:h}=t,{fromYear:p,toYear:g,fromMonth:b,toMonth:N}=s;!a&&b&&(a=b),!a&&p&&(a=t.newDate(p,0,1)),!n&&N&&(n=N),!n&&g&&(n=u(g,11,31));const j=s.captionLayout==="dropdown"||s.captionLayout==="dropdown-years";return a?a=i(a):p?a=u(p,0,1):!a&&j&&(a=r(d(s.today??h(),-100))),n?n=c(n):g?n=u(g,11,31):!n&&j&&(n=m(s.today??h())),[a&&l(a),n&&l(n)]}function tE(s,t,a,n){if(a.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:l=1}=a,{startOfMonth:i,addMonths:c,differenceInCalendarMonths:d}=n,m=r?l:1,u=i(s);if(!t)return c(u,m);if(!(d(t,s)<l))return c(u,m)}function aE(s,t,a,n){if(a.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:l}=a,{startOfMonth:i,addMonths:c,differenceInCalendarMonths:d}=n,m=r?l??1:1,u=i(s);if(!t)return c(u,-m);if(!(d(u,t)<=0))return c(u,-m)}function nE(s){const t=[];return s.reduce((a,n)=>[...a,...n.weeks],t)}function To(s,t){const[a,n]=o.useState(s);return[t===void 0?a:t,n]}function rE(s,t){const[a,n]=sE(s,t),{startOfMonth:r,endOfMonth:l}=t,i=ig(s,a,n,t),[c,d]=To(i,s.month?i:void 0);o.useEffect(()=>{const T=ig(s,a,n,t);d(T)},[s.timeZone]);const m=JR(c,n,s,t),u=XR(m,s.endMonth?l(s.endMonth):void 0,s,t),h=eE(m,u,s,t),p=nE(h),g=ZR(h),b=aE(c,a,s,t),N=tE(c,n,s,t),{disableNavigation:j,onMonthChange:x}=s,f=T=>p.some(v=>v.days.some(P=>P.isEqualTo(T))),w=T=>{if(j)return;let v=r(T);a&&v<r(a)&&(v=r(a)),n&&v>r(n)&&(v=r(n)),d(v),x==null||x(v)};return{months:h,weeks:p,days:g,navStart:a,navEnd:n,previousMonth:b,nextMonth:N,goToMonth:w,goToDay:T=>{f(T)||w(T.date)}}}var ga;(function(s){s[s.Today=0]="Today",s[s.Selected=1]="Selected",s[s.LastFocused=2]="LastFocused",s[s.FocusedModifier=3]="FocusedModifier"})(ga||(ga={}));function cg(s){return!s[gs.disabled]&&!s[gs.hidden]&&!s[gs.outside]}function lE(s,t,a,n){let r,l=-1;for(const i of s){const c=t(i);cg(c)&&(c[gs.focused]&&l<ga.FocusedModifier?(r=i,l=ga.FocusedModifier):n!=null&&n.isEqualTo(i)&&l<ga.LastFocused?(r=i,l=ga.LastFocused):a(i.date)&&l<ga.Selected?(r=i,l=ga.Selected):c[gs.today]&&l<ga.Today&&(r=i,l=ga.Today))}return r||(r=s.find(i=>cg(t(i)))),r}function iE(s,t,a,n,r,l,i){const{ISOWeek:c,broadcastCalendar:d}=l,{addDays:m,addMonths:u,addWeeks:h,addYears:p,endOfBroadcastWeek:g,endOfISOWeek:b,endOfWeek:N,max:j,min:x,startOfBroadcastWeek:f,startOfISOWeek:w,startOfWeek:D}=i;let T={day:m,week:h,month:u,year:p,startOfWeek:v=>d?f(v,i):c?w(v):D(v),endOfWeek:v=>d?g(v):c?b(v):N(v)}[s](a,t==="after"?1:-1);return t==="before"&&n?T=j([n,T]):t==="after"&&r&&(T=x([r,T])),T}function _b(s,t,a,n,r,l,i,c=0){if(c>365)return;const d=iE(s,t,a.date,n,r,l,i),m=!!(l.disabled&&Ga(d,l.disabled,i)),u=!!(l.hidden&&Ga(d,l.hidden,i)),h=d,p=new Cb(d,h,i);return!m&&!u?p:_b(s,t,p,n,r,l,i,c+1)}function cE(s,t,a,n,r){const{autoFocus:l}=s,[i,c]=o.useState(),d=lE(t.days,a,n||(()=>!1),i),[m,u]=o.useState(l?d:void 0);return{isFocusTarget:N=>!!(d!=null&&d.isEqualTo(N)),setFocused:u,focused:m,blur:()=>{c(m),u(void 0)},moveFocus:(N,j)=>{if(!m)return;const x=_b(N,j,m,t.navStart,t.navEnd,s,r);x&&(t.goToDay(x),u(x))}}}function dE(s,t){const{selected:a,required:n,onSelect:r}=s,[l,i]=To(a,r?a:void 0),c=r?a:l,{isSameDay:d}=t,m=g=>(c==null?void 0:c.some(b=>d(b,g)))??!1,{min:u,max:h}=s;return{selected:c,select:(g,b,N)=>{let j=[...c??[]];if(m(g)){if((c==null?void 0:c.length)===u||n&&(c==null?void 0:c.length)===1)return;j=c==null?void 0:c.filter(x=>!d(x,g))}else(c==null?void 0:c.length)===h?j=[g]:j=[...j,g];return r||i(j),r==null||r(j,g,b,N),j},isSelected:m}}function oE(s,t,a=0,n=0,r=!1,l=_a){const{from:i,to:c}=t||{},{isSameDay:d,isAfter:m,isBefore:u}=l;let h;if(!i&&!c)h={from:s,to:a>0?void 0:s};else if(i&&!c)d(i,s)?r?h={from:i,to:void 0}:h=void 0:u(s,i)?h={from:s,to:i}:h={from:i,to:s};else if(i&&c)if(d(i,s)&&d(c,s))r?h={from:i,to:c}:h=void 0;else if(d(i,s))h={from:i,to:a>0?void 0:s};else if(d(c,s))h={from:s,to:a>0?void 0:s};else if(u(s,i))h={from:s,to:c};else if(m(s,i))h={from:i,to:s};else if(m(s,c))h={from:i,to:s};else throw new Error("Invalid range");if(h!=null&&h.from&&(h!=null&&h.to)){const p=l.differenceInCalendarDays(h.to,h.from);n>0&&p>n?h={from:s,to:void 0}:a>1&&p<a&&(h={from:s,to:void 0})}return h}function mE(s,t,a=_a){const n=Array.isArray(t)?t:[t];let r=s.from;const l=a.differenceInCalendarDays(s.to,s.from),i=Math.min(l,6);for(let c=0;c<=i;c++){if(n.includes(r.getDay()))return!0;r=a.addDays(r,1)}return!1}function dg(s,t,a=_a){return Ha(s,t.from,!1,a)||Ha(s,t.to,!1,a)||Ha(t,s.from,!1,a)||Ha(t,s.to,!1,a)}function xE(s,t,a=_a){const n=Array.isArray(t)?t:[t];if(n.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:a.isDate(c)?Ha(s,c,!1,a):Db(c,a)?c.some(d=>Ha(s,d,!1,a)):zh(c)?c.from&&c.to?dg(s,{from:c.from,to:c.to},a):!1:Tb(c)?mE(s,c.dayOfWeek,a):kb(c)?a.isAfter(c.before,c.after)?dg(s,{from:a.addDays(c.after,1),to:a.addDays(c.before,-1)},a):Ga(s.from,c,a)||Ga(s.to,c,a):Mb(c)||Pb(c)?Ga(s.from,c,a)||Ga(s.to,c,a):!1))return!0;const i=n.filter(c=>typeof c=="function");if(i.length){let c=s.from;const d=a.differenceInCalendarDays(s.to,s.from);for(let m=0;m<=d;m++){if(i.some(u=>u(c)))return!0;c=a.addDays(c,1)}}return!1}function uE(s,t){const{disabled:a,excludeDisabled:n,selected:r,required:l,onSelect:i}=s,[c,d]=To(r,i?r:void 0),m=i?r:c;return{selected:m,select:(p,g,b)=>{const{min:N,max:j}=s,x=p?oE(p,m,N,j,l,t):void 0;return n&&a&&(x!=null&&x.from)&&x.to&&xE({from:x.from,to:x.to},a,t)&&(x.from=p,x.to=void 0),i||d(x),i==null||i(x,p,g,b),x},isSelected:p=>m&&Ha(m,p,!1,t)}}function hE(s,t){const{selected:a,required:n,onSelect:r}=s,[l,i]=To(a,r?a:void 0),c=r?a:l,{isSameDay:d}=t;return{selected:c,select:(h,p,g)=>{let b=h;return!n&&c&&c&&d(h,c)&&(b=void 0),r||i(b),r==null||r(b,h,p,g),b},isSelected:h=>c?d(c,h):!1}}function fE(s,t){const a=hE(s,t),n=dE(s,t),r=uE(s,t);switch(s.mode){case"single":return a;case"multiple":return n;case"range":return r;default:return}}function pE(s){var Vh;let t=s;t.timeZone&&(t={...s},t.today&&(t.today=new tt(t.today,t.timeZone)),t.month&&(t.month=new tt(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new tt(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new tt(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new tt(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new tt(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=(Vh=t.selected)==null?void 0:Vh.map($e=>new tt($e,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new tt(t.selected.from,t.timeZone):void 0,to:t.selected.to?new tt(t.selected.to,t.timeZone):void 0}));const{components:a,formatters:n,labels:r,dateLib:l,locale:i,classNames:c}=o.useMemo(()=>{const $e={...Lh,...t.locale};return{dateLib:new ln({locale:$e,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:vR(t.components),formatters:DR(t.formatters),labels:{...HR,...t.labels},locale:$e,classNames:{...yR(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:d,mode:m,navLayout:u,numberOfMonths:h=1,onDayBlur:p,onDayClick:g,onDayFocus:b,onDayKeyDown:N,onDayMouseEnter:j,onDayMouseLeave:x,onNextClick:f,onPrevClick:w,showWeekNumber:D,styles:y}=t,{formatCaption:T,formatDay:v,formatMonthDropdown:P,formatWeekNumber:k,formatWeekNumberHeader:C,formatWeekdayName:M,formatYearDropdown:z}=n,I=rE(t,l),{days:F,months:$,navStart:B,navEnd:A,previousMonth:_,nextMonth:q,goToMonth:U}=I,G=UD(F,t,B,A,l),{isSelected:Y,select:ne,selected:ge}=fE(t,l)??{},{blur:ke,focused:Z,isFocusTarget:pe,moveFocus:Ee,setFocused:ae}=cE(t,I,G,Y??(()=>!1),l),{labelDayButton:me,labelGridcell:De,labelGrid:Fe,labelMonthDropdown:bs,labelNav:it,labelPrevious:Wt,labelNext:La,labelWeekday:za,labelWeekNumber:Fl,labelWeekNumberHeader:Fa,labelYearDropdown:oe}=r,_s=o.useMemo(()=>AR(l,t.ISOWeek),[l,t.ISOWeek]),fs=m!==void 0||g!==void 0,Zn=o.useCallback(()=>{_&&(U(_),w==null||w(_))},[_,U,w]),Eo=o.useCallback(()=>{q&&(U(q),f==null||f(q))},[U,q,f]),Jb=o.useCallback(($e,ps)=>es=>{es.preventDefault(),es.stopPropagation(),ae($e),ne==null||ne($e.date,ps,es),g==null||g($e.date,ps,es)},[ne,g,ae]),e2=o.useCallback(($e,ps)=>es=>{ae($e),b==null||b($e.date,ps,es)},[b,ae]),s2=o.useCallback(($e,ps)=>es=>{ke(),p==null||p($e.date,ps,es)},[ke,p]),t2=o.useCallback(($e,ps)=>es=>{const dn={ArrowLeft:[es.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[es.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[es.shiftKey?"year":"week","after"],ArrowUp:[es.shiftKey?"year":"week","before"],PageUp:[es.shiftKey?"year":"month","before"],PageDown:[es.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(dn[es.key]){es.preventDefault(),es.stopPropagation();const[Xt,nc]=dn[es.key];Ee(Xt,nc)}N==null||N($e.date,ps,es)},[Ee,N,t.dir]),a2=o.useCallback(($e,ps)=>es=>{j==null||j($e.date,ps,es)},[j]),n2=o.useCallback(($e,ps)=>es=>{x==null||x($e.date,ps,es)},[x]),r2=o.useCallback($e=>ps=>{const es=Number(ps.target.value),dn=l.setMonth(l.startOfMonth($e),es);U(dn)},[l,U]),l2=o.useCallback($e=>ps=>{const es=Number(ps.target.value),dn=l.setYear(l.startOfMonth($e),es);U(dn)},[l,U]),{className:i2,style:c2}=o.useMemo(()=>({className:[c[we.Root],t.className].filter(Boolean).join(" "),style:{...y==null?void 0:y[we.Root],...t.style}}),[c,t.className,t.style,y]),d2=NR(t),Wh=o.useRef(null);QR(Wh,!!t.animate,{classNames:c,months:$,focused:Z,dateLib:l});const o2={dayPickerProps:t,selected:ge,select:ne,isSelected:Y,months:$,nextMonth:q,previousMonth:_,goToMonth:U,getModifiers:G,components:a,classNames:c,styles:y,labels:r,formatters:n};return he.createElement(Rb.Provider,{value:o2},he.createElement(a.Root,{rootRef:t.animate?Wh:void 0,className:i2,style:c2,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...d2},he.createElement(a.Months,{className:c[we.Months],style:y==null?void 0:y[we.Months]},!t.hideNavigation&&!u&&he.createElement(a.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[we.Nav],style:y==null?void 0:y[we.Nav],"aria-label":it(),onPreviousClick:Zn,onNextClick:Eo,previousMonth:_,nextMonth:q}),$.map(($e,ps)=>{const es=RR($e.date,B,A,n,l),dn=IR(B,A,n,l);return he.createElement(a.Month,{"data-animated-month":t.animate?"true":void 0,className:c[we.Month],style:y==null?void 0:y[we.Month],key:ps,displayIndex:ps,calendarMonth:$e},u==="around"&&!t.hideNavigation&&ps===0&&he.createElement(a.PreviousMonthButton,{type:"button",className:c[we.PreviousMonthButton],tabIndex:_?void 0:-1,"aria-disabled":_?void 0:!0,"aria-label":Wt(_),onClick:Zn,"data-animated-button":t.animate?"true":void 0},he.createElement(a.Chevron,{disabled:_?void 0:!0,className:c[we.Chevron],orientation:t.dir==="rtl"?"right":"left"})),he.createElement(a.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[we.MonthCaption],style:y==null?void 0:y[we.MonthCaption],calendarMonth:$e,displayIndex:ps},d!=null&&d.startsWith("dropdown")?he.createElement(a.DropdownNav,{className:c[we.Dropdowns],style:y==null?void 0:y[we.Dropdowns]},d==="dropdown"||d==="dropdown-months"?he.createElement(a.MonthsDropdown,{className:c[we.MonthsDropdown],"aria-label":bs(),classNames:c,components:a,disabled:!!t.disableNavigation,onChange:r2($e.date),options:es,style:y==null?void 0:y[we.Dropdown],value:l.getMonth($e.date)}):he.createElement("span",null,P($e.date,l)),d==="dropdown"||d==="dropdown-years"?he.createElement(a.YearsDropdown,{className:c[we.YearsDropdown],"aria-label":oe(l.options),classNames:c,components:a,disabled:!!t.disableNavigation,onChange:l2($e.date),options:dn,style:y==null?void 0:y[we.Dropdown],value:l.getYear($e.date)}):he.createElement("span",null,z($e.date,l)),he.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},T($e.date,l.options,l))):he.createElement(a.CaptionLabel,{className:c[we.CaptionLabel],role:"status","aria-live":"polite"},T($e.date,l.options,l))),u==="around"&&!t.hideNavigation&&ps===h-1&&he.createElement(a.NextMonthButton,{type:"button",className:c[we.NextMonthButton],tabIndex:q?void 0:-1,"aria-disabled":q?void 0:!0,"aria-label":La(q),onClick:Eo,"data-animated-button":t.animate?"true":void 0},he.createElement(a.Chevron,{disabled:q?void 0:!0,className:c[we.Chevron],orientation:t.dir==="rtl"?"left":"right"})),ps===h-1&&u==="after"&&!t.hideNavigation&&he.createElement(a.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[we.Nav],style:y==null?void 0:y[we.Nav],"aria-label":it(),onPreviousClick:Zn,onNextClick:Eo,previousMonth:_,nextMonth:q}),he.createElement(a.MonthGrid,{role:"grid","aria-multiselectable":m==="multiple"||m==="range","aria-label":Fe($e.date,l.options,l)||void 0,className:c[we.MonthGrid],style:y==null?void 0:y[we.MonthGrid]},!t.hideWeekdays&&he.createElement(a.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[we.Weekdays],style:y==null?void 0:y[we.Weekdays]},D&&he.createElement(a.WeekNumberHeader,{"aria-label":Fa(l.options),className:c[we.WeekNumberHeader],style:y==null?void 0:y[we.WeekNumberHeader],scope:"col"},C()),_s.map((Xt,nc)=>he.createElement(a.Weekday,{"aria-label":za(Xt,l.options,l),className:c[we.Weekday],key:nc,style:y==null?void 0:y[we.Weekday],scope:"col"},M(Xt,l.options,l)))),he.createElement(a.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[we.Weeks],style:y==null?void 0:y[we.Weeks]},$e.weeks.map((Xt,nc)=>he.createElement(a.Week,{className:c[we.Week],key:Xt.weekNumber,style:y==null?void 0:y[we.Week],week:Xt},D&&he.createElement(a.WeekNumber,{week:Xt,style:y==null?void 0:y[we.WeekNumber],"aria-label":Fl(Xt.weekNumber,{locale:i}),className:c[we.WeekNumber],scope:"row",role:"rowheader"},k(Xt.weekNumber,l)),Xt.days.map(Js=>{const{date:fa}=Js,ss=G(Js);if(ss[gs.focused]=!ss.hidden&&!!(Z!=null&&Z.isEqualTo(Js)),ss[la.selected]=(Y==null?void 0:Y(fa))||ss.selected,zh(ge)){const{from:Ao,to:Io}=ge;ss[la.range_start]=!!(Ao&&Io&&l.isSameDay(fa,Ao)),ss[la.range_end]=!!(Ao&&Io&&l.isSameDay(fa,Io)),ss[la.range_middle]=Ha(ge,fa,!0,l)}const m2=ER(ss,y,t.modifiersStyles),x2=qD(ss,c,t.modifiersClassNames),u2=!fs&&!ss.hidden?De(fa,ss,l.options,l):void 0;return he.createElement(a.Day,{key:`${l.format(fa,"yyyy-MM-dd")}_${l.format(Js.displayMonth,"yyyy-MM")}`,day:Js,modifiers:ss,className:x2.join(" "),style:m2,role:"gridcell","aria-selected":ss.selected||void 0,"aria-label":u2,"data-day":l.format(fa,"yyyy-MM-dd"),"data-month":Js.outside?l.format(fa,"yyyy-MM"):void 0,"data-selected":ss.selected||void 0,"data-disabled":ss.disabled||void 0,"data-hidden":ss.hidden||void 0,"data-outside":Js.outside||void 0,"data-focused":ss.focused||void 0,"data-today":ss.today||void 0},!ss.hidden&&fs?he.createElement(a.DayButton,{className:c[we.DayButton],style:y==null?void 0:y[we.DayButton],type:"button",day:Js,modifiers:ss,disabled:ss.disabled||void 0,tabIndex:pe(Js)?0:-1,"aria-label":me(fa,ss,l.options,l),onClick:Jb(Js,ss),onBlur:s2(Js,ss),onFocus:e2(Js,ss),onKeyDown:t2(Js,ss),onMouseEnter:a2(Js,ss),onMouseLeave:n2(Js,ss)},v(fa,l.options,l)):!ss.hidden&&v(Js.date,l.options,l))}))))))})),t.footer&&he.createElement(a.Footer,{className:c[we.Footer],style:y==null?void 0:y[we.Footer],role:"status","aria-live":"polite"},t.footer)))}function Qx({className:s,classNames:t,showOutsideDays:a=!0,...n}){return e.jsx(pE,{showOutsideDays:a,className:X("p-3",s),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:X(Px({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:X(Px({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{Chevron:({orientation:r})=>r==="left"?e.jsx(br,{className:"h-4 w-4"}):e.jsx(Us,{className:"h-4 w-4"})},...n})}Qx.displayName="Calendar";var Do="Popover",[Lb,WA]=Ct(Do,[go]),ac=go(),[jE,Xn]=Lb(Do),zb=s=>{const{__scopePopover:t,children:a,open:n,defaultOpen:r,onOpenChange:l,modal:i=!1}=s,c=ac(t),d=o.useRef(null),[m,u]=o.useState(!1),[h,p]=Da({prop:n,defaultProp:r??!1,onChange:l,caller:Do});return e.jsx(Yy,{...c,children:e.jsx(jE,{scope:t,contentId:Ka(),triggerRef:d,open:h,onOpenChange:p,onOpenToggle:o.useCallback(()=>p(g=>!g),[p]),hasCustomAnchor:m,onCustomAnchorAdd:o.useCallback(()=>u(!0),[]),onCustomAnchorRemove:o.useCallback(()=>u(!1),[]),modal:i,children:a})})};zb.displayName=Do;var Fb="PopoverAnchor",gE=o.forwardRef((s,t)=>{const{__scopePopover:a,...n}=s,r=Xn(Fb,a),l=ac(a),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=r;return o.useEffect(()=>(i(),()=>c()),[i,c]),e.jsx(kh,{...l,...n,ref:t})});gE.displayName=Fb;var $b="PopoverTrigger",Bb=o.forwardRef((s,t)=>{const{__scopePopover:a,...n}=s,r=Xn($b,a),l=ac(a),i=Oe(t,r.triggerRef),c=e.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Hb(r.open),...n,ref:i,onClick:ve(s.onClick,r.onOpenToggle)});return r.hasCustomAnchor?c:e.jsx(kh,{asChild:!0,...l,children:c})});Bb.displayName=$b;var Fh="PopoverPortal",[vE,NE]=Lb(Fh,{forceMount:void 0}),Wb=s=>{const{__scopePopover:t,forceMount:a,children:n,container:r}=s,l=Xn(Fh,t);return e.jsx(vE,{scope:t,forceMount:a,children:e.jsx(Bt,{present:a||l.open,children:e.jsx(ao,{asChild:!0,container:r,children:n})})})};Wb.displayName=Fh;var yl="PopoverContent",Vb=o.forwardRef((s,t)=>{const a=NE(yl,s.__scopePopover),{forceMount:n=a.forceMount,...r}=s,l=Xn(yl,s.__scopePopover);return e.jsx(Bt,{present:n||l.open,children:l.modal?e.jsx(wE,{...r,ref:t}):e.jsx(bE,{...r,ref:t})})});Vb.displayName=yl;var yE=pr("PopoverContent.RemoveScroll"),wE=o.forwardRef((s,t)=>{const a=Xn(yl,s.__scopePopover),n=o.useRef(null),r=Oe(t,n),l=o.useRef(!1);return o.useEffect(()=>{const i=n.current;if(i)return Ju(i)},[]),e.jsx(ro,{as:yE,allowPinchZoom:!0,children:e.jsx(Ub,{...s,ref:r,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(s.onCloseAutoFocus,i=>{var c;i.preventDefault(),l.current||(c=a.triggerRef.current)==null||c.focus()}),onPointerDownOutside:ve(s.onPointerDownOutside,i=>{const c=i.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,m=c.button===2||d;l.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:ve(s.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),bE=o.forwardRef((s,t)=>{const a=Xn(yl,s.__scopePopover),n=o.useRef(!1),r=o.useRef(!1);return e.jsx(Ub,{...s,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var i,c;(i=s.onCloseAutoFocus)==null||i.call(s,l),l.defaultPrevented||(n.current||(c=a.triggerRef.current)==null||c.focus(),l.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:l=>{var d,m;(d=s.onInteractOutside)==null||d.call(s,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const i=l.target;((m=a.triggerRef.current)==null?void 0:m.contains(i))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&r.current&&l.preventDefault()}})}),Ub=o.forwardRef((s,t)=>{const{__scopePopover:a,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:l,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:m,onInteractOutside:u,...h}=s,p=Xn(yl,a),g=ac(a);return Zu(),e.jsx(to,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:l,children:e.jsx(so,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:m,onDismiss:()=>p.onOpenChange(!1),children:e.jsx(Ky,{"data-state":Hb(p.open),role:"dialog",id:p.contentId,...g,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),qb="PopoverClose",SE=o.forwardRef((s,t)=>{const{__scopePopover:a,...n}=s,r=Xn(qb,a);return e.jsx(ye.button,{type:"button",...n,ref:t,onClick:ve(s.onClick,()=>r.onOpenChange(!1))})});SE.displayName=qb;var CE="PopoverArrow",kE=o.forwardRef((s,t)=>{const{__scopePopover:a,...n}=s,r=ac(a);return e.jsx(Qy,{...r,...n,ref:t})});kE.displayName=CE;function Hb(s){return s?"open":"closed"}var ME=zb,PE=Bb,TE=Wb,Gb=Vb;const og=ME,mg=PE,Xx=o.forwardRef(({className:s,align:t="center",sideOffset:a=4,...n},r)=>e.jsx(TE,{children:e.jsx(Gb,{ref:r,align:t,sideOffset:a,className:X("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})}));Xx.displayName=Gb.displayName;const Pm=[{id:"monthly",name:"月度报告",description:"教学质量月度总结报告"},{id:"quality",name:"质量报告",description:"教学质量评估分析报告"},{id:"statistical",name:"统计报告",description:"各项数据统计分析报告"},{id:"summary",name:"年度总结",description:"年度工作总结报告"},{id:"custom",name:"自定义报告",description:"根据需求定制报告"}],pi=[{id:"1",name:"执行摘要",description:"AI自动生成的报告摘要",enabled:!0,order:1,required:!0},{id:"2",name:"统计分析",description:"关键数据统计与趋势分析",enabled:!0,order:2,required:!1},{id:"3",name:"问题与建议",description:"AI分析发现的问题和改进建议",enabled:!0,order:3,required:!1},{id:"4",name:"成绩分析",description:"学生成绩分布与对比分析",enabled:!0,order:4,required:!1},{id:"5",name:"教学质量",description:"教学质量评估结果汇总",enabled:!0,order:5,required:!1},{id:"6",name:"资源利用",description:"教学资源使用情况分析",enabled:!1,order:6,required:!1},{id:"7",name:"满意度调查",description:"师生满意度调查结果",enabled:!1,order:7,required:!1},{id:"8",name:"详细数据附录",description:"完整的数据表格和图表",enabled:!1,order:8,required:!1}];pi.filter(s=>["1","2","3","4"].includes(s.id));function xg(){const[s,t]=o.useState("monthly"),[a,n]=o.useState({from:new Date(2024,9,1),to:new Date(2024,9,31)}),[r,l]=o.useState(pi.filter(v=>v.enabled)),[i,c]=o.useState({pdf:!0,word:!0,excel:!1,ppt:!0}),[d,m]=o.useState(!1),[u,h]=o.useState(0),[p,g]=o.useState(""),[b,N]=o.useState(!1),[j,x]=o.useState([{id:"1",reportType:"monthly",frequency:"monthly",nextRun:new Date("2024-11-01"),lastRun:new Date("2024-10-01"),enabled:!0,recipients:["secretary@hust.edu.cn","leader@hust.edu.cn"],timeRange:"auto"}]),[f,w]=o.useState([{id:"1",title:"2024年10月教学质量月度报告",type:"monthly",generatedAt:new Date("2024-10-01 09:00"),generatedBy:"AI自动生成",format:"PDF",status:"success",size:3457280,downloadUrl:"#"},{id:"2",title:"2024年第三季度统计分析报告",type:"statistical",generatedAt:new Date("2024-10-05 14:30"),generatedBy:"张秘书",format:"Word",status:"success",size:2145792,downloadUrl:"#"}]),D=v=>{l(P=>{const k=pi.find(M=>M.id===v);return!k||k.required?P:P.find(M=>M.id===v)?P.filter(M=>M.id!==v):[...P,k].sort((M,z)=>M.order-z.order)})},y=async()=>{var P;m(!0),h(0);for(let k=0;k<=100;k+=5)await new Promise(C=>setTimeout(C,200)),h(k);const v={id:Date.now().toString(),title:`${a.from?jt(a.from,"yyyy年MM月",{locale:nl}):""} ${((P=Pm.find(k=>k.id===s))==null?void 0:P.name)||""}`,type:s,generatedAt:new Date,generatedBy:"AI自动生成",format:Object.entries(i).filter(([k,C])=>C).map(([k])=>k.toUpperCase()).join(", "),status:"success",size:Math.floor(Math.random()*5e6)+1e6};w(k=>[v,...k]),m(!1),h(0)},T=v=>{const P=["B","KB","MB","GB"],k=Math.floor(Math.log(v)/Math.log(1024));return`${(v/Math.pow(1024,k)).toFixed(2)} ${P[k]}`};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"智能报告生成器"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"快速生成各类教学质量报告和分析报告，支持AI智能内容生成"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-5 h-5"}),"报告类型选择"]})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Pm.map(v=>e.jsxs("div",{className:X("p-4 border rounded-lg cursor-pointer transition-all",s===v.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>t(v.id),children:[e.jsx("h4",{className:"font-medium text-gray-900",children:v.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.description})]},v.id))})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(hs,{className:"w-5 h-5"}),"时间范围配置"]})}),e.jsx(E,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(og,{children:[e.jsx(mg,{asChild:!0,children:e.jsxs(S,{variant:"outline",className:"justify-start text-left font-normal",children:[e.jsx(hs,{className:"mr-2 h-4 w-4"}),a.from?jt(a.from,"yyyy年MM月dd日",{locale:nl}):"开始日期"]})}),e.jsx(Xx,{className:"w-auto p-0",align:"start",children:e.jsx(Qx,{mode:"single",selected:a.from,onSelect:v=>n(P=>({...P,from:v})),initialFocus:!0})})]}),e.jsx("span",{className:"text-gray-500",children:"至"}),e.jsxs(og,{children:[e.jsx(mg,{asChild:!0,children:e.jsxs(S,{variant:"outline",className:"justify-start text-left font-normal",children:[e.jsx(hs,{className:"mr-2 h-4 w-4"}),a.to?jt(a.to,"yyyy年MM月dd日",{locale:nl}):"结束日期"]})}),e.jsx(Xx,{className:"w-auto p-0",align:"start",children:e.jsx(Qx,{mode:"single",selected:a.to,onSelect:v=>n(P=>({...P,to:v})),initialFocus:!0})})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(xy,{className:"w-5 h-5"}),"报告内容模块配置"]}),e.jsxs(S,{size:"sm",variant:"outline",onClick:()=>N(!0),children:[e.jsx(ey,{className:"w-4 h-4 mr-1"}),"模板库"]})]})}),e.jsx(E,{className:"space-y-3",children:pi.map(v=>{const P=r.some(k=>k.id===v.id);return e.jsxs("div",{className:X("flex items-center justify-between p-3 border rounded-lg",P?"bg-blue-50 border-blue-200":"bg-white"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ae,{checked:P,disabled:v.required,onCheckedChange:()=>D(v.id)}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:v.name}),v.required&&e.jsx(V,{variant:"secondary",className:"text-xs",children:"必选"}),v.name.includes("AI")&&e.jsxs(V,{variant:"outline",className:"text-xs",children:[e.jsx(Dt,{className:"w-3 h-3 mr-1"}),"AI生成"]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:v.description})]})]}),e.jsx(S,{size:"sm",variant:"ghost",children:e.jsx(Je,{className:"w-4 h-4"})})]},v.id)})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"w-5 h-5"}),"输出格式"]})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(i).map(([v,P])=>e.jsxs("div",{className:X("flex items-center justify-center gap-2 p-3 border rounded-lg cursor-pointer transition-all",P?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>c(k=>({...k,[v]:!k[v]})),children:[e.jsx(Ae,{checked:P}),e.jsx("span",{className:"font-medium uppercase",children:v})]},v))})})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsxs(S,{variant:"outline",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"预览报告"]}),e.jsx(S,{onClick:y,disabled:d||!a.from||!a.to,className:"min-w-[120px]",children:d?e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4 mr-2 animate-spin"}),"生成中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ma,{className:"w-4 h-4 mr-2"}),"生成报告"]})})]}),d&&e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"正在生成报告..."}),e.jsxs("span",{className:"font-medium",children:[u,"%"]})]}),e.jsx(te,{value:u}),e.jsx("div",{className:"text-sm text-gray-600",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ns,{className:"w-4 h-4 animate-pulse"}),"AI正在分析数据并生成内容..."]})})]})})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(L,{className:"text-base",children:"定时生成"}),e.jsx(S,{size:"sm",variant:"ghost",children:e.jsx(as,{className:"w-4 h-4"})})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:j.map(v=>{var P;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:(P=Pm.find(k=>k.id===v.reportType))==null?void 0:P.name}),e.jsx(V,{variant:v.enabled?"default":"secondary",children:v.enabled?"启用":"禁用"})]}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(oh,{className:"w-3 h-3"}),v.frequency==="monthly"?"每月":v.frequency==="weekly"?"每周":v.frequency==="daily"?"每日":v.frequency==="quarterly"?"每季度":"每年"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ce,{className:"w-3 h-3"}),"下次: ",jt(v.nextRun,"MM-dd HH:mm")]})]})]},v.id)})})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"历史报告"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[f.slice(0,3).map(v=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:v.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[v.generatedBy.includes("AI")&&e.jsxs(V,{variant:"outline",className:"text-xs",children:[e.jsx(Dt,{className:"w-3 h-3 mr-1"}),"AI"]}),e.jsx("span",{className:"text-xs text-gray-500",children:T(v.size)})]})]}),e.jsx(S,{size:"sm",variant:"ghost",children:e.jsx(Se,{className:"w-3 h-3"})})]}),e.jsx("p",{className:"text-xs text-gray-500",children:jt(v.generatedAt,"yyyy-MM-dd HH:mm")})]},v.id)),e.jsxs(S,{variant:"link",className:"w-full text-sm",children:["查看全部历史 ",e.jsx(Us,{className:"w-4 h-4 ml-1"})]})]})})]}),e.jsxs(ue,{children:[e.jsx(Dt,{className:"h-4 w-4"}),e.jsxs(xe,{className:"text-sm",children:[e.jsx("strong",{children:"AI 助手提示"}),e.jsx("br",{}),'选择"执行摘要"和"问题与建议"模块时，AI将自动分析数据并生成专业内容。']})]})]})]})]})}),e.jsx(Te,{})]})}const DE=[{id:"1",role:"user",content:"请帮我解释一下什么是机器学习中的过拟合？",timestamp:new Date(Date.now()-6e5)},{id:"2",role:"assistant",content:`过拟合（Overfitting）是机器学习中的一个重要概念。

**定义**：当模型在训练数据上表现很好，但在新数据上表现较差时，我们说模型发生了过拟合。

**形象比喻**：就像学生死记硬背了所有练习题的答案，但遇到新题目就不会做了。

**主要原因**：
1. 模型过于复杂
2. 训练数据太少
3. 训练时间过长

**解决方法**：
- 增加训练数据
- 简化模型（减少参数）
- 使用正则化技术
- 早停（Early Stopping）
- 交叉验证

需要我详细解释某个解决方法吗？`,timestamp:new Date(Date.now()-3e5),helpful:!0}],RE=[{id:"1",name:"机器学习基础",description:"从零开始掌握机器学习核心概念和算法",progress:65,estimated:"剩余2周",status:"current",modules:12},{id:"2",name:"深度学习进阶",description:"深入理解神经网络和深度学习框架",progress:0,estimated:"预计4周",status:"recommended",modules:16},{id:"3",name:"Python数据分析",description:"使用Python进行数据处理和分析",progress:100,estimated:"已完成",status:"completed",modules:8}],EE=[{id:"1",title:"线性回归实验报告",submitted:new Date("2024-10-28"),score:92,status:"graded",feedback:"实验设计合理，数据分析到位。建议在结论部分加入更多对比分析。",aiSuggestions:["代码结构清晰，注释完整","可以考虑添加更多可视化图表","建议尝试其他回归模型进行对比"]},{id:"2",title:"神经网络作业",submitted:new Date("2024-10-30"),status:"reviewing",aiSuggestions:["正在分析代码结构...","检查算法实现正确性..."]}],AE=[{type:"strength",title:"编程能力突出",description:"您的代码质量和算法实现能力在班级中排名前20%",action:"建议参加算法竞赛提升水平"},{type:"weakness",title:"理论知识需加强",description:"数学推导和理论证明部分得分偏低",action:"推荐观看相关理论课程视频"},{type:"opportunity",title:"新课程推荐",description:'基于您的学习进度，推荐学习"计算机视觉"课程',action:"查看课程大纲"},{type:"warning",title:"学习进度提醒",description:"本周学习时长较上周下降40%",action:"制定学习计划"}],IE=[{id:"1",name:"线性代数",mastery:85,connections:8,status:"mastered"},{id:"2",name:"概率论",mastery:72,connections:6,status:"learning"},{id:"3",name:"微积分",mastery:90,connections:10,status:"mastered"},{id:"4",name:"机器学习",mastery:65,connections:12,status:"learning"},{id:"5",name:"深度学习",mastery:30,connections:8,status:"new"},{id:"6",name:"数据结构",mastery:88,connections:7,status:"mastered"}];function ug(){const[s,t]=o.useState(DE),[a,n]=o.useState(""),[r,l]=o.useState(!1),[i,c]=o.useState(""),[d,m]=o.useState(null),[u,h]=o.useState(!1),p=async()=>{if(!a.trim())return;const x={id:Date.now().toString(),role:"user",content:a,timestamp:new Date};t(f=>[...f,x]),n(""),l(!0),setTimeout(()=>{const f={id:(Date.now()+1).toString(),role:"assistant",content:`我正在分析您的问题，这可能需要几秒钟...

根据您的问题，我为您准备了详细的解答。`,timestamp:new Date};t(w=>[...w,f]),l(!1)},2e3)},g=x=>{var w;const f=(w=x.target.files)==null?void 0:w[0];f&&(m(f),h(!0),setTimeout(()=>{h(!1)},3e3))},b=x=>{switch(x){case"strength":return bd;case"weakness":return Me;case"opportunity":return ra;case"warning":return ze}},N=x=>{switch(x){case"strength":return"text-green-600 bg-green-100";case"weakness":return"text-orange-600 bg-orange-100";case"opportunity":return"text-blue-600 bg-blue-100";case"warning":return"text-red-600 bg-red-100"}},j=x=>{switch(x){case"mastered":return"bg-green-500";case"learning":return"bg-blue-500";case"new":return"bg-gray-400"}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Ns,{className:"w-6 h-6 text-blue-600"}),"AI 教学助手增强版"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"24/7 智能答疑、个性化学习指导、作业智能批改"})]}),e.jsxs(Ye,{defaultValue:"qa",className:"space-y-6",children:[e.jsxs(qe,{className:"grid w-full grid-cols-5",children:[e.jsx(J,{value:"qa",children:"智能答疑"}),e.jsx(J,{value:"path",children:"学习路径"}),e.jsx(J,{value:"knowledge",children:"知识图谱"}),e.jsx(J,{value:"assignment",children:"作业批改"}),e.jsx(J,{value:"insights",children:"学习分析"})]}),e.jsx(ee,{value:"qa",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(R,{className:"h-[600px] flex flex-col",children:[e.jsx(O,{className:"border-b",children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"w-5 h-5"}),"AI 智能答疑"]}),e.jsxs(V,{variant:"outline",className:"text-xs",children:[e.jsx(Dt,{className:"w-3 h-3 mr-1"}),"GPT-4 Powered"]})]})}),e.jsxs(E,{className:"flex-1 flex flex-col p-0",children:[e.jsx(ot,{className:"flex-1 p-4",children:e.jsxs("div",{className:"space-y-4",children:[s.map(x=>e.jsxs("div",{className:X("flex gap-3",x.role==="user"?"justify-end":"justify-start"),children:[x.role==="assistant"&&e.jsx(Vs,{className:"w-8 h-8",children:e.jsx(mt,{className:"bg-blue-100",children:e.jsx(_i,{className:"w-4 h-4 text-blue-600"})})}),e.jsxs("div",{className:X("max-w-[80%] rounded-lg p-3",x.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"),children:[e.jsx("p",{className:"whitespace-pre-wrap text-sm",children:x.content}),e.jsxs("div",{className:X("flex items-center gap-2 mt-2 text-xs",x.role==="user"?"text-blue-100":"text-gray-500"),children:[e.jsx(Ce,{className:"w-3 h-3"}),x.timestamp.toLocaleTimeString(),x.role==="assistant"&&x.helpful!==void 0&&e.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[e.jsx(S,{size:"sm",variant:"ghost",className:"h-5 p-1",children:e.jsx(mo,{className:"w-3 h-3"})}),e.jsx(S,{size:"sm",variant:"ghost",className:"h-5 p-1",children:e.jsx(hy,{className:"w-3 h-3"})})]})]})]}),x.role==="user"&&e.jsx(Vs,{className:"w-8 h-8",children:e.jsx(mt,{className:"bg-gray-100",children:e.jsx(Xs,{className:"w-4 h-4 text-gray-600"})})})]},x.id)),r&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Vs,{className:"w-8 h-8",children:e.jsx(mt,{className:"bg-blue-100",children:e.jsx(_i,{className:"w-4 h-4 text-blue-600"})})}),e.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-100"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-200"})]})})]})]})}),e.jsx("div",{className:"p-4 border-t",children:e.jsxs("form",{onSubmit:x=>{x.preventDefault(),p()},className:"flex gap-2",children:[e.jsx(se,{placeholder:"输入您的问题...",value:a,onChange:x=>n(x.target.value),className:"flex-1"}),e.jsx(S,{type:"submit",disabled:!a.trim()||r,children:e.jsx(Os,{className:"w-4 h-4"})})]})})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"快速提问"})}),e.jsx(E,{className:"space-y-2",children:["解释概念","代码调试","作业帮助","考试复习","论文指导"].map(x=>e.jsxs(S,{variant:"outline",className:"w-full justify-start",onClick:()=>n(`请帮我${x}`),children:[e.jsx(zt,{className:"w-4 h-4 mr-2"}),x]},x))})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"学习资源"})}),e.jsxs(E,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-gray-500"}),"课程讲义"]}),e.jsx(V,{children:"42 份"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Es,{className:"w-4 h-4 text-gray-500"}),"参考书籍"]}),e.jsx(V,{children:"15 本"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"w-4 h-4 text-gray-500"}),"练习题库"]}),e.jsx(V,{children:"238 题"})]})]})]}),e.jsxs(ue,{children:[e.jsx(En,{className:"h-4 w-4"}),e.jsx(xe,{className:"text-sm",children:"AI助手全天候在线，平均响应时间小于3秒"})]})]})]})}),e.jsx(ee,{value:"path",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-4",children:RE.map(x=>e.jsx(R,{className:X("cursor-pointer transition-all",i===x.id?"ring-2 ring-blue-500":"",x.status==="completed"&&"opacity-75"),onClick:()=>c(x.id),children:e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[x.name,x.status==="current"&&e.jsx(V,{variant:"default",className:"text-xs",children:"进行中"}),x.status==="recommended"&&e.jsxs(V,{variant:"secondary",className:"text-xs",children:[e.jsx(Dt,{className:"w-3 h-3 mr-1"}),"AI推荐"]}),x.status==="completed"&&e.jsx(V,{variant:"outline",className:"text-xs",children:"已完成"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[x.progress,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:x.estimated})]})]}),e.jsx(te,{value:x.progress,className:"mb-3"}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("span",{children:[x.modules," 个学习模块"]}),e.jsxs(S,{size:"sm",variant:"ghost",children:["查看详情 ",e.jsx(Us,{className:"w-4 h-4 ml-1"})]})]})]})},x.id))}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"text-base flex items-center gap-2",children:[e.jsx(rt,{className:"w-4 h-4"}),"学习目标"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"本周学习时长"}),e.jsx("span",{className:"text-sm font-medium",children:"18/20 小时"})]}),e.jsx(te,{value:90,className:"h-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"本月完成模块"}),e.jsx("span",{className:"text-sm font-medium",children:"12/15 个"})]}),e.jsx(te,{value:80,className:"h-2"})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"AI 学习建议"})}),e.jsxs(E,{className:"space-y-3",children:[e.jsxs(ue,{children:[e.jsx(ra,{className:"h-4 w-4"}),e.jsx(xe,{className:"text-sm",children:"基于您的学习进度，建议每天增加30分钟练习时间"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"推荐学习顺序："}),e.jsxs("ol",{className:"text-sm text-gray-600 space-y-1 list-decimal list-inside",children:[e.jsx("li",{children:"完成当前机器学习基础课程"}),e.jsx("li",{children:"开始深度学习预习"}),e.jsx("li",{children:"参加实践项目巩固知识"})]})]})]})]})]})]})}),e.jsxs(ee,{value:"knowledge",className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(oy,{className:"w-5 h-5"}),"知识图谱导航"]})}),e.jsxs(E,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:IE.map(x=>e.jsxs("div",{className:"text-center space-y-2 p-4 rounded-lg border hover:shadow-md transition-shadow cursor-pointer",children:[e.jsxs("div",{className:"relative mx-auto w-16 h-16",children:[e.jsx("div",{className:X("absolute inset-0 rounded-full opacity-20",j(x.status))}),e.jsx("div",{className:"absolute inset-2 bg-white rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-lg font-bold",children:[x.mastery,"%"]})})]}),e.jsx("h4",{className:"font-medium text-sm",children:x.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[x.connections," 个关联"]})]},x.id))}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"知识掌握度"}),e.jsx("span",{className:"text-sm text-gray-600",children:"综合评分: 75%"})]}),e.jsx(te,{value:75,className:"h-2"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"4"}),e.jsx("p",{className:"text-xs text-gray-500",children:"已掌握"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"2"}),e.jsx("p",{className:"text-xs text-gray-500",children:"学习中"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-600",children:"3"}),e.jsx("p",{className:"text-xs text-gray-500",children:"待学习"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"text-base flex items-center gap-2",children:[e.jsx(k3,{className:"w-4 h-4"}),"学习地图"]})}),e.jsxs(E,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"已掌握知识点"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"正在学习"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),e.jsx("span",{className:"text-sm",children:"计划学习"})]})]}),e.jsxs(S,{variant:"outline",className:"w-full mt-4",children:[e.jsx(m3,{className:"w-4 h-4 mr-2"}),"探索完整知识图谱"]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"关联推荐"})}),e.jsxs(E,{className:"space-y-3",children:[e.jsxs(ue,{children:[e.jsx(Dt,{className:"h-4 w-4"}),e.jsx(xe,{className:"text-sm",children:"基于您的学习进度，推荐以下关联知识点"})]}),e.jsx("div",{className:"space-y-2",children:["统计学基础","优化理论","信号处理"].map(x=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-gray-50",children:[e.jsx("span",{className:"text-sm",children:x}),e.jsx(S,{size:"sm",variant:"ghost",children:"了解更多"})]},x))})]})]})]})]}),e.jsx(ee,{value:"assignment",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-4",children:EE.map(x=>e.jsx(R,{children:e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:x.title}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["提交时间：",x.submitted.toLocaleDateString()]})]}),e.jsx("div",{className:"text-right",children:x.score!==void 0?e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x.score}),e.jsx("p",{className:"text-xs text-gray-500",children:"分数"})]}):e.jsx(V,{variant:"secondary",children:x.status==="reviewing"?"批改中":"待批改"})})]}),x.feedback&&e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"教师反馈"}),e.jsx("p",{className:"text-sm text-blue-800",children:x.feedback})]}),x.aiSuggestions&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Dt,{className:"w-4 h-4 text-blue-600"}),"AI 分析建议"]}),x.aiSuggestions.map((f,w)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[e.jsx(fe,{className:"w-4 h-4 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:f})]},w))]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(S,{size:"sm",variant:"outline",children:"查看详情"}),x.status==="graded"&&e.jsx(S,{size:"sm",variant:"outline",children:"下载批注"})]})]})},x.id))}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"提交新作业"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover:border-gray-400 transition-colors cursor-pointer",onClick:()=>{var x;return(x=document.getElementById("file-upload"))==null?void 0:x.click()},children:[e.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:g,accept:".pdf,.doc,.docx,.txt,.py,.ipynb"}),e.jsx(Ms,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"点击或拖拽文件上传"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"支持 PDF, DOC, TXT, PY, IPYNB"})]}),d&&e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rh,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium",children:d.name})]}),u&&e.jsxs("div",{className:"mt-2",children:[e.jsx(te,{value:45,className:"h-1"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"AI 正在分析..."})]})]}),e.jsxs(S,{className:"w-full",disabled:!d||u,children:[e.jsx(Os,{className:"w-4 h-4 mr-2"}),"提交作业"]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"批改统计"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"平均分数"}),e.jsx("span",{className:"text-sm font-medium",children:"87.5"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"已批改作业"}),e.jsx("span",{className:"text-sm font-medium",children:"12/15"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"AI 辅助批改率"}),e.jsx("span",{className:"text-sm font-medium",children:"85%"})]})]})})]})]})]})}),e.jsxs(ee,{value:"insights",className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:AE.map((x,f)=>{const w=b(x.type),D=N(x.type);return e.jsx(R,{children:e.jsxs(E,{className:"p-6",children:[e.jsx("div",{className:X("w-12 h-12 rounded-lg flex items-center justify-center mb-3",D),children:e.jsx(w,{className:"w-6 h-6"})}),e.jsx("h3",{className:"font-semibold text-sm mb-1",children:x.title}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:x.description}),x.action&&e.jsx(S,{size:"sm",variant:"outline",className:"w-full",children:x.action})]})},f)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"w-5 h-5"}),"学习行为分析"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"每日学习时长趋势"}),e.jsx(V,{variant:"outline",children:"过去7天"})]}),e.jsx("div",{className:"h-32 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsx(Cs,{className:"w-8 h-8 text-gray-400"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:"3.5h"}),e.jsx("p",{className:"text-xs text-gray-500",children:"日均学习时长"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:"85%"}),e.jsx("p",{className:"text-xs text-gray-500",children:"学习效率"})]})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"w-5 h-5"}),"预测与建议"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(ue,{children:[e.jsx(Ns,{className:"h-4 w-4"}),e.jsxs(xe,{children:[e.jsx("strong",{children:"AI 预测"}),e.jsx("br",{}),"按当前学习进度，您将在2周内完成机器学习基础课程"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium",children:"个性化建议"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mt-1.5"}),e.jsx("p",{className:"text-sm text-gray-600",children:"增加编程练习时间，提升实践能力"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mt-1.5"}),e.jsx("p",{className:"text-sm text-gray-600",children:"参与小组讨论，加深理论理解"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mt-1.5"}),e.jsx("p",{className:"text-sm text-gray-600",children:"定期复习已学内容，巩固记忆"})]})]})]})]})})]})]})]})]})]})}),e.jsx(Te,{})]})}const OE=[{id:"1",name:"机器学习研究小组",description:"深入探讨机器学习算法和实践应用",members:8,maxMembers:10,tags:["机器学习","Python","深度学习"],createdAt:new Date("2024-09-15"),creator:"李教授",status:"active",lastActive:new Date("2024-10-30 14:00")},{id:"2",name:"论文写作互助组",description:"相互帮助提升学术论文写作能力",members:15,maxMembers:15,tags:["论文写作","学术交流"],createdAt:new Date("2024-10-01"),creator:"王同学",status:"full",lastActive:new Date("2024-10-30 10:00")},{id:"3",name:"数据可视化兴趣组",description:"学习和分享数据可视化技术",members:6,maxMembers:12,tags:["数据可视化","D3.js","Python"],createdAt:new Date("2024-10-10"),creator:"张同学",status:"active",lastActive:new Date("2024-10-29 16:30")}],_E=[{id:"1",author:{name:"李明",role:"博士生",avatar:void 0},title:"如何高效阅读机器学习论文",content:"分享我总结的论文阅读方法：1. 先读摘要和结论 2. 浏览图表理解核心思想 3. 深入方法部分...",tags:["学习方法","论文阅读"],likes:128,comments:23,createdAt:new Date("2024-10-28"),isLiked:!0},{id:"2",author:{name:"王教授",role:"导师",avatar:void 0},title:"科研项目时间管理心得",content:"作为导师，我发现很多学生在时间管理上存在问题。这里分享几个实用的时间管理技巧...",tags:["时间管理","科研技巧"],likes:256,comments:45,createdAt:new Date("2024-10-27"),isLiked:!1}],LE=[{id:"1",user:{name:"陈教授",role:"mentor",field:"机器学习"},matchScore:95,matchReasons:["研究方向高度匹配","时间安排吻合","指导风格适合"],skills:["深度学习","计算机视觉","PyTorch"],availability:"每周三、五下午"},{id:"2",user:{name:"刘同学",role:"student",field:"数据分析"},matchScore:88,matchReasons:["学习目标一致","技能互补","性格相似"],skills:["Python","数据可视化","统计分析"],availability:"工作日晚上"}],zE=[{id:"1",name:"智能推荐系统开发",description:"基于深度学习的个性化推荐系统",members:[{name:"张三",role:"项目负责人"},{name:"李四",role:"算法工程师"},{name:"王五",role:"前端开发"}],progress:65,tasks:{total:24,completed:16},deadline:new Date("2024-12-15"),status:"in-progress"}];function hg(){const[s,t]=o.useState(""),[a,n]=o.useState(!1),[r,l]=o.useState(""),[i,c]=o.useState(""),[d,m]=o.useState(""),[u,h]=o.useState(""),[p,g]=o.useState("all"),[b,N]=o.useState({title:"",content:"",tags:""}),[j,x]=o.useState(""),f=()=>{console.log("Creating group:",{newGroupName:r,newGroupDescription:i,newGroupTags:d}),n(!1),l(""),c(""),m("")},w=()=>{console.log("Sharing experience:",b),N({title:"",content:"",tags:""})},D=k=>{console.log("Joining group:",k)},y=k=>{console.log("Connecting with user:",k)},T=k=>{switch(k){case"active":return"bg-green-100 text-green-800";case"full":return"bg-orange-100 text-orange-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},v=k=>{switch(k){case"planning":return"text-blue-600 bg-blue-100";case"in-progress":return"text-green-600 bg-green-100";case"review":return"text-orange-600 bg-orange-100";case"completed":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},P=k=>{const M=new Date().getTime()-k.getTime(),z=Math.floor(M/(1e3*60*60)),I=Math.floor(M/(1e3*60*60*24));return z<1?"刚刚":z<24?`${z}小时前`:I<7?`${I}天前`:k.toLocaleDateString("zh-CN")};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(He,{className:"w-6 h-6 text-blue-600"}),"社交学习网络"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"加入学习小组，分享经验，找到合适的学习伙伴"})]}),e.jsxs(Ye,{defaultValue:"groups",className:"space-y-6",children:[e.jsxs(qe,{className:"grid w-full grid-cols-5",children:[e.jsx(J,{value:"groups",children:"学习小组"}),e.jsx(J,{value:"experiences",children:"经验分享"}),e.jsx(J,{value:"pairing",children:"智能配对"}),e.jsx(J,{value:"projects",children:"协作项目"}),e.jsx(J,{value:"reviews",children:"同伴互评"})]}),e.jsxs(ee,{value:"groups",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(se,{placeholder:"搜索小组...",className:"pl-10 w-64",value:u,onChange:k=>h(k.target.value)})]}),e.jsxs(ie,{value:p,onValueChange:g,children:[e.jsx(re,{className:"w-40",children:e.jsx(ce,{placeholder:"选择标签"})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"所有标签"}),e.jsx(W,{value:"机器学习",children:"机器学习"}),e.jsx(W,{value:"论文写作",children:"论文写作"}),e.jsx(W,{value:"数据分析",children:"数据分析"})]})]})]}),e.jsxs(S,{onClick:()=>n(!0),children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"创建小组"]})]}),a&&e.jsxs(R,{className:"mb-6",children:[e.jsx(O,{children:e.jsx(L,{children:"创建新的学习小组"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"小组名称"}),e.jsx(se,{placeholder:"输入小组名称...",value:r,onChange:k=>l(k.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"小组描述"}),e.jsx(Ie,{placeholder:"描述小组的目标和活动...",value:i,onChange:k=>c(k.target.value),className:"mt-1",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"标签（逗号分隔）"}),e.jsx(se,{placeholder:"如：机器学习, Python, 深度学习",value:d,onChange:k=>m(k.target.value),className:"mt-1"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{onClick:f,children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"创建小组"]}),e.jsx(S,{variant:"outline",onClick:()=>n(!1),children:"取消"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:OE.map(k=>e.jsx(R,{className:X("hover:shadow-lg transition-all cursor-pointer",s===k.id&&"ring-2 ring-blue-500"),onClick:()=>t(k.id),children:e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-lg",children:k.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:k.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["创建者: ",k.creator]})]})]}),e.jsx(V,{className:T(k.status),children:k.status==="active"?"活跃":k.status==="full"?"已满":"已归档"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:k.description}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:k.tags.map((C,M)=>e.jsx(V,{variant:"secondary",className:"text-xs",children:C},M))}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(He,{className:"w-4 h-4"}),e.jsxs("span",{children:[k.members,"/",k.maxMembers," 成员"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(Ce,{className:"w-3 h-3"}),e.jsx("span",{children:P(k.lastActive)})]})]}),e.jsx("div",{className:"mt-4",children:k.status==="active"&&k.members<k.maxMembers?e.jsxs(S,{size:"sm",className:"w-full",onClick:C=>{C.stopPropagation(),D(k.id)},children:[e.jsx(Md,{className:"w-4 h-4 mr-2"}),"加入小组"]}):e.jsx(S,{size:"sm",className:"w-full",disabled:!0,children:k.status==="full"?"小组已满":"查看详情"})})]})},k.id))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[e.jsx(R,{children:e.jsxs(E,{className:"p-6 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"42"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"活跃小组"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-6 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:"386"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"活跃成员"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-6 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:"1.2k"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"讨论话题"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-6 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"89%"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"满意度"})]})})]})]}),e.jsxs(ee,{value:"experiences",className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"分享您的经验"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsx(se,{placeholder:"分享标题...",value:b.title,onChange:k=>N({...b,title:k.target.value})}),e.jsx(Ie,{placeholder:"分享您的学习心得、研究经验或实用技巧...",value:b.content,onChange:k=>N({...b,content:k.target.value}),rows:4}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(se,{placeholder:"添加标签（逗号分隔）",value:b.tags,onChange:k=>N({...b,tags:k.target.value}),className:"max-w-xs"}),e.jsxs(S,{onClick:w,children:[e.jsx(Os,{className:"w-4 h-4 mr-2"}),"发布分享"]})]})]})]}),e.jsx("div",{className:"space-y-4",children:_E.map(k=>e.jsx(R,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(Vs,{className:"w-10 h-10",children:e.jsx(mt,{children:k.author.name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:k.title}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("span",{children:k.author.name}),e.jsx("span",{children:"·"}),e.jsx("span",{children:k.author.role}),e.jsx("span",{children:"·"}),e.jsx("span",{children:P(k.createdAt)})]})]}),e.jsx(S,{size:"sm",variant:"ghost",children:e.jsx(co,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-gray-700 mb-3",children:k.content}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:k.tags.map((C,M)=>e.jsx(V,{variant:"secondary",className:"text-xs",children:C},M))}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(S,{size:"sm",variant:k.isLiked?"default":"outline",className:"gap-2",children:[e.jsx(na,{className:X("w-4 h-4",k.isLiked&&"fill-current")}),k.likes]}),e.jsxs(S,{size:"sm",variant:"outline",className:"gap-2",children:[e.jsx(An,{className:"w-4 h-4"}),k.comments]}),e.jsxs(S,{size:"sm",variant:"ghost",className:"gap-2",children:[e.jsx(Kc,{className:"w-4 h-4"}),"分享"]})]})]})]})})},k.id))}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(S,{variant:"outline",children:["加载更多",e.jsx(Us,{className:"w-4 h-4 ml-1"})]})})]}),e.jsxs(ee,{value:"pairing",className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Dt,{className:"w-5 h-5 text-blue-600"}),"AI 智能配对推荐"]})}),e.jsxs(E,{children:[e.jsxs(ue,{className:"mb-4",children:[e.jsx(Ns,{className:"h-4 w-4"}),e.jsx(xe,{children:"基于您的学习目标、研究方向和时间安排，AI为您推荐最合适的学习伙伴"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:LE.map(k=>e.jsx(R,{className:"border-2",children:e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Vs,{className:"w-12 h-12",children:e.jsx(mt,{children:k.user.name.charAt(0)})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:k.user.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[k.user.role==="mentor"?"导师":"学习伙伴"," · ",k.user.field]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[k.matchScore,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"匹配度"})]})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"匹配原因"}),e.jsx("div",{className:"space-y-1",children:k.matchReasons.map((C,M)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(fe,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{children:C})]},M))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"专长技能"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:k.skills.map((C,M)=>e.jsx(V,{variant:"secondary",className:"text-xs",children:C},M))})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(hs,{className:"w-4 h-4"}),e.jsxs("span",{children:["可用时间: ",k.availability]})]})]}),e.jsxs(S,{className:"w-full",onClick:()=>y(k.id),children:[e.jsx(Ea,{className:"w-4 h-4 mr-2"}),"发起连接"]})]})},k.id))}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(S,{variant:"outline",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"刷新推荐"]})})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"配对偏好设置"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"我希望找到"}),e.jsxs(ie,{defaultValue:"both",children:[e.jsx(re,{className:"mt-1",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"mentor",children:"导师"}),e.jsx(W,{value:"peer",children:"学习伙伴"}),e.jsx(W,{value:"both",children:"都可以"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"研究方向"}),e.jsxs(ie,{defaultValue:"ml",children:[e.jsx(re,{className:"mt-1",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"ml",children:"机器学习"}),e.jsx(W,{value:"cv",children:"计算机视觉"}),e.jsx(W,{value:"nlp",children:"自然语言处理"}),e.jsx(W,{value:"robotics",children:"机器人学"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"我的可用时间"}),e.jsx(Ie,{placeholder:"请描述您的可用时间，如：周一至周五晚上，周末全天",className:"mt-1",rows:2})]}),e.jsxs(S,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"保存偏好"]})]})]})]}),e.jsx(ee,{value:"projects",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-4",children:zE.map(k=>e.jsx(R,{className:X("cursor-pointer transition-all",j===k.id&&"ring-2 ring-blue-500"),onClick:()=>x(k.id),children:e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:k.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]}),e.jsx(V,{className:X("text-xs",v(k.status)),children:k.status==="planning"?"规划中":k.status==="in-progress"?"进行中":k.status==="review"?"审核中":"已完成"})]}),e.jsxs("div",{className:"flex -space-x-2 mb-4",children:[k.members.slice(0,4).map((C,M)=>e.jsx(Vs,{className:"w-8 h-8 border-2 border-white",children:e.jsx(mt,{className:"text-xs",children:C.name.charAt(0)})},M)),k.members.length>4&&e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center",children:e.jsxs("span",{className:"text-xs text-gray-600",children:["+",k.members.length-4]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"项目进度"}),e.jsxs("span",{className:"font-medium",children:[k.progress,"%"]})]}),e.jsx(te,{value:k.progress,className:"h-2"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{children:[k.tasks.completed,"/",k.tasks.total," 任务完成"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hs,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{children:["截止: ",k.deadline.toLocaleDateString("zh-CN")]})]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs(S,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(xt,{className:"w-4 h-4 mr-1"}),"讨论"]}),e.jsxs(S,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(ty,{className:"w-4 h-4 mr-1"}),"任务"]}),e.jsxs(S,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(j3,{className:"w-4 h-4 mr-1"}),"文件"]})]})]})},k.id))}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"创建新项目"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(as,{className:"w-8 h-8 text-blue-600"})}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"与小组成员一起创建协作项目"}),e.jsxs(S,{children:[e.jsx(ra,{className:"w-4 h-4 mr-2"}),"发起新项目"]})]})})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"项目统计"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"参与项目"}),e.jsx("span",{className:"text-sm font-medium",children:"5 个"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"完成任务"}),e.jsx("span",{className:"text-sm font-medium",children:"42 个"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"贡献度"}),e.jsx("span",{className:"text-sm font-medium",children:"85%"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"获得好评"}),e.jsxs("span",{className:"text-sm font-medium",children:[e.jsx("span",{className:"text-yellow-500",children:"★"})," 4.8"]})]})]})})]})]})]})}),e.jsxs(ee,{value:"reviews",className:"space-y-6",children:[e.jsxs(ue,{children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx(xe,{children:"您有 2 个待完成的同伴评价，请及时完成以维持良好的社区氛围"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"待评价"})}),e.jsx(E,{className:"space-y-4",children:[{project:"数据可视化项目",partner:"李四",deadline:"2天后"},{project:"机器学习作业",partner:"王五",deadline:"5天后"}].map((k,C)=>e.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:k.project}),e.jsxs("p",{className:"text-sm text-gray-600",children:["合作伙伴: ",k.partner]})]}),e.jsx(V,{variant:"outline",className:"text-xs",children:k.deadline})]}),e.jsxs(S,{size:"sm",className:"w-full",children:[e.jsx(Ds,{className:"w-4 h-4 mr-2"}),"开始评价"]})]},C))})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"收到的评价"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"flex justify-center mb-2",children:[1,2,3,4,5].map(k=>e.jsx(Ds,{className:X("w-6 h-6",k<=4?"text-yellow-400 fill-current":"text-gray-300")},k))}),e.jsx("p",{className:"text-2xl font-bold",children:"4.8"}),e.jsx("p",{className:"text-sm text-gray-600",children:"基于 23 个评价"})]}),e.jsx("div",{className:"space-y-2",children:[{aspect:"专业能力",score:4.9},{aspect:"沟通协作",score:4.7},{aspect:"责任心",score:4.8},{aspect:"创新思维",score:4.6}].map((k,C)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:k.aspect}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{value:k.score*20,className:"w-24 h-2"}),e.jsx("span",{className:"text-sm font-medium",children:k.score})]})]},C))})]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"互评指南"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Kt,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h4",{className:"font-medium mb-1",children:"客观公正"}),e.jsx("p",{className:"text-sm text-gray-600",children:"基于实际表现给出评价"})]}),e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(xs,{className:"w-6 h-6 text-green-600"})}),e.jsx("h4",{className:"font-medium mb-1",children:"建设性反馈"}),e.jsx("p",{className:"text-sm text-gray-600",children:"提供有助于改进的建议"})]}),e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(mo,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h4",{className:"font-medium mb-1",children:"积极鼓励"}),e.jsx("p",{className:"text-sm text-gray-600",children:"认可优点，鼓励进步"})]})]})})]})]})]})]})}),e.jsx(Te,{})]})}function fg(){const[s,t]=o.useState("last_month"),[a,n]=o.useState("all"),[r,l]=o.useState([70]),[i,c]=o.useState(!0),[d,m]=o.useState(new Date),u=[{studentId:"1",studentName:"张三",loginFrequency:85,studyTime:240,completionRate:92,interactionScore:88,behaviorPattern:"active",trend:"improving"},{studentId:"2",studentName:"李四",loginFrequency:65,studyTime:180,completionRate:75,interactionScore:70,behaviorPattern:"moderate",trend:"stable"},{studentId:"3",studentName:"王五",loginFrequency:45,studyTime:120,completionRate:58,interactionScore:52,behaviorPattern:"passive",trend:"declining"},{studentId:"4",studentName:"赵六",loginFrequency:90,studyTime:280,completionRate:95,interactionScore:92,behaviorPattern:"active",trend:"improving"},{studentId:"5",studentName:"刘七",loginFrequency:55,studyTime:150,completionRate:68,interactionScore:62,behaviorPattern:"moderate",trend:"stable"}],h=[{studentId:"1",studentName:"张三",currentGrade:85,predictedGrade:88,confidence:92,factors:["学习时间增长","互动积极"],riskLevel:"low"},{studentId:"2",studentName:"李四",currentGrade:75,predictedGrade:73,confidence:78,factors:["出勤率下降","作业延迟"],riskLevel:"medium"},{studentId:"3",studentName:"王五",currentGrade:68,predictedGrade:62,confidence:85,factors:["学习时间不足","缺乏互动"],riskLevel:"high"},{studentId:"4",studentName:"赵六",currentGrade:90,predictedGrade:93,confidence:95,factors:["表现优异","持续进步"],riskLevel:"low"},{studentId:"5",studentName:"刘七",currentGrade:72,predictedGrade:74,confidence:82,factors:["稳定表现","适度参与"],riskLevel:"medium"}],p=[{courseId:"1",courseName:"机器学习基础",satisfactionScore:4.5,difficultyRating:3.8,engagementLevel:85,completionRate:92,feedbackCount:48,improvementSuggestions:["增加实践案例","优化作业难度"]},{courseId:"2",courseName:"数据结构与算法",satisfactionScore:4.2,difficultyRating:4.2,engagementLevel:78,completionRate:85,feedbackCount:52,improvementSuggestions:["加强基础讲解","增加辅导时间"]},{courseId:"3",courseName:"Web开发实践",satisfactionScore:4.7,difficultyRating:3.5,engagementLevel:92,completionRate:95,feedbackCount:45,improvementSuggestions:["更新技术栈","增加项目复杂度"]},{courseId:"4",courseName:"软件工程导论",satisfactionScore:3.9,difficultyRating:3.2,engagementLevel:72,completionRate:88,feedbackCount:38,improvementSuggestions:["增强案例研究","改进教学方法"]}],g=[{mentorId:"1",mentorName:"张教授",studentCount:25,averageGrade:85.2,satisfactionRating:4.6,responseTime:2.3,guidanceQuality:4.8,improvementRate:15.5,specialties:["机器学习","深度学习"]},{mentorId:"2",mentorName:"李教授",studentCount:22,averageGrade:82.8,satisfactionRating:4.4,responseTime:3.1,guidanceQuality:4.5,improvementRate:12.8,specialties:["数据分析","统计学"]},{mentorId:"3",mentorName:"王教授",studentCount:28,averageGrade:88.5,satisfactionRating:4.8,responseTime:1.8,guidanceQuality:4.9,improvementRate:18.2,specialties:["Web开发","前端技术"]},{mentorId:"4",mentorName:"陈教授",studentCount:20,averageGrade:80.5,satisfactionRating:4.2,responseTime:2.8,guidanceQuality:4.3,improvementRate:10.5,specialties:["软件工程","项目管理"]}],b=[{id:"1",type:"behavior",title:"学习行为异常检测",description:"发现3名学生学习时间显著下降，建议及时干预",severity:"warning",actionItems:["联系相关学生","调整学习计划","增加辅导支持"],timestamp:"2024-01-15 10:30"},{id:"2",type:"grade",title:"成绩预测风险预警",description:"5名学生存在成绩下滑风险，预测准确率85%",severity:"critical",actionItems:["制定提升计划","加强个性化指导","增加练习机会"],timestamp:"2024-01-15 09:15"},{id:"3",type:"course",title:"课程质量分析报告",description:"《数据结构与算法》课程满意度较低，需要改进教学方法",severity:"warning",actionItems:["优化课程内容","增加实践环节","收集详细反馈"],timestamp:"2024-01-15 08:45"},{id:"4",type:"mentor",title:"导师效能评估结果",description:"王教授指导效果突出，建议分享优秀经验",severity:"info",actionItems:["组织经验分享","制定标准流程","推广最佳实践"],timestamp:"2024-01-15 08:00"}];o.useEffect(()=>{const y=setInterval(()=>{m(new Date)},6e4);return()=>clearInterval(y)},[]);const N=y=>{switch(y){case"active":return"text-green-600 bg-green-50";case"moderate":return"text-yellow-600 bg-yellow-50";case"passive":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},j=y=>{switch(y){case"improving":return e.jsx(xs,{className:"w-4 h-4 text-green-600"});case"declining":return e.jsx(xo,{className:"w-4 h-4 text-red-600"});default:return e.jsx(Ts,{className:"w-4 h-4 text-gray-600"})}},x=y=>{switch(y){case"low":return"text-green-600 bg-green-50";case"medium":return"text-yellow-600 bg-yellow-50";case"high":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},f=y=>{switch(y){case"info":return"border-blue-200 bg-blue-50";case"warning":return"border-yellow-200 bg-yellow-50";case"critical":return"border-red-200 bg-red-50";default:return"border-gray-200 bg-gray-50"}},w=()=>{alert("正在生成分析报告...")},D=()=>{alert("正在导出数据...")};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"数据分析中心"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"深度分析学习行为、预测成绩趋势、评估课程质量和导师效能"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["最后更新: ",d.toLocaleTimeString()]})]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:w,children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"生成报告"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:D,children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"导出数据"]}),e.jsxs(S,{size:"sm",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"刷新分析"]})]})]}),e.jsxs(R,{className:"mb-6",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5"}),"分析控制面板"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"时间范围"}),e.jsxs(ie,{value:s,onValueChange:t,children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"last_week",children:"最近一周"}),e.jsx(W,{value:"last_month",children:"最近一月"}),e.jsx(W,{value:"last_quarter",children:"最近一季度"}),e.jsx(W,{value:"last_year",children:"最近一年"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"分析维度"}),e.jsxs(ie,{value:a,onValueChange:n,children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"全部维度"}),e.jsx(W,{value:"behavior",children:"学习行为"}),e.jsx(W,{value:"grade",children:"成绩趋势"}),e.jsx(W,{value:"course",children:"课程质量"}),e.jsx(W,{value:"mentor",children:"导师效能"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{children:["预警阈值: ",r[0],"%"]}),e.jsx(is,{value:r,onValueChange:l,max:100,min:0,step:5,className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(Bs,{checked:i,onCheckedChange:c}),"自动分析"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"启用实时数据分析"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"学习活跃度"}),e.jsx("p",{className:"text-2xl font-bold",children:"78.5%"})]}),e.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ns,{className:"w-6 h-6 text-blue-600"})})]}),e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"↑ 5.2% 较上月"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"预测准确率"}),e.jsx("p",{className:"text-2xl font-bold",children:"85.3%"})]}),e.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(rt,{className:"w-6 h-6 text-green-600"})})]}),e.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"模型可信度高"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"课程满意度"}),e.jsx("p",{className:"text-2xl font-bold",children:"4.3/5"})]}),e.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Ds,{className:"w-6 h-6 text-purple-600"})})]}),e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"↑ 0.2 较上月"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"导师效能指数"}),e.jsx("p",{className:"text-2xl font-bold",children:"86.8"})]}),e.jsx("div",{className:"h-12 w-12 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx(Kt,{className:"w-6 h-6 text-orange-600"})})]}),e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"↑ 3.1 较上月"})]})})]}),e.jsxs(Ye,{defaultValue:"behavior",className:"w-full",children:[e.jsxs(qe,{className:"grid w-full grid-cols-5",children:[e.jsx(J,{value:"behavior",children:"学习行为分析"}),e.jsx(J,{value:"prediction",children:"成绩趋势预测"}),e.jsx(J,{value:"course",children:"课程质量评估"}),e.jsx(J,{value:"mentor",children:"导师效能分析"}),e.jsx(J,{value:"insights",children:"智能洞察"})]}),e.jsxs(ee,{value:"behavior",className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ns,{className:"w-5 h-5"}),"学习行为深度分析"]})}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"学生"}),e.jsx("th",{className:"text-center py-3 px-4",children:"登录频率"}),e.jsx("th",{className:"text-center py-3 px-4",children:"学习时长(分钟)"}),e.jsx("th",{className:"text-center py-3 px-4",children:"完成率"}),e.jsx("th",{className:"text-center py-3 px-4",children:"互动得分"}),e.jsx("th",{className:"text-center py-3 px-4",children:"行为模式"}),e.jsx("th",{className:"text-center py-3 px-4",children:"趋势"})]})}),e.jsx("tbody",{children:u.map(y=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:y.studentName}),e.jsxs("td",{className:"text-center py-3 px-4",children:[y.loginFrequency,"%"]}),e.jsx("td",{className:"text-center py-3 px-4",children:y.studyTime}),e.jsxs("td",{className:"text-center py-3 px-4",children:[e.jsx(te,{value:y.completionRate,className:"w-20 mx-auto"}),e.jsxs("span",{className:"text-xs mt-1",children:[y.completionRate,"%"]})]}),e.jsx("td",{className:"text-center py-3 px-4",children:y.interactionScore}),e.jsx("td",{className:"text-center py-3 px-4",children:e.jsx(V,{className:N(y.behaviorPattern),children:y.behaviorPattern==="active"?"活跃":y.behaviorPattern==="moderate"?"中等":"被动"})}),e.jsx("td",{className:"text-center py-3 px-4",children:j(y.trend)})]},y.studentId))})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"行为模式分布"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"活跃型学生"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{value:40,className:"w-32"}),e.jsx("span",{className:"text-sm",children:"40%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"中等型学生"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{value:40,className:"w-32"}),e.jsx("span",{className:"text-sm",children:"40%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"被动型学生"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{value:20,className:"w-32"}),e.jsx("span",{className:"text-sm",children:"20%"})]})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"学习时长分析"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:"194"}),e.jsx("div",{className:"text-sm text-gray-600",children:"平均学习时长(分钟)"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:"280"}),e.jsx("div",{className:"text-gray-600",children:"最高"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:"120"}),e.jsx("div",{className:"text-gray-600",children:"最低"})]})]})]})})]})]})]}),e.jsxs(ee,{value:"prediction",className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"w-5 h-5"}),"成绩趋势精准预测"]})}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"学生"}),e.jsx("th",{className:"text-center py-3 px-4",children:"当前成绩"}),e.jsx("th",{className:"text-center py-3 px-4",children:"预测成绩"}),e.jsx("th",{className:"text-center py-3 px-4",children:"预测变化"}),e.jsx("th",{className:"text-center py-3 px-4",children:"置信度"}),e.jsx("th",{className:"text-center py-3 px-4",children:"风险等级"}),e.jsx("th",{className:"text-center py-3 px-4",children:"关键因素"})]})}),e.jsx("tbody",{children:h.map(y=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:y.studentName}),e.jsx("td",{className:"text-center py-3 px-4",children:y.currentGrade}),e.jsx("td",{className:"text-center py-3 px-4 font-semibold",children:y.predictedGrade}),e.jsx("td",{className:"text-center py-3 px-4",children:e.jsxs("span",{className:y.predictedGrade>y.currentGrade?"text-green-600":y.predictedGrade<y.currentGrade?"text-red-600":"text-gray-600",children:[y.predictedGrade>y.currentGrade?"+":"",y.predictedGrade-y.currentGrade]})}),e.jsxs("td",{className:"text-center py-3 px-4",children:[e.jsx(te,{value:y.confidence,className:"w-20 mx-auto"}),e.jsxs("span",{className:"text-xs mt-1",children:[y.confidence,"%"]})]}),e.jsx("td",{className:"text-center py-3 px-4",children:e.jsx(V,{className:x(y.riskLevel),children:y.riskLevel==="low"?"低":y.riskLevel==="medium"?"中":"高"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"space-y-1",children:y.factors.map((T,v)=>e.jsx("span",{className:"inline-block text-xs bg-gray-100 px-2 py-1 rounded mr-1",children:T},v))})})]},y.studentId))})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"预测准确性"})}),e.jsx(E,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"85.3%"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"历史预测准确率"}),e.jsx(te,{value:85.3,className:"mt-4"})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"风险分布"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"低风险"}),e.jsx("span",{className:"text-sm font-semibold text-green-600",children:"40%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"中风险"}),e.jsx("span",{className:"text-sm font-semibold text-yellow-600",children:"40%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"高风险"}),e.jsx("span",{className:"text-sm font-semibold text-red-600",children:"20%"})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"预测模型信息"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"模型类型"}),e.jsx("span",{className:"font-medium",children:"随机森林"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"特征数量"}),e.jsx("span",{className:"font-medium",children:"24"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"训练样本"}),e.jsx("span",{className:"font-medium",children:"2,850"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"最后更新"}),e.jsx("span",{className:"font-medium",children:"2024-01-15"})]})]})})]})]})]}),e.jsxs(ee,{value:"course",className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"w-5 h-5"}),"课程质量多维评估"]})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.map(y=>e.jsxs(R,{className:"border",children:[e.jsx(O,{children:e.jsx(L,{className:"text-lg",children:y.courseName})}),e.jsxs(E,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"满意度"}),e.jsxs("div",{className:"text-xl font-bold",children:[y.satisfactionScore,"/5"]}),e.jsx(te,{value:y.satisfactionScore*20,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"难度评级"}),e.jsxs("div",{className:"text-xl font-bold",children:[y.difficultyRating,"/5"]}),e.jsx(te,{value:y.difficultyRating*20,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"参与度"}),e.jsxs("div",{className:"text-xl font-bold",children:[y.engagementLevel,"%"]}),e.jsx(te,{value:y.engagementLevel,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"完成率"}),e.jsxs("div",{className:"text-xl font-bold",children:[y.completionRate,"%"]}),e.jsx(te,{value:y.completionRate,className:"mt-1"})]})]}),e.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["反馈数量: ",y.feedbackCount]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"改进建议"}),e.jsx("div",{className:"space-y-1",children:y.improvementSuggestions.map((T,v)=>e.jsx("span",{className:"inline-block text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded mr-1",children:T},v))})]})]})]},y.courseId))})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"整体满意度"})}),e.jsx(E,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:"4.3/5"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"平均满意度评分"}),e.jsx(te,{value:86,className:"mt-4"})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"参与度分析"})}),e.jsx(E,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:"81.8%"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"平均参与度"}),e.jsx(te,{value:81.8,className:"mt-4"})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"完成率统计"})}),e.jsx(E,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:"90%"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"平均完成率"}),e.jsx(te,{value:90,className:"mt-4"})]})})]})]})]}),e.jsxs(ee,{value:"mentor",className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"w-5 h-5"}),"导师效能量化分析"]})}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"导师"}),e.jsx("th",{className:"text-center py-3 px-4",children:"学生数量"}),e.jsx("th",{className:"text-center py-3 px-4",children:"平均成绩"}),e.jsx("th",{className:"text-center py-3 px-4",children:"满意度"}),e.jsx("th",{className:"text-center py-3 px-4",children:"响应时间(小时)"}),e.jsx("th",{className:"text-center py-3 px-4",children:"指导质量"}),e.jsx("th",{className:"text-center py-3 px-4",children:"提升率"}),e.jsx("th",{className:"text-center py-3 px-4",children:"专业领域"})]})}),e.jsx("tbody",{children:g.map(y=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:y.mentorName}),e.jsx("td",{className:"text-center py-3 px-4",children:y.studentCount}),e.jsx("td",{className:"text-center py-3 px-4 font-semibold",children:y.averageGrade}),e.jsx("td",{className:"text-center py-3 px-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(Ds,{className:"w-4 h-4 text-yellow-500 fill-current"}),e.jsx("span",{children:y.satisfactionRating})]})}),e.jsx("td",{className:"text-center py-3 px-4",children:y.responseTime}),e.jsxs("td",{className:"text-center py-3 px-4",children:[e.jsx(te,{value:y.guidanceQuality*20,className:"w-20 mx-auto"}),e.jsxs("span",{className:"text-xs mt-1",children:[y.guidanceQuality,"/5"]})]}),e.jsxs("td",{className:"text-center py-3 px-4 text-green-600 font-semibold",children:["+",y.improvementRate,"%"]}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"space-y-1",children:y.specialties.map((T,v)=>e.jsx("span",{className:"inline-block text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded mr-1",children:T},v))})})]},y.mentorId))})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"平均满意度"})}),e.jsx(E,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:"4.5/5"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"导师指导满意度"}),e.jsx("div",{className:"flex justify-center mt-2",children:[1,2,3,4,5].map(y=>e.jsx(Ds,{className:`w-4 h-4 ${y<=4?"text-yellow-500 fill-current":"text-gray-300"}`},y))})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"响应效率"})}),e.jsx(E,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:"2.5h"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"平均响应时间"}),e.jsx(te,{value:75,className:"mt-4"})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"指导质量"})}),e.jsx(E,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:"4.6/5"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"指导质量评分"}),e.jsx(te,{value:92,className:"mt-4"})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"学生提升"})}),e.jsx(E,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"14.3%"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"平均成绩提升率"}),e.jsx(te,{value:85,className:"mt-4"})]})})]})]})]}),e.jsxs(ee,{value:"insights",className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"w-5 h-5"}),"智能洞察与建议"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:b.map(y=>e.jsxs(ue,{className:f(y.severity),children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold",children:y.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"outline",children:y.type==="behavior"?"行为":y.type==="grade"?"成绩":y.type==="course"?"课程":"导师"}),e.jsx("span",{className:"text-xs text-gray-500",children:y.timestamp})]})]}),e.jsx(xe,{className:"mb-3",children:y.description}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"建议措施："}),e.jsx("div",{className:"space-y-1",children:y.actionItems.map((T,v)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(fe,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{children:T})]},v))})]})]})]},y.id))})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"预警机制状态"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"学习行为监控"}),e.jsx(V,{className:"bg-green-100 text-green-800",children:"正常"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"成绩预测模型"}),e.jsx(V,{className:"bg-green-100 text-green-800",children:"运行中"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"课程质量监测"}),e.jsx(V,{className:"bg-yellow-100 text-yellow-800",children:"需关注"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"导师效能评估"}),e.jsx(V,{className:"bg-green-100 text-green-800",children:"良好"})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"数据质量指标"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"数据完整性"}),e.jsx("span",{children:"96%"})]}),e.jsx(te,{value:96})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"数据准确性"}),e.jsx("span",{children:"94%"})]}),e.jsx(te,{value:94})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"实时性"}),e.jsx("span",{children:"98%"})]}),e.jsx(te,{value:98})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"一致性"}),e.jsx("span",{children:"92%"})]}),e.jsx(te,{value:92})]})]})})]})]})]})]})]})}),e.jsx(Te,{})]})}const Er={course:{label:"课程资料",icon:Es,color:"blue",description:"教学课件、笔记、练习题等"},project:{label:"项目案例",icon:Kt,color:"green",description:"优秀项目案例、源代码、演示文档"},paper:{label:"学术论文",icon:Gi,color:"purple",description:"学术研究论文、期刊文章、会议论文"},dataset:{label:"实验数据",icon:Nt,color:"orange",description:"实验数据集、统计数据、研究数据"}},FE=[{value:"latest",label:"最新上传"},{value:"popular",label:"最受欢迎"},{value:"downloads",label:"下载量"},{value:"rating",label:"评分"},{value:"alphabetical",label:"名称"}],Ba=[{id:"1",title:"机器学习基础教程",description:"详细的机器学习入门教程，包含理论基础和实践案例",author:"张教授",authorAvatar:"",category:"course",type:"pdf",size:15728640,downloadCount:2543,likeCount:189,rating:4.8,tags:["机器学习","人工智能","教程","基础"],uploadDate:new Date("2024-01-15"),lastModified:new Date("2024-01-20"),downloadUrl:"/downloads/ml-tutorial.pdf",isPublic:!0,isPremium:!1,comments:45},{id:"2",title:"智能推荐系统项目",description:"基于协同过滤的电商推荐系统完整实现，包含前后端代码",author:"李同学",category:"project",type:"zip",size:52428800,downloadCount:1876,likeCount:234,rating:4.6,tags:["推荐系统","协同过滤","项目","Python"],uploadDate:new Date("2024-01-10"),lastModified:new Date("2024-01-15"),downloadUrl:"/downloads/recommendation-system.zip",isPublic:!0,isPremium:!0,comments:67},{id:"3",title:"深度学习在图像识别中的应用研究",description:"关于卷积神经网络在图像分类任务中的应用研究论文",author:"王研究员",category:"paper",type:"pdf",size:8388608,downloadCount:1234,likeCount:156,rating:4.9,tags:["深度学习","图像识别","CNN","研究论文"],uploadDate:new Date("2024-01-05"),lastModified:new Date("2024-01-08"),downloadUrl:"/downloads/dl-image-recognition.pdf",isPublic:!0,isPremium:!1,comments:23},{id:"4",title:"COVID-19 疫情数据集",description:"全球COVID-19疫情统计数据，包含每日确诊、死亡、康复数据",author:"数据科学团队",category:"dataset",type:"zip",size:125829120,downloadCount:3456,likeCount:312,rating:4.7,tags:["COVID-19","疫情数据","统计","数据集"],uploadDate:new Date("2023-12-20"),lastModified:new Date("2024-01-01"),downloadUrl:"/downloads/covid19-dataset.zip",isPublic:!0,isPremium:!1,comments:89},{id:"5",title:"React 前端开发最佳实践",description:"React框架的高级用法和最佳实践指南，适合有一定基础的开发者",author:"前端团队",category:"course",type:"pdf",size:12582912,downloadCount:1987,likeCount:267,rating:4.5,tags:["React","前端","最佳实践","JavaScript"],uploadDate:new Date("2024-01-12"),lastModified:new Date("2024-01-18"),downloadUrl:"/downloads/react-best-practices.pdf",isPublic:!0,isPremium:!0,comments:34}];function pg(){var z;const[s,t]=o.useState("all"),[a,n]=o.useState(""),[r,l]=o.useState("latest"),[i,c]=o.useState("grid"),[d,m]=o.useState([]),[u,h]=o.useState(!1),[p,g]=o.useState(!1),b=Array.from(new Set(Ba.flatMap(I=>I.tags))),j=[...Ba.filter(I=>{if(s!=="all"&&I.category!==s)return!1;if(a){const F=a.toLowerCase();if(!I.title.toLowerCase().includes(F)&&!I.description.toLowerCase().includes(F)&&!I.author.toLowerCase().includes(F)&&!I.tags.some($=>$.toLowerCase().includes(F)))return!1}return!(d.length>0&&!d.some(F=>I.tags.includes(F))||u&&!I.isPublic)})].sort((I,F)=>{switch(r){case"latest":return F.uploadDate.getTime()-I.uploadDate.getTime();case"popular":return F.likeCount-I.likeCount;case"downloads":return F.downloadCount-I.downloadCount;case"rating":return F.rating-I.rating;case"alphabetical":return I.title.localeCompare(F.title);default:return 0}}),x=()=>Object.entries(Er).map(([I,F])=>({key:I,...F,count:Ba.filter($=>$.category===I).length})),f=()=>({totalResources:Ba.length,totalDownloads:Ba.reduce((I,F)=>I+F.downloadCount,0),totalLikes:Ba.reduce((I,F)=>I+F.likeCount,0),averageRating:(Ba.reduce((I,F)=>I+F.rating,0)/Ba.length).toFixed(1)}),w=I=>{if(I===0)return"0 Bytes";const F=1024,$=["Bytes","KB","MB","GB"],B=Math.floor(Math.log(I)/Math.log(F));return parseFloat((I/Math.pow(F,B)).toFixed(2))+" "+$[B]},D=I=>I.toLocaleDateString("zh-CN",{year:"numeric",month:"short",day:"numeric"}),y=I=>{console.log(`Downloading: ${I.title}`)},T=I=>{console.log(`Liked resource: ${I}`)},v=I=>{m(F=>F.includes(I)?F.filter($=>$!==I):[...F,I])},P=()=>{t("all"),n(""),m([]),h(!1),l("latest")},k=()=>{g(!0),setTimeout(()=>{g(!1)},2e3)},C=f(),M=x();return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"资源共享中心"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"发现和分享优质的学习资源"})]}),e.jsx("div",{className:"flex gap-3",children:e.jsx(S,{onClick:k,disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4 mr-2 animate-spin"}),"上传中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ms,{className:"w-4 h-4 mr-2"}),"上传资源"]})})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"总资源数"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.totalResources})]})]})})}),e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"总下载量"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.totalDownloads.toLocaleString()})]})]})})}),e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(na,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"获赞数量"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.totalLikes.toLocaleString()})]})]})})}),e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ds,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"平均评分"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:C.averageRating})]})]})})})]}),e.jsx(Ye,{value:s,onValueChange:t,className:"mb-6",children:e.jsxs(qe,{className:"grid w-full grid-cols-5",children:[e.jsxs(J,{value:"all",children:["全部资源 (",Ba.length,")"]}),M.map(({key:I,label:F,count:$,icon:B})=>e.jsxs(J,{value:I,children:[e.jsx(B,{className:"w-4 h-4 mr-1"}),F," (",$,")"]},I))]})}),e.jsx(R,{className:"mb-6",children:e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(se,{placeholder:"搜索资源名称、作者或标签...",value:a,onChange:I=>n(I.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(ie,{value:r,onValueChange:l,children:[e.jsx(re,{className:"w-40",children:e.jsx(ce,{placeholder:"排序方式"})}),e.jsx(le,{children:FE.map(I=>e.jsx(W,{value:I.value,children:I.label},I.value))})]}),e.jsxs("div",{className:"flex border rounded-md",children:[e.jsx(S,{variant:i==="grid"?"default":"ghost",size:"sm",onClick:()=>c("grid"),className:"rounded-r-none",children:e.jsx(ay,{className:"w-4 h-4"})}),e.jsx(S,{variant:i==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),className:"rounded-l-none",children:e.jsx(kd,{className:"w-4 h-4"})})]})]})]}),b.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx(H,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"按标签筛选:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:b.slice(0,12).map(I=>e.jsxs(S,{variant:d.includes(I)?"default":"outline",size:"sm",onClick:()=>v(I),children:[e.jsx(uy,{className:"w-3 h-3 mr-1"}),I]},I))})]}),(a||d.length>0||s!=="all")&&e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"当前筛选:"}),s!=="all"&&e.jsxs(V,{variant:"secondary",children:["分类: ",(z=Er[s])==null?void 0:z.label]}),a&&e.jsxs(V,{variant:"secondary",children:["搜索: ",a]}),d.map(I=>e.jsxs(V,{variant:"secondary",children:["标签: ",I]},I)),e.jsx(S,{variant:"ghost",size:"sm",onClick:P,children:"清除所有筛选"})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["资源列表 (",j.length,")"]})}),j.length>0?e.jsx("div",{className:X(i==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4"),children:j.map(I=>{const F=Er[I.category].icon,$=Er[I.category].color;return i==="grid"?e.jsxs(R,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(O,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:X("p-2 rounded-lg",$==="blue"&&"bg-blue-100 text-blue-600",$==="green"&&"bg-green-100 text-green-600",$==="purple"&&"bg-purple-100 text-purple-600",$==="orange"&&"bg-orange-100 text-orange-600"),children:e.jsx(F,{className:"w-4 h-4"})}),e.jsx(V,{variant:"secondary",className:"text-xs",children:Er[I.category].label})]}),I.isPremium&&e.jsx(V,{className:"bg-yellow-100 text-yellow-800",children:"精品"})]}),e.jsx(L,{className:"text-lg leading-tight",children:I.title})]}),e.jsxs(E,{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:I.description}),e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-500",children:[e.jsx(Xs,{className:"w-3 h-3"}),e.jsx("span",{children:I.author}),e.jsx("span",{children:"•"}),e.jsx(hs,{className:"w-3 h-3"}),e.jsx("span",{children:D(I.uploadDate)})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[I.tags.slice(0,3).map(B=>e.jsx(V,{variant:"outline",className:"text-xs",children:B},B)),I.tags.length>3&&e.jsxs(V,{variant:"outline",className:"text-xs",children:["+",I.tags.length-3]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Se,{className:"w-3 h-3"}),e.jsx("span",{children:I.downloadCount.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(na,{className:"w-3 h-3"}),e.jsx("span",{children:I.likeCount})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ds,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),e.jsx("span",{children:I.rating})]})]}),e.jsx("span",{children:w(I.size)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{size:"sm",className:"flex-1",onClick:()=>y(I),children:[e.jsx(Se,{className:"w-3 h-3 mr-1"}),"下载"]}),e.jsx(S,{size:"sm",variant:"outline",onClick:()=>T(I.id),children:e.jsx(na,{className:"w-3 h-3"})}),e.jsx(S,{size:"sm",variant:"outline",children:e.jsx(Le,{className:"w-3 h-3"})})]})]})]},I.id):e.jsx(R,{className:"hover:shadow-md transition-shadow",children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:X("p-3 rounded-lg flex-shrink-0",$==="blue"&&"bg-blue-100 text-blue-600",$==="green"&&"bg-green-100 text-green-600",$==="purple"&&"bg-purple-100 text-purple-600",$==="orange"&&"bg-orange-100 text-orange-600"),children:e.jsx(F,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-grow min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:I.title}),e.jsx(V,{variant:"secondary",className:"text-xs",children:Er[I.category].label}),I.isPremium&&e.jsx(V,{className:"bg-yellow-100 text-yellow-800 text-xs",children:"精品"})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-2 line-clamp-1",children:I.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Xs,{className:"w-3 h-3"}),I.author]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hs,{className:"w-3 h-3"}),D(I.uploadDate)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Se,{className:"w-3 h-3"}),I.downloadCount.toLocaleString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ds,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),I.rating]}),e.jsx("span",{children:w(I.size)})]})]}),e.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[e.jsxs(S,{size:"sm",onClick:()=>y(I),children:[e.jsx(Se,{className:"w-3 h-3 mr-1"}),"下载"]}),e.jsx(S,{size:"sm",variant:"outline",onClick:()=>T(I.id),children:e.jsx(na,{className:"w-3 h-3"})})]})]})})},I.id)})}):e.jsx(R,{children:e.jsxs(E,{className:"py-12 text-center",children:[e.jsx(ks,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"没有找到相关资源"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"尝试调整搜索条件或清除筛选器"}),e.jsx(S,{onClick:P,variant:"outline",children:"清除所有筛选"})]})})]}),p&&e.jsxs(ue,{className:"mb-6",children:[e.jsx(Ke,{className:"h-4 w-4 animate-spin"}),e.jsx(xe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"正在上传资源..."}),e.jsx(te,{value:75,className:"w-32 ml-4"})]})})]})]})}),e.jsx(Te,{})]})}const Yb=[{id:"1",fileName:"张三_机器学习课程作业.pdf",submissionDate:new Date("2024-11-15"),aiProbability:85,similarityScore:23,qualityScore:78,confidenceLevel:92,status:"completed",detectedSources:["学术论文库","公开代码仓库"],flaggedSections:[{id:"1-1",text:"机器学习是一种人工智能技术，通过算法让计算机从数据中自动学习和改进，无需显式编程...",startPos:245,endPos:456,type:"ai_generated",confidence:87,suggestion:"建议用自己的话重新表述这段内容"},{id:"1-2",text:"在监督学习中，我们使用标记的训练数据来训练模型...",startPos:1024,endPos:1158,type:"plagiarized",confidence:94,source:"《机器学习导论》教科书",suggestion:"需要添加引用并用自己的理解重写"}],writingAnalysis:{originalityScore:68,academicStandardScore:82,logicalStructureScore:75,languageExpressionScore:88,overallQualityScore:78,strengthPoints:["逻辑清晰","语言表达流畅","格式规范"],improvementAreas:["原创性不足","缺少个人见解","引用不当"],detailedFeedback:"该作业整体结构合理，表达清晰，但存在较多AI生成内容和抄袭段落。建议增加个人理解和分析，确保内容原创性。"},reviewStatus:"needs_review"},{id:"2",fileName:"李四_深度学习实验报告.docx",submissionDate:new Date("2024-11-14"),aiProbability:45,similarityScore:12,qualityScore:91,confidenceLevel:88,status:"completed",detectedSources:[],flaggedSections:[],writingAnalysis:{originalityScore:89,academicStandardScore:92,logicalStructureScore:88,languageExpressionScore:94,overallQualityScore:91,strengthPoints:["原创性高","实验设计合理","数据分析深入","结论有见地"],improvementAreas:["图表标题可以更详细","参考文献格式需规范"],detailedFeedback:"优秀的实验报告，展现了良好的学术写作能力和深入的理解。实验设计科学，数据分析全面，结论合理。"},reviewStatus:"approved"}],$E=[{id:"1",name:"机器学习课程期末作业批量检测",fileCount:25,completedFiles:18,startTime:new Date("2024-11-15 09:00"),estimatedCompletion:new Date("2024-11-15 11:30"),status:"running",results:Yb},{id:"2",name:"数据结构课程作业检测",fileCount:30,completedFiles:30,startTime:new Date("2024-11-14 14:00"),status:"completed",results:[]}],BE=[{id:"1",date:new Date("2024-11-15"),totalFiles:45,aiDetected:12,plagiarismDetected:8,averageQuality:82.5,flaggedCount:15},{id:"2",date:new Date("2024-11-14"),totalFiles:38,aiDetected:9,plagiarismDetected:5,averageQuality:85.2,flaggedCount:10},{id:"3",date:new Date("2024-11-13"),totalFiles:52,aiDetected:15,plagiarismDetected:12,averageQuality:78.8,flaggedCount:20},{id:"4",date:new Date("2024-11-12"),totalFiles:29,aiDetected:6,plagiarismDetected:3,averageQuality:88.1,flaggedCount:7},{id:"5",date:new Date("2024-11-11"),totalFiles:41,aiDetected:11,plagiarismDetected:7,averageQuality:81.3,flaggedCount:14}];function jg(){const[s,t]=o.useState([]),[a,n]=o.useState(Yb),[r,l]=o.useState($E),[i,c]=o.useState(BE),[d,m]=o.useState(!1),[u,h]=o.useState(null),[p,g]=o.useState(""),[b,N]=o.useState("file"),[j,x]=o.useState({aiDetectionThreshold:70,similarityThreshold:30,qualityThreshold:60,autoReview:!1,batchSize:10,enableRealTimeAnalysis:!0}),f=C=>{const M=Array.from(C.target.files||[]);t(M)},w=async()=>{b==="text"&&!p.trim()||b==="file"&&s.length===0||(m(!0),setTimeout(()=>{const C={id:Date.now().toString(),fileName:b==="text"?"文本输入内容":s[0].name,submissionDate:new Date,aiProbability:Math.floor(Math.random()*100),similarityScore:Math.floor(Math.random()*100),qualityScore:Math.floor(Math.random()*40)+60,confidenceLevel:Math.floor(Math.random()*20)+80,status:"completed",detectedSources:[],flaggedSections:[],writingAnalysis:{originalityScore:Math.floor(Math.random()*40)+60,academicStandardScore:Math.floor(Math.random()*30)+70,logicalStructureScore:Math.floor(Math.random()*30)+70,languageExpressionScore:Math.floor(Math.random()*20)+80,overallQualityScore:Math.floor(Math.random()*40)+60,strengthPoints:["表达清晰","逻辑合理"],improvementAreas:["需要更多原创内容"],detailedFeedback:"分析完成，请查看详细报告。"},reviewStatus:"pending"};n(M=>[C,...M]),h(C),m(!1),t([]),g("")},3e3))},D=()=>{if(s.length===0)return;const C={id:Date.now().toString(),name:`批量检测_${new Date().toLocaleDateString()}`,fileCount:s.length,completedFiles:0,startTime:new Date,status:"running",results:[]};l(z=>[C,...z]),t([]);const M=setInterval(()=>{l(z=>z.map(I=>I.id===C.id&&I.completedFiles<I.fileCount?{...I,completedFiles:I.completedFiles+1}:I.id===C.id&&I.completedFiles>=I.fileCount?(clearInterval(M),{...I,status:"completed"}):I))},1e3)},y=C=>{switch(C){case"analyzing":return"text-blue-600 bg-blue-50";case"completed":return"text-green-600 bg-green-50";case"failed":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},T=C=>{switch(C){case"approved":return"text-green-600 bg-green-50";case"rejected":return"text-red-600 bg-red-50";case"needs_review":return"text-orange-600 bg-orange-50";case"pending":return"text-blue-600 bg-blue-50";default:return"text-gray-600 bg-gray-50"}},v=(C,M)=>C>80||M>50?{level:"high",color:"text-red-600"}:C>60||M>30?{level:"medium",color:"text-orange-600"}:{level:"low",color:"text-green-600"},P=C=>{alert(`正在生成 ${C.fileName} 的详细检测报告...`)},k=()=>{alert("正在导出检测结果...")};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Qs,{className:"w-6 h-6 text-blue-600"}),"AI作业检测系统"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"AI内容识别 • 相似度检测 • 质量评分 • 智能审核"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(S,{variant:"outline",size:"sm",onClick:k,children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"导出结果"]}),e.jsxs(S,{size:"sm",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"刷新数据"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"AI检测准确率"}),e.jsx("p",{className:"text-2xl font-bold",children:"92.5%"})]}),e.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Ns,{className:"w-6 h-6 text-blue-600"})})]}),e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"↑ 2.3% 较上月"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"今日检测数量"}),e.jsx("p",{className:"text-2xl font-bold",children:"156"})]}),e.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(rh,{className:"w-6 h-6 text-purple-600"})})]}),e.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"45 个待审核"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"异常检出率"}),e.jsx("p",{className:"text-2xl font-bold",children:"18.3%"})]}),e.jsx("div",{className:"h-12 w-12 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx(Me,{className:"w-6 h-6 text-orange-600"})})]}),e.jsx("p",{className:"text-xs text-orange-600 mt-2",children:"需要人工复核"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"平均质量分"}),e.jsx("p",{className:"text-2xl font-bold",children:"83.7"})]}),e.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Ds,{className:"w-6 h-6 text-green-600"})})]}),e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"质量整体良好"})]})})]}),e.jsxs(Ye,{defaultValue:"detection",className:"space-y-6",children:[e.jsxs(qe,{className:"grid w-full grid-cols-5",children:[e.jsx(J,{value:"detection",children:"内容检测"}),e.jsx(J,{value:"results",children:"检测结果"}),e.jsx(J,{value:"batch",children:"批量处理"}),e.jsx(J,{value:"history",children:"检测历史"}),e.jsx(J,{value:"settings",children:"系统设置"})]}),e.jsx(ee,{value:"detection",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(ks,{className:"w-5 h-5"}),"智能检测"]}),e.jsxs(ie,{value:b,onValueChange:C=>N(C),children:[e.jsx(re,{className:"w-32",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"file",children:"文件上传"}),e.jsx(W,{value:"text",children:"文本输入"}),e.jsx(W,{value:"batch",children:"批量检测"})]})]})]})}),e.jsxs(E,{className:"space-y-4",children:[b==="text"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(H,{children:"请输入待检测文本内容"}),e.jsx(Ie,{placeholder:"粘贴或输入需要检测的文本内容...",value:p,onChange:C=>g(C.target.value),className:"min-h-[200px]"}),e.jsxs("div",{className:"text-xs text-gray-500",children:["字符数: ",p.length," | 建议最少100字符以确保检测准确性"]})]}),(b==="file"||b==="batch")&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center hover:border-gray-400 transition-colors cursor-pointer",onClick:()=>{var C;return(C=document.getElementById("file-upload"))==null?void 0:C.click()},children:[e.jsx("input",{id:"file-upload",type:"file",multiple:b==="batch",className:"hidden",onChange:f,accept:".pdf,.doc,.docx,.txt,.md"}),e.jsx(Ms,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:b==="batch"?"批量上传文件":"上传单个文件"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"支持 PDF、Word、TXT、Markdown 格式"}),e.jsx("p",{className:"text-xs text-gray-500",children:b==="batch"?"最多支持50个文件同时上传":"单个文件大小限制10MB"})]}),s.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{children:["已选择文件 (",s.length,")"]}),e.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:s.map((C,M)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm truncate",children:C.name})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[(C.size/1024/1024).toFixed(1)," MB"]})]},M))})]})]}),d&&e.jsxs(ue,{children:[e.jsx(Ns,{className:"h-4 w-4"}),e.jsx(xe,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{children:"AI正在分析内容，预计需要30-60秒..."}),e.jsx(te,{value:33,className:"w-full"}),e.jsx("div",{className:"text-xs text-gray-600",children:"正在进行：内容识别 → 相似度检测 → 质量评分"})]})})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[e.jsx("div",{className:"text-sm text-gray-600",children:b==="batch"?`将检测 ${s.length} 个文件`:b==="text"?`将检测 ${p.length} 个字符`:s.length>0?`将检测 ${s[0].name}`:"请选择文件或输入文本"}),e.jsx("div",{className:"flex gap-2",children:b==="batch"?e.jsxs(S,{onClick:D,disabled:s.length===0||d,children:[e.jsx(zt,{className:"w-4 h-4 mr-2"}),"开始批量检测"]}):e.jsxs(S,{onClick:w,disabled:b==="file"&&s.length===0||b==="text"&&!p.trim()||d,children:[e.jsx(Ns,{className:"w-4 h-4 mr-2"}),"开始检测"]})})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"检测配置"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{children:["AI检测阈值: ",j.aiDetectionThreshold,"%"]}),e.jsx(is,{value:[j.aiDetectionThreshold],onValueChange:C=>x(M=>({...M,aiDetectionThreshold:C[0]})),max:100,min:0,step:5})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{children:["相似度阈值: ",j.similarityThreshold,"%"]}),e.jsx(is,{value:[j.similarityThreshold],onValueChange:C=>x(M=>({...M,similarityThreshold:C[0]})),max:100,min:0,step:5})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{children:["质量评分阈值: ",j.qualityThreshold,"%"]}),e.jsx(is,{value:[j.qualityThreshold],onValueChange:C=>x(M=>({...M,qualityThreshold:C[0]})),max:100,min:0,step:5})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bs,{id:"auto-review",checked:j.autoReview,onCheckedChange:C=>x(M=>({...M,autoReview:C}))}),e.jsx(H,{htmlFor:"auto-review",children:"自动审核"})]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"检测说明"})}),e.jsx(E,{className:"space-y-3",children:e.jsxs("div",{className:"text-sm space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ns,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"AI内容识别"}),e.jsx("p",{className:"text-xs text-gray-600",children:"检测GPT、Claude等AI工具生成的文本"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ks,{className:"w-4 h-4 text-purple-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"相似度检测"}),e.jsx("p",{className:"text-xs text-gray-600",children:"与历史作业和网络资源对比"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ds,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"质量评分"}),e.jsx("p",{className:"text-xs text-gray-600",children:"多维度评估内容质量"})]})]})]})})]})]})]})}),e.jsx(ee,{value:"results",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-4",children:a.map(C=>e.jsx(R,{className:X("cursor-pointer transition-all",(u==null?void 0:u.id)===C.id?"ring-2 ring-blue-500":""),onClick:()=>h(C),children:e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:C.fileName}),e.jsxs("p",{className:"text-sm text-gray-600",children:["提交时间: ",C.submissionDate.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:y(C.status),children:C.status==="analyzing"?"分析中":C.status==="completed"?"已完成":"失败"}),e.jsx(V,{className:T(C.reviewStatus),children:C.reviewStatus==="approved"?"已通过":C.reviewStatus==="rejected"?"未通过":C.reviewStatus==="needs_review"?"需复核":"待审核"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:X("text-2xl font-bold",v(C.aiProbability,C.similarityScore).color),children:[C.aiProbability,"%"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"AI概率"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:X("text-2xl font-bold",C.similarityScore>30?"text-orange-600":"text-green-600"),children:[C.similarityScore,"%"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"相似度"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:X("text-2xl font-bold",C.qualityScore>80?"text-green-600":C.qualityScore>60?"text-orange-600":"text-red-600"),children:C.qualityScore}),e.jsx("div",{className:"text-xs text-gray-600",children:"质量分"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[C.confidenceLevel,"%"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"置信度"})]})]}),C.flaggedSections.length>0&&e.jsxs(ue,{className:"mb-4",children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsxs(xe,{children:["发现 ",C.flaggedSections.length," 个可疑段落需要关注"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["风险等级: ",e.jsx("span",{className:v(C.aiProbability,C.similarityScore).color,children:v(C.aiProbability,C.similarityScore).level==="high"?"高风险":v(C.aiProbability,C.similarityScore).level==="medium"?"中等风险":"低风险"})]}),e.jsx(S,{size:"sm",variant:"outline",onClick:M=>{M.stopPropagation(),P(C)},children:"生成报告"})]})]})},C.id))}),e.jsx("div",{className:"space-y-4",children:u?e.jsxs(e.Fragment,{children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"详细分析"})}),e.jsx(E,{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(H,{className:"text-sm font-medium",children:"写作质量评估"}),e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"原创性"}),e.jsxs("span",{children:[u.writingAnalysis.originalityScore,"/100"]})]}),e.jsx(te,{value:u.writingAnalysis.originalityScore}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"学术规范"}),e.jsxs("span",{children:[u.writingAnalysis.academicStandardScore,"/100"]})]}),e.jsx(te,{value:u.writingAnalysis.academicStandardScore}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"逻辑结构"}),e.jsxs("span",{children:[u.writingAnalysis.logicalStructureScore,"/100"]})]}),e.jsx(te,{value:u.writingAnalysis.logicalStructureScore}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"语言表达"}),e.jsxs("span",{children:[u.writingAnalysis.languageExpressionScore,"/100"]})]}),e.jsx(te,{value:u.writingAnalysis.languageExpressionScore})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"优势与改进"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{className:"text-sm font-medium text-green-600",children:"优势特点"}),e.jsx("div",{className:"space-y-1 mt-2",children:u.writingAnalysis.strengthPoints.map((C,M)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(fe,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{children:C})]},M))})]}),e.jsxs("div",{children:[e.jsx(H,{className:"text-sm font-medium text-orange-600",children:"改进建议"}),e.jsx("div",{className:"space-y-1 mt-2",children:u.writingAnalysis.improvementAreas.map((C,M)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ze,{className:"w-3 h-3 text-orange-600"}),e.jsx("span",{children:C})]},M))})]})]})]}),u.flaggedSections.length>0&&e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"可疑段落"})}),e.jsx(E,{className:"space-y-3",children:u.flaggedSections.map(C=>e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(V,{variant:"outline",className:C.type==="ai_generated"?"text-blue-600":C.type==="plagiarized"?"text-red-600":"text-orange-600",children:C.type==="ai_generated"?"AI生成":C.type==="plagiarized"?"抄袭":"可疑"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["置信度: ",C.confidence,"%"]})]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-2 italic",children:['"',C.text.substring(0,100),'..."']}),C.source&&e.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:["来源: ",C.source]}),C.suggestion&&e.jsxs("p",{className:"text-xs text-blue-600",children:["建议: ",C.suggestion]})]},C.id))})]})]}):e.jsx(R,{children:e.jsxs(E,{className:"p-8 text-center",children:[e.jsx(Le,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"选择检测结果"}),e.jsx("p",{className:"text-sm text-gray-600",children:"点击左侧任一检测结果查看详细分析"})]})})})]})}),e.jsx(ee,{value:"batch",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(He,{className:"w-5 h-5"}),"批量检测管理"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:r.map(C=>e.jsx(R,{className:"border",children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:C.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["开始时间: ",C.startTime.toLocaleString()]}),C.estimatedCompletion&&e.jsxs("p",{className:"text-sm text-gray-600",children:["预计完成: ",C.estimatedCompletion.toLocaleString()]})]}),e.jsx(V,{className:C.status==="running"?"text-blue-600 bg-blue-50":C.status==="completed"?"text-green-600 bg-green-50":C.status==="failed"?"text-red-600 bg-red-50":"text-gray-600 bg-gray-50",children:C.status==="running"?"进行中":C.status==="completed"?"已完成":C.status==="failed"?"失败":"已暂停"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"进度"}),e.jsxs("span",{children:[C.completedFiles,"/",C.fileCount," 个文件"]})]}),e.jsx(te,{value:C.completedFiles/C.fileCount*100})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["完成率: ",Math.round(C.completedFiles/C.fileCount*100),"%"]}),e.jsxs("div",{className:"flex gap-2",children:[C.status==="running"&&e.jsx(S,{size:"sm",variant:"outline",children:"暂停"}),C.status==="completed"&&e.jsx(S,{size:"sm",variant:"outline",children:"查看结果"})]})]})]})},C.id))})})]})}),e.jsxs(ee,{value:"history",className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5"}),"检测历史统计"]})}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"日期"}),e.jsx("th",{className:"text-center py-3 px-4",children:"检测总数"}),e.jsx("th",{className:"text-center py-3 px-4",children:"AI检出"}),e.jsx("th",{className:"text-center py-3 px-4",children:"抄袭检出"}),e.jsx("th",{className:"text-center py-3 px-4",children:"平均质量"}),e.jsx("th",{className:"text-center py-3 px-4",children:"标记数量"})]})}),e.jsx("tbody",{children:i.map(C=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:C.date.toLocaleDateString()}),e.jsx("td",{className:"text-center py-3 px-4",children:C.totalFiles}),e.jsx("td",{className:"text-center py-3 px-4 text-orange-600",children:C.aiDetected}),e.jsx("td",{className:"text-center py-3 px-4 text-red-600",children:C.plagiarismDetected}),e.jsx("td",{className:"text-center py-3 px-4",children:e.jsx("span",{className:X("font-medium",C.averageQuality>85?"text-green-600":C.averageQuality>70?"text-orange-600":"text-red-600"),children:C.averageQuality})}),e.jsx("td",{className:"text-center py-3 px-4",children:C.flaggedCount})]},C.id))})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"检测趋势"})}),e.jsx(E,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:"205"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"本周总检测数"}),e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-2",children:[e.jsx(xs,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-600",children:"较上周 +15%"})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"检出率统计"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"AI内容"}),e.jsx("span",{className:"text-sm font-medium text-orange-600",children:"23.5%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"抄袭内容"}),e.jsx("span",{className:"text-sm font-medium text-red-600",children:"15.8%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"正常内容"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"60.7%"})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"质量分布"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"优秀(85+)"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"32%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"良好(70-84)"}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:"45%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"需改进(70以下)"}),e.jsx("span",{className:"text-sm font-medium text-orange-600",children:"23%"})]})]})})]})]})]}),e.jsxs(ee,{value:"settings",className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5"}),"系统参数配置"]})}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"检测阈值设置"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(H,{children:["AI检测敏感度: ",j.aiDetectionThreshold,"%"]}),e.jsx(is,{value:[j.aiDetectionThreshold],onValueChange:C=>x(M=>({...M,aiDetectionThreshold:C[0]})),max:100,min:0,step:5,className:"mt-2"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"较低值会检测出更多AI内容，但可能增加误报率"})]}),e.jsxs("div",{children:[e.jsxs(H,{children:["相似度警告阈值: ",j.similarityThreshold,"%"]}),e.jsx(is,{value:[j.similarityThreshold],onValueChange:C=>x(M=>({...M,similarityThreshold:C[0]})),max:100,min:0,step:5,className:"mt-2"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"超过此阈值将标记为可能的抄袭行为"})]}),e.jsxs("div",{children:[e.jsxs(H,{children:["质量评分合格线: ",j.qualityThreshold,"%"]}),e.jsx(is,{value:[j.qualityThreshold],onValueChange:C=>x(M=>({...M,qualityThreshold:C[0]})),max:100,min:0,step:5,className:"mt-2"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"低于此分数的作业将被标记为需要改进"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"处理配置"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(H,{children:["批处理大小: ",j.batchSize]}),e.jsx(is,{value:[j.batchSize],onValueChange:C=>x(M=>({...M,batchSize:C[0]})),max:50,min:1,step:1,className:"mt-2"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"同时处理的文件数量，影响检测速度和系统负载"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(H,{children:"自动审核模式"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"低风险检测结果自动通过审核"})]}),e.jsx(Bs,{checked:j.autoReview,onCheckedChange:C=>x(M=>({...M,autoReview:C}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(H,{children:"实时分析"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"文件上传后立即开始分析"})]}),e.jsx(Bs,{checked:j.enableRealTimeAnalysis,onCheckedChange:C=>x(M=>({...M,enableRealTimeAnalysis:C}))})]})]})]})]}),e.jsx("div",{className:"border-t pt-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"配置管理"}),e.jsx("p",{className:"text-sm text-gray-600",children:"保存或重置系统配置"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{variant:"outline",children:"重置默认"}),e.jsx(S,{children:"保存配置"})]})]})})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"模型信息"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx(Ns,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-semibold",children:"AI检测模型"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["版本: v2.1.3",e.jsx("br",{}),"准确率: 92.5%",e.jsx("br",{}),"最后更新: 2024-11-01"]})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx(ks,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-semibold",children:"相似度检测"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["算法: LSH + 语义匹配",e.jsx("br",{}),"数据库: 5000万+ 文档",e.jsx("br",{}),"响应时间: <3秒"]})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx(Ds,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-semibold",children:"质量评估"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["维度: 4个评估维度",e.jsx("br",{}),"标准: 学术写作规范",e.jsx("br",{}),"校准: 专家标注数据"]})]})]})})]})]})]})]})}),e.jsx(Te,{})]})}function gg(){const{user:s}=rs(),t=Qe(),[a,n]=o.useState(""),[r,l]=o.useState("historical"),[i,c]=o.useState(!1),[d,m]=o.useState(!1),[u,h]=o.useState(0),[p,g]=o.useState(""),[b,N]=o.useState("all"),[j,x]=o.useState("all"),[f,w]=o.useState("all"),D=[{id:"1",studentName:"王小明",studentId:"2024001",assignmentTitle:"实验报告3",submittedAt:"2024-10-15 08:30",content:"本次实验主要研究了...",suggestedScore:88,confidence:.85},{id:"2",studentName:"李小红",studentId:"2024002",assignmentTitle:"实验报告3",submittedAt:"2024-10-15 09:15",content:"通过本次实验，我们深入了解了...",suggestedScore:92,confidence:.92},{id:"3",studentName:"张小华",studentId:"2024003",assignmentTitle:"实验报告3",submittedAt:"2024-10-15 10:20",content:"实验过程中遇到了一些问题...",suggestedScore:78,confidence:.76}],y=[{id:"1",studentName:"刘小刚",assignmentTitle:"实验报告3",score:89,evaluator:"张教授",date:"2024-09-15",similarity:.85,comments:"实验设计合理，数据分析深入，结论准确。"},{id:"2",studentName:"陈小美",assignmentTitle:"实验报告3",score:92,evaluator:"李教授",date:"2024-09-10",similarity:.82,comments:"优秀的实验报告，理论结合实践，思路清晰。"},{id:"3",studentName:"赵小强",assignmentTitle:"实验报告3",score:85,evaluator:"王教授",date:"2024-09-08",similarity:.78,comments:"实验完成度良好，但分析部分可以更深入。"},{id:"4",studentName:"钱小花",assignmentTitle:"实验报告3",score:76,evaluator:"张教授",date:"2024-09-05",similarity:.71,comments:"基本完成实验要求，但存在一些理解偏差。"}],T=[{range:"90-100",count:8,percentage:20},{range:"80-89",count:18,percentage:45},{range:"70-79",count:10,percentage:25},{range:"60-69",count:3,percentage:7.5},{range:"0-59",count:1,percentage:2.5}],v=[{id:"1",type:"outlier",severity:"medium",description:"张小华的分数明显低于同类作业平均水平",affectedScores:["3"],recommendation:"建议重新检查评分标准或作业质量"},{id:"2",type:"inconsistent",severity:"low",description:"当前批次评分范围较为集中，可能存在评分标准偏严",affectedScores:["1","2"],recommendation:"参考历史数据调整评分尺度"}],P=[{evaluatorId:"1",evaluatorName:"张教授",averageScore:84.5,standardDeviation:8.2,totalAssignments:45,consistency:.87},{evaluatorId:"2",evaluatorName:"李教授",averageScore:87.2,standardDeviation:6.8,totalAssignments:38,consistency:.92},{evaluatorId:"3",evaluatorName:"王教授",averageScore:82.1,standardDeviation:9.5,totalAssignments:52,consistency:.78}],k=D.find(I=>I.id===a),C=y.filter(I=>!(b!=="all"&&!I.assignmentTitle.includes(b)||f!=="all"&&I.evaluator!==f)).sort((I,F)=>F.similarity-I.similarity),M=async()=>{a&&(c(!0),await new Promise(I=>setTimeout(I,2e3)),c(!1),m(!0))},z=I=>I>=.8?"bg-green-600":I>=.6?"bg-yellow-600":"bg-red-600";return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center space-x-2",children:[e.jsx(Ns,{className:"w-6 h-6 text-blue-600"}),e.jsx("span",{children:"AI评分助手"})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"智能评分辅助，提高评分一致性和准确性"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(S,{variant:"outline",onClick:()=>t("/batch-scoring"),children:"批量评分"}),e.jsx(S,{variant:"outline",onClick:()=>t("/multidimensional-scoring"),children:"单个评分"})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"w-5 h-5"}),e.jsx("span",{children:"选择作业"})]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(H,{children:"待评分作业:"}),e.jsxs(ie,{value:a,onValueChange:n,children:[e.jsx(re,{className:"w-80",children:e.jsx(ce,{placeholder:"选择要评分的作业"})}),e.jsx(le,{children:D.map(I=>e.jsxs(W,{value:I.id,children:[I.studentName," - ",I.assignmentTitle]},I.id))})]}),e.jsx(S,{onClick:M,disabled:!a||i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4 mr-2 animate-spin"}),"分析中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ns,{className:"w-4 h-4 mr-2"}),"AI分析"]})})]}),k&&e.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium",children:[k.studentName," (",k.studentId,")"]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[k.assignmentTitle," - 提交时间: ",k.submittedAt]}),e.jsx("p",{className:"text-sm text-gray-700 mt-2 line-clamp-2",children:k.content})]}),k.suggestedScore&&d&&e.jsxs("div",{className:"text-right",children:[e.jsxs(V,{className:z(k.confidence||0),children:["AI建议: ",k.suggestedScore,"分"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["置信度: ",((k.confidence||0)*100).toFixed(0),"%"]})]})]})})]})]}),a&&e.jsx(R,{children:e.jsx(E,{className:"p-0",children:e.jsxs(Ye,{value:r,onValueChange:l,className:"w-full",children:[e.jsxs(qe,{className:"grid w-full grid-cols-5",children:[e.jsxs(J,{value:"historical",className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsx("span",{children:"历史参考"})]}),e.jsxs(J,{value:"distribution",className:"flex items-center space-x-2",children:[e.jsx(Cs,{className:"w-4 h-4"}),e.jsx("span",{children:"分布分析"})]}),e.jsxs(J,{value:"anomaly",className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"w-4 h-4"}),e.jsx("span",{children:"异常检测"})]}),e.jsxs(J,{value:"suggestions",className:"flex items-center space-x-2",children:[e.jsx(ra,{className:"w-4 h-4"}),e.jsx("span",{children:"智能建议"})]}),e.jsxs(J,{value:"consistency",className:"flex items-center space-x-2",children:[e.jsx(Ts,{className:"w-4 h-4"}),e.jsx("span",{children:"一致性检查"})]})]}),e.jsxs(ee,{value:"historical",className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"相似作业历史评分"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(ie,{value:f,onValueChange:w,children:[e.jsx(re,{className:"w-32",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"所有评委"}),e.jsx(W,{value:"张教授",children:"张教授"}),e.jsx(W,{value:"李教授",children:"李教授"}),e.jsx(W,{value:"王教授",children:"王教授"})]})]})})]}),e.jsx("div",{className:"space-y-3",children:C.map(I=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"font-medium",children:I.studentName}),e.jsx(V,{variant:"outline",children:I.assignmentTitle}),e.jsx("span",{className:"text-sm text-gray-500",children:I.evaluator}),e.jsx("span",{className:"text-sm text-gray-500",children:I.date})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:I.comments})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs(V,{variant:"default",className:"mb-1",children:[I.score,"分"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["相似度: ",(I.similarity*100).toFixed(0),"%"]})]})]})},I.id))})]}),e.jsxs(ee,{value:"distribution",className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"当前批次评分分布"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"导出报告"]}),e.jsxs(ie,{defaultValue:"current",children:[e.jsx(re,{className:"w-32",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"current",children:"当前批次"}),e.jsx(W,{value:"semester",children:"本学期"}),e.jsx(W,{value:"historical",children:"历史数据"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"分数段分布图"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:T.map(I=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium",children:[I.range,"分"]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[I.count,"人 (",I.percentage,"%)"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{value:I.percentage,className:"h-3"}),e.jsx("div",{className:"absolute top-0 left-0 h-3 bg-blue-600 rounded-sm transition-all duration-500",style:{width:`${I.percentage}%`}})]})]},I.range))})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"趋势对比"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{children:"与上批次对比"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xs,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-600",children:"+2.1分"})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{children:"与学期平均对比"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xs,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-blue-600",children:"+0.8分"})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{children:"标准差变化"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ts,{className:"w-4 h-4 text-orange-600"}),e.jsx("span",{className:"text-orange-600",children:"-1.2"})]})]})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"统计摘要"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"84.2"}),e.jsx("div",{className:"text-xs text-gray-500",children:"平均分"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"96"}),e.jsx("div",{className:"text-xs text-gray-500",children:"最高分"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:"58"}),e.jsx("div",{className:"text-xs text-gray-500",children:"最低分"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"7.8"}),e.jsx("div",{className:"text-xs text-gray-500",children:"标准差"})]})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"评分数量:"}),e.jsx("span",{className:"font-medium",children:"40份"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"及格率:"}),e.jsx("span",{className:"font-medium",children:"97.5%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"优秀率:"}),e.jsx("span",{className:"font-medium",children:"20%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"良好率:"}),e.jsx("span",{className:"font-medium",children:"45%"})]})]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"质量评估"})}),e.jsxs(E,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"分布合理性"}),e.jsx(V,{variant:"default",className:"bg-green-600",children:"优秀"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"区分度"}),e.jsx(V,{variant:"default",className:"bg-blue-600",children:"良好"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"一致性"}),e.jsx(V,{variant:"default",className:"bg-green-600",children:"高"})]})]}),e.jsxs(ue,{className:"mt-4",children:[e.jsx(xs,{className:"h-4 w-4"}),e.jsx(xe,{className:"text-xs",children:"当前批次分数分布较为正常，集中在80-89分段，符合一般评分规律。建议继续保持当前评分标准。"})]})]})]})]})]})]}),e.jsxs(ee,{value:"anomaly",className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"异常评分检测"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"重新检测"]}),e.jsxs(ie,{defaultValue:"all",children:[e.jsx(re,{className:"w-32",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"所有异常"}),e.jsx(W,{value:"high",children:"高风险"}),e.jsx(W,{value:"medium",children:"中风险"}),e.jsx(W,{value:"low",children:"低风险"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[e.jsx(R,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"检测到异常"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:"2"})]}),e.jsx(Me,{className:"w-8 h-8 text-red-600"})]})})}),e.jsx(R,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"自动修正建议"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"3"})]}),e.jsx(ra,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(R,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"检测精度"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"94%"})]}),e.jsx(rt,{className:"w-8 h-8 text-green-600"})]})})})]}),e.jsx("div",{className:"space-y-4",children:v.map(I=>e.jsx(R,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"flex-shrink-0",children:[I.type==="outlier"&&e.jsx(xs,{className:"w-5 h-5 text-red-600"}),I.type==="inconsistent"&&e.jsx(Ts,{className:"w-5 h-5 text-yellow-600"}),I.type==="clustered"&&e.jsx(Cs,{className:"w-5 h-5 text-blue-600"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:I.description}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["影响评分: ",I.affectedScores.length,"个"]})]}),e.jsxs(V,{variant:"outline",className:`text-xs ${I.severity==="high"?"border-red-200 text-red-700 bg-red-50":I.severity==="medium"?"border-yellow-200 text-yellow-700 bg-yellow-50":"border-blue-200 text-blue-700 bg-blue-50"}`,children:[I.severity==="high"?"高":I.severity==="medium"?"中":"低","风险"]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"建议:"})," ",I.recommendation]})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["检测类型: ",I.type==="outlier"?"异常值":I.type==="inconsistent"?"不一致":"聚集性"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(S,{variant:"outline",size:"sm",children:"查看详情"}),e.jsx(S,{variant:"outline",size:"sm",children:"应用建议"}),e.jsx(S,{variant:"outline",size:"sm",children:"忽略"})]})]})]})]})})},I.id))}),v.length===0&&e.jsx(R,{children:e.jsxs(E,{className:"p-8 text-center",children:[e.jsx(fe,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"检测结果良好"}),e.jsx("p",{className:"text-gray-600",children:"当前未检测到明显的评分异常，评分质量良好。系统将持续监控评分质量。"})]})}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"检测设置"})}),e.jsx(E,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{className:"text-sm",children:"异常值阈值"}),e.jsxs(ie,{defaultValue:"medium",children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"strict",children:"严格 (±1.5σ)"}),e.jsx(W,{value:"medium",children:"中等 (±2σ)"}),e.jsx(W,{value:"loose",children:"宽松 (±2.5σ)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{className:"text-sm",children:"最小样本数"}),e.jsxs(ie,{defaultValue:"10",children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"5",children:"5个"}),e.jsx(W,{value:"10",children:"10个"}),e.jsx(W,{value:"20",children:"20个"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{className:"text-sm",children:"检测频率"}),e.jsxs(ie,{defaultValue:"realtime",children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"realtime",children:"实时"}),e.jsx(W,{value:"batch",children:"批次完成后"}),e.jsx(W,{value:"manual",children:"手动触发"})]})]})]})]})})]})]}),e.jsxs(ee,{value:"suggestions",className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"AI评分建议"}),d&&k&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"重新分析"]}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"导出建议"]})]})]}),d&&k?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[e.jsxs(R,{className:"xl:col-span-2",children:[e.jsx(O,{children:e.jsxs(L,{className:"text-base flex items-center space-x-2",children:[e.jsx(Ns,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:"智能评分分析"})]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center border-r border-gray-200 pr-6",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:k.suggestedScore}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"AI建议分数"}),e.jsxs(V,{className:z(k.confidence||0),children:["置信度: ",((k.confidence||0)*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"建议区间:"}),e.jsx("span",{className:"font-medium",children:"85-92分"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"历史相似度:"}),e.jsx("span",{className:"font-medium",children:"87%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"质量评估:"}),e.jsx(V,{variant:"outline",className:"bg-green-50",children:"良好"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"难度系数:"}),e.jsx("span",{className:"font-medium",children:"0.75"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"评分依据分析"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"内容完整性: 优秀 (25/25分)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"技术准确性: 良好 (22/25分)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"分析深度: 中等 (18/25分)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"表达清晰度: 良好 (23/25分)"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"text-base flex items-center space-x-2",children:[e.jsx(xs,{className:"w-4 h-4"}),e.jsx("span",{children:"对比分析"})]})}),e.jsxs(E,{className:"space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"相似作业平均分"}),e.jsx("p",{className:"text-xl font-bold text-gray-700",children:"86.4分"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"班级平均分"}),e.jsx("p",{className:"text-xl font-bold text-gray-700",children:"84.2分"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"排名预估"}),e.jsx("p",{className:"text-xl font-bold text-blue-600",children:"前25%"})]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"text-base flex items-center space-x-2",children:[e.jsx(Ts,{className:"w-4 h-4"}),e.jsx("span",{children:"风险评估"})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"过高风险"}),e.jsx(V,{variant:"outline",className:"bg-green-50 text-green-700",children:"低"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"过低风险"}),e.jsx(V,{variant:"outline",className:"bg-green-50 text-green-700",children:"低"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"争议可能"}),e.jsx(V,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:"中"})]})]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"text-base flex items-center space-x-2",children:[e.jsx(xt,{className:"w-4 h-4"}),e.jsx("span",{children:"智能评语建议"})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-lg p-3 bg-green-50",children:[e.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"优点 (可直接使用)"}),e.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[e.jsx("li",{children:"• 实验设计思路清晰，符合科学研究规范"}),e.jsx("li",{children:"• 数据收集和处理方法得当，结果可信"}),e.jsx("li",{children:"• 图表制作规范，数据可视化效果良好"})]})]}),e.jsxs("div",{className:"border rounded-lg p-3 bg-yellow-50",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"改进建议 (需要调整)"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"• 结论部分的分析深度有待提升"}),e.jsx("li",{children:"• 建议增加与理论知识的联系"}),e.jsx("li",{children:"• 讨论部分可以更加深入"})]})]}),e.jsxs("div",{className:"border rounded-lg p-3 bg-blue-50",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"综合评语模板"}),e.jsx("p",{className:"text-sm text-blue-700",children:'"该实验报告完成度良好，实验设计合理，数据分析方法得当。建议在结论部分加强理论分析，提升报告的学术深度。整体表现符合课程要求。"'})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"text-base flex items-center space-x-2",children:[e.jsx(ra,{className:"w-4 h-4"}),e.jsx("span",{children:"评分建议与标准"})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"维度评分建议"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"实验设计 (25%)"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{value:100,className:"w-16 h-2"}),e.jsx("span",{className:"text-sm font-medium",children:"25分"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"数据分析 (25%)"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{value:88,className:"w-16 h-2"}),e.jsx("span",{className:"text-sm font-medium",children:"22分"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"结论讨论 (25%)"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{value:72,className:"w-16 h-2"}),e.jsx("span",{className:"text-sm font-medium",children:"18分"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"报告质量 (25%)"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{value:92,className:"w-16 h-2"}),e.jsx("span",{className:"text-sm font-medium",children:"23分"})]})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"历史对比参考"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("p",{children:"• 同类型作业平均分: 86.4分"}),e.jsx("p",{children:"• 您的历史平均分: 84.8分"}),e.jsx("p",{children:"• 标准差范围: ±7.2分"}),e.jsx("p",{children:"• 建议调整: 无需调整"})]})]})]})})]})]}),e.jsxs(ue,{children:[e.jsx(Ns,{className:"h-4 w-4"}),e.jsxs(xe,{children:["AI建议基于历史数据分析和作业质量评估，建议结合具体评分标准和教学目标进行最终决策。 系统置信度为",((k.confidence||0)*100).toFixed(0),"%，建议谨慎参考。"]})]})]}):e.jsx(R,{children:e.jsxs(E,{className:"p-8 text-center",children:[e.jsx(Ns,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"等待AI分析"}),e.jsx("p",{className:"text-gray-600 mb-4",children:'请先选择作业并点击"AI分析"获取智能评分建议。'}),e.jsx(S,{variant:"outline",disabled:!a,children:"开始分析"})]})})]}),e.jsxs(ee,{value:"consistency",className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"评分一致性分析"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"导出分析报告"]}),e.jsxs(ie,{defaultValue:"all",children:[e.jsx(re,{className:"w-32",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"所有评委"}),e.jsx(W,{value:"semester",children:"本学期"}),e.jsx(W,{value:"course",children:"当前课程"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx(R,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"总体一致性"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"87%"})]}),e.jsx(fe,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(R,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"评分偏差"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"±2.1"})]}),e.jsx(Ts,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(R,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"校准建议"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:"3"})]}),e.jsx(rt,{className:"w-8 h-8 text-yellow-600"})]})})}),e.jsx(R,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"质量评级"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"A"})]}),e.jsx(Ds,{className:"w-8 h-8 text-green-600"})]})})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"评委对比分析"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:P.map((I,F)=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:I.evaluatorName}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{value:I.consistency*100,className:"flex-1 h-2"}),e.jsxs("span",{className:"text-sm font-medium",children:[(I.consistency*100).toFixed(0),"%"]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"一致性指数"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"平均分"}),e.jsxs("p",{className:"font-medium",children:[I.averageScore,"分"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"标准差"}),e.jsx("p",{className:"font-medium",children:I.standardDeviation})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"评分数量"}),e.jsxs("p",{className:"font-medium",children:[I.totalAssignments,"份"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"偏差程度"}),e.jsx(V,{variant:"outline",className:I.standardDeviation<7?"bg-green-50 text-green-700":I.standardDeviation<9?"bg-yellow-50 text-yellow-700":"bg-red-50 text-red-700",children:I.standardDeviation<7?"低":I.standardDeviation<9?"中":"高"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(S,{variant:"outline",size:"sm",children:"查看详情"}),I.consistency<.8&&e.jsx(S,{variant:"outline",size:"sm",className:"text-blue-600",children:"校准建议"})]})]})},I.evaluatorId))})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"您的评分模式分析"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"与团队平均的一致性"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{value:87,className:"w-20 h-2"}),e.jsx("span",{className:"text-sm font-medium",children:"87%"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"评分严格程度"}),e.jsx(V,{variant:"outline",className:"bg-blue-50 text-blue-700",children:"适中"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"分数分布均匀性"}),e.jsx(V,{variant:"outline",className:"bg-green-50 text-green-700",children:"良好"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"时间一致性"}),e.jsx(V,{variant:"outline",className:"bg-green-50 text-green-700",children:"稳定"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"历史趋势"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("p",{children:"• 过去3个月一致性提升了5%"}),e.jsx("p",{children:"• 评分标准相对稳定"}),e.jsx("p",{children:"• 与其他评委差异在合理范围内"})]})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"校准建议"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(ue,{children:[e.jsx(ra,{className:"h-4 w-4"}),e.jsx(xe,{className:"text-sm",children:"您的评分模式与团队整体保持良好一致性，建议继续保持当前标准。"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"border rounded-lg p-3 bg-green-50",children:[e.jsx("h4",{className:"font-medium text-green-800 mb-1",children:"优势保持"}),e.jsx("p",{className:"text-sm text-green-700",children:"评分标准稳定，与历史数据一致性高"})]}),e.jsxs("div",{className:"border rounded-lg p-3 bg-yellow-50",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-1",children:"改进空间"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"可适当参考其他评委的评分标准，进一步提升一致性"})]}),e.jsxs("div",{className:"border rounded-lg p-3 bg-blue-50",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"具体建议"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• 定期参与评分标准校准会议"}),e.jsx("li",{children:"• 关注异常评分的反馈和调整"}),e.jsx("li",{children:"• 保持与其他评委的沟通交流"})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(S,{variant:"outline",size:"sm",className:"flex-1",children:"查看校准指南"}),e.jsx(S,{variant:"outline",size:"sm",className:"flex-1",children:"申请校准培训"})]})]})})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"一致性检查设置"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{className:"text-sm",children:"检查频率"}),e.jsxs(ie,{defaultValue:"realtime",children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"realtime",children:"实时检查"}),e.jsx(W,{value:"daily",children:"每日检查"}),e.jsx(W,{value:"weekly",children:"每周检查"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{className:"text-sm",children:"对比基准"}),e.jsxs(ie,{defaultValue:"team",children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"team",children:"团队平均"}),e.jsx(W,{value:"historical",children:"历史数据"}),e.jsx(W,{value:"standard",children:"标准基准"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{className:"text-sm",children:"警告阈值"}),e.jsxs(ie,{defaultValue:"medium",children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"strict",children:"严格 (±1σ)"}),e.jsx(W,{value:"medium",children:"中等 (±1.5σ)"}),e.jsx(W,{value:"loose",children:"宽松 (±2σ)"})]})]})]})]})})]})]})]})})}),a&&d&&e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(xl,{className:"w-5 h-5"}),e.jsx("span",{children:"快速评分"})]})}),e.jsx(E,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"评分 (0-100)"}),e.jsx(se,{type:"number",value:u,onChange:I=>h(parseInt(I.target.value)||0),placeholder:"输入分数",min:"0",max:"100"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"评语"}),e.jsx(Ie,{value:p,onChange:I=>g(I.target.value),placeholder:"输入评语...",rows:4})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"AI建议参考"}),e.jsxs("p",{className:"text-sm text-blue-700",children:["建议分数: ",k==null?void 0:k.suggestedScore,"分"]}),e.jsxs("p",{className:"text-sm text-blue-700",children:["置信度: ",(((k==null?void 0:k.confidence)||0)*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(S,{variant:"outline",children:"保存草稿"}),e.jsx(S,{children:"确认评分"})]})]})]})})]})]})}function vg(){const[s,t]=o.useState("last_day"),[a,n]=o.useState(!0),[r,l]=o.useState(new Date),[i,c]=o.useState(!1),[d,m]=o.useState(null),u=[{id:"1",name:"学生管理系统数据库",type:"database",url:"mysql://localhost:3306/students",status:"active",lastSync:"2024-01-15 14:30:00",nextSync:"2024-01-15 15:00:00",schedule:"0 */30 * * * *",dataCount:15420,errorCount:2,rateLimit:100,config:{batchSize:1e3,timeout:30}},{id:"2",name:"课程评价API",type:"api",url:"https://api.course.edu/v1/evaluations",status:"active",lastSync:"2024-01-15 14:25:00",nextSync:"2024-01-15 14:35:00",schedule:"0 */10 * * * *",dataCount:8760,errorCount:0,rateLimit:1e3,config:{apiKey:"xxx",version:"v1"}},{id:"3",name:"成绩导入文件",type:"file",url:"/data/imports/grades/",status:"inactive",lastSync:"2024-01-15 13:00:00",nextSync:"2024-01-15 16:00:00",schedule:"0 0 */3 * * *",dataCount:5230,errorCount:15,rateLimit:0,config:{filePattern:"*.csv",encoding:"utf-8"}},{id:"4",name:"外部系统FTP",type:"ftp",url:"ftp://external.edu/data/",status:"error",lastSync:"2024-01-15 12:00:00",nextSync:"2024-01-15 18:00:00",schedule:"0 0 */6 * * *",dataCount:2150,errorCount:8,rateLimit:50,config:{username:"user",password:"xxx",path:"/exports"}}],h=[{id:"1",name:"学生基本信息同步",sourceId:"1",sourceName:"学生管理系统数据库",status:"running",progress:75,startTime:"2024-01-15 14:30:00",recordsProcessed:11565,recordsTotal:15420,errorMessages:[],validationPassed:!0},{id:"2",name:"课程评价数据抓取",sourceId:"2",sourceName:"课程评价API",status:"completed",progress:100,startTime:"2024-01-15 14:25:00",endTime:"2024-01-15 14:28:00",recordsProcessed:8760,recordsTotal:8760,errorMessages:[],validationPassed:!0},{id:"3",name:"成绩文件处理",sourceId:"3",sourceName:"成绩导入文件",status:"failed",progress:45,startTime:"2024-01-15 13:00:00",endTime:"2024-01-15 13:15:00",recordsProcessed:2353,recordsTotal:5230,errorMessages:["格式验证失败","重复记录过多","必填字段缺失"],validationPassed:!1},{id:"4",name:"FTP文件同步",sourceId:"4",sourceName:"外部系统FTP",status:"pending",progress:0,startTime:"2024-01-15 18:00:00",recordsProcessed:0,recordsTotal:2150,errorMessages:[],validationPassed:!1}],p=[{metric:"数据完整性",value:96,threshold:95,status:"good",description:"必填字段完整率"},{metric:"数据准确性",value:92,threshold:90,status:"good",description:"格式验证通过率"},{metric:"数据一致性",value:88,threshold:85,status:"good",description:"跨源数据一致性"},{metric:"重复率控制",value:3,threshold:5,status:"good",description:"重复记录占比"},{metric:"及时性指标",value:94,threshold:90,status:"good",description:"数据更新及时率"},{metric:"异常值检测",value:7,threshold:10,status:"good",description:"异常值占比"}],g=[{id:"1",name:"学号必填验证",type:"required",field:"student_id",condition:"NOT NULL",enabled:!0,errorCount:5},{id:"2",name:"邮箱格式验证",type:"format",field:"email",condition:"REGEX @.*\\.edu",enabled:!0,errorCount:12},{id:"3",name:"成绩范围验证",type:"range",field:"score",condition:"0 <= value <= 100",enabled:!0,errorCount:3},{id:"4",name:"学号唯一性验证",type:"unique",field:"student_id",condition:"UNIQUE",enabled:!0,errorCount:8},{id:"5",name:"选课逻辑验证",type:"business",field:"course_selection",condition:"MAX 8 COURSES",enabled:!1,errorCount:0}],b=[{id:"1",type:"error",title:"FTP连接失败",message:"外部系统FTP连接超时，请检查网络连接和认证信息",timestamp:"2024-01-15 14:32:00",sourceId:"4",acknowledged:!1},{id:"2",type:"warning",title:"数据量异常",message:"课程评价API返回数据量比平时减少30%，建议检查",timestamp:"2024-01-15 14:25:00",sourceId:"2",acknowledged:!1},{id:"3",type:"info",title:"定时任务完成",message:"学生基本信息同步任务已成功完成，处理记录15420条",timestamp:"2024-01-15 14:15:00",sourceId:"1",acknowledged:!0}],N=[{sourceId:"1",requestsPerSecond:10,requestsPerMinute:100,requestsPerHour:1e3,currentUsage:450,resetTime:"15:00:00"},{sourceId:"2",requestsPerSecond:50,requestsPerMinute:1e3,requestsPerHour:1e4,currentUsage:2340,resetTime:"15:00:00"},{sourceId:"3",requestsPerSecond:0,requestsPerMinute:0,requestsPerHour:0,currentUsage:0,resetTime:"00:00:00"},{sourceId:"4",requestsPerSecond:5,requestsPerMinute:50,requestsPerHour:500,currentUsage:120,resetTime:"15:00:00"}];o.useEffect(()=>{if(!a)return;const M=setInterval(()=>{l(new Date)},3e4);return()=>clearInterval(M)},[a]);const j=M=>{switch(M){case"database":return e.jsx(Nt,{className:"w-4 h-4"});case"api":return e.jsx(v3,{className:"w-4 h-4"});case"file":return e.jsx(Ne,{className:"w-4 h-4"});case"ftp":return e.jsx(L3,{className:"w-4 h-4"});default:return e.jsx(Nt,{className:"w-4 h-4"})}},x=M=>{switch(M){case"active":return"text-green-600 bg-green-50";case"running":return"text-blue-600 bg-blue-50";case"completed":return"text-green-600 bg-green-50";case"failed":return"text-red-600 bg-red-50";case"error":return"text-red-600 bg-red-50";case"inactive":return"text-gray-600 bg-gray-50";case"pending":return"text-yellow-600 bg-yellow-50";case"paused":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}},f=M=>{switch(M){case"active":return e.jsx(fe,{className:"w-4 h-4 text-green-600"});case"running":return e.jsx(Ts,{className:"w-4 h-4 text-blue-600"});case"completed":return e.jsx(fe,{className:"w-4 h-4 text-green-600"});case"failed":return e.jsx(Ks,{className:"w-4 h-4 text-red-600"});case"error":return e.jsx(Me,{className:"w-4 h-4 text-red-600"});case"inactive":return e.jsx(Yc,{className:"w-4 h-4 text-gray-600"});case"pending":return e.jsx(Ce,{className:"w-4 h-4 text-yellow-600"});case"paused":return e.jsx(Yc,{className:"w-4 h-4 text-orange-600"});default:return e.jsx(Ce,{className:"w-4 h-4 text-gray-600"})}},w=M=>{switch(M){case"good":return"text-green-600";case"warning":return"text-yellow-600";case"error":return"text-red-600";default:return"text-gray-600"}},D=M=>{switch(M){case"error":return"border-red-200 bg-red-50";case"warning":return"border-yellow-200 bg-yellow-50";case"info":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-gray-50"}},y=M=>M==="0 */30 * * * *"?"每30分钟":M==="0 */10 * * * *"?"每10分钟":M==="0 0 */3 * * *"?"每3小时":M==="0 0 */6 * * *"?"每6小时":M,T=M=>{const z=N.find(I=>I.sourceId===M);return z?Math.round(z.currentUsage/z.requestsPerHour*100):0},v=M=>{alert(`手动触发数据源 ${M} 的数据抓取任务`)},P=M=>{alert(`暂停任务 ${M}`)},k=M=>{alert(`恢复任务 ${M}`)},C=M=>{alert(`确认告警 ${M}`)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"自动化数据收集系统"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"定时数据抓取、多源整合、质量监控和自动化验证"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["最后更新: ",r.toLocaleTimeString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{checked:a,onCheckedChange:n}),e.jsx(H,{children:"自动刷新"})]}),e.jsxs(Ge,{open:i,onOpenChange:c,children:[e.jsx(Ta,{asChild:!0,children:e.jsxs(S,{size:"sm",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"添加数据源"]})}),e.jsxs(Be,{className:"max-w-2xl",children:[e.jsx(We,{children:e.jsx(Ve,{children:"配置新数据源"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"数据源名称"}),e.jsx(se,{placeholder:"输入数据源名称"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"数据源类型"}),e.jsxs(ie,{children:[e.jsx(re,{children:e.jsx(ce,{placeholder:"选择类型"})}),e.jsxs(le,{children:[e.jsx(W,{value:"database",children:"数据库"}),e.jsx(W,{value:"api",children:"API接口"}),e.jsx(W,{value:"file",children:"本地文件"}),e.jsx(W,{value:"ftp",children:"FTP服务器"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"连接地址"}),e.jsx(se,{placeholder:"输入连接URL或路径"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"执行计划 (Cron表达式)"}),e.jsx(se,{placeholder:"0 */30 * * * *"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"速率限制 (请求/小时)"}),e.jsx(se,{type:"number",placeholder:"1000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"配置参数"}),e.jsx(Ie,{placeholder:"JSON格式的配置参数"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(S,{variant:"outline",onClick:()=>c(!1),children:"取消"}),e.jsx(S,{onClick:()=>c(!1),children:"保存配置"})]})]})]})]}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"立即刷新"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"数据源总数"}),e.jsx("p",{className:"text-2xl font-bold",children:u.length})]}),e.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Nt,{className:"w-6 h-6 text-blue-600"})})]}),e.jsxs("p",{className:"text-xs text-green-600 mt-2",children:[u.filter(M=>M.status==="active").length," 个活跃"]})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"运行中任务"}),e.jsx("p",{className:"text-2xl font-bold",children:h.filter(M=>M.status==="running").length})]}),e.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Ts,{className:"w-6 h-6 text-green-600"})})]}),e.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:[h.filter(M=>M.status==="pending").length," 个待执行"]})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"数据质量"}),e.jsx("p",{className:"text-2xl font-bold",children:"92.5%"})]}),e.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Qs,{className:"w-6 h-6 text-purple-600"})})]}),e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"↑ 2.1% 较昨日"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"系统告警"}),e.jsx("p",{className:"text-2xl font-bold",children:b.filter(M=>!M.acknowledged).length})]}),e.jsx("div",{className:"h-12 w-12 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Ra,{className:"w-6 h-6 text-red-600"})})]}),e.jsx("p",{className:"text-xs text-red-600 mt-2",children:"需要处理"})]})})]}),e.jsxs(Ye,{defaultValue:"sources",className:"w-full",children:[e.jsxs(qe,{className:"grid w-full grid-cols-6",children:[e.jsx(J,{value:"sources",children:"数据源管理"}),e.jsx(J,{value:"tasks",children:"抓取任务"}),e.jsx(J,{value:"monitoring",children:"流程监控"}),e.jsx(J,{value:"quality",children:"质量检查"}),e.jsx(J,{value:"ratelimits",children:"速率管理"}),e.jsx(J,{value:"alerts",children:"系统告警"})]}),e.jsx(ee,{value:"sources",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"w-5 h-5"}),"数据源配置管理"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:u.map(M=>{var z;return e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[j(M.type),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:M.name}),e.jsx("p",{className:"text-sm text-gray-600",children:M.url})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:x(M.status),children:M.status==="active"?"运行中":M.status==="inactive"?"已停止":"错误"}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>v(M.id),children:[e.jsx(ma,{className:"w-3 h-3 mr-1"}),"手动触发"]}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(dh,{className:"w-3 h-3 mr-1"}),"编辑"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"执行计划:"}),e.jsx("div",{className:"font-medium",children:y(M.schedule)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"上次同步:"}),e.jsx("div",{className:"font-medium",children:M.lastSync})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"下次同步:"}),e.jsx("div",{className:"font-medium",children:M.nextSync})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"数据量:"}),e.jsxs("div",{className:"font-medium",children:[M.dataCount.toLocaleString()," 条"]})]})]}),M.errorCount>0&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-red-600",children:[e.jsx(Me,{className:"w-4 h-4"}),e.jsxs("span",{children:["检测到 ",M.errorCount," 个错误"]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"速率限制使用情况:"}),e.jsx(te,{value:T(M.id),className:"h-2"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[((z=N.find(I=>I.sourceId===M.id))==null?void 0:z.currentUsage)||0," / ",M.rateLimit," 请求/小时"]})]})]},M.id)})})})]})}),e.jsx(ee,{value:"tasks",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"w-5 h-5"}),"数据抓取任务状态"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:h.map(M=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[f(M.status),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:M.name}),e.jsx("p",{className:"text-sm text-gray-600",children:M.sourceName})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:x(M.status),children:M.status==="running"?"运行中":M.status==="completed"?"已完成":M.status==="failed"?"失败":M.status==="pending"?"待执行":"已暂停"}),M.status==="running"&&e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>P(M.id),children:[e.jsx(Yc,{className:"w-3 h-3 mr-1"}),"暂停"]}),M.status==="paused"&&e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>k(M.id),children:[e.jsx(ma,{className:"w-3 h-3 mr-1"}),"恢复"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"处理进度"}),e.jsxs("span",{children:[M.recordsProcessed.toLocaleString()," / ",M.recordsTotal.toLocaleString()," (",M.progress,"%)"]})]}),e.jsx(te,{value:M.progress})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"开始时间:"}),e.jsx("div",{className:"font-medium",children:M.startTime})]}),M.endTime&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"结束时间:"}),e.jsx("div",{className:"font-medium",children:M.endTime})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"验证状态:"}),e.jsx("div",{className:`font-medium ${M.validationPassed?"text-green-600":"text-red-600"}`,children:M.validationPassed?"通过":"失败"})]})]}),M.errorMessages.length>0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-3",children:[e.jsx("div",{className:"text-sm font-medium text-red-800 mb-2",children:"错误信息:"}),e.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:M.errorMessages.map((z,I)=>e.jsxs("li",{children:["• ",z]},I))})]})]})]},M.id))})})]})}),e.jsx(ee,{value:"monitoring",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(pl,{className:"w-5 h-5"}),"数据流监控面板"]})}),e.jsxs(E,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs(R,{className:"border",children:[e.jsx(O,{className:"pb-3",children:e.jsx(L,{className:"text-lg",children:"今日数据量"})}),e.jsx(E,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"31,560"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"条记录"}),e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-2 text-sm text-green-600",children:[e.jsx(xs,{className:"w-4 h-4"}),e.jsx("span",{children:"↑ 12.5% 较昨日"})]})]})})]}),e.jsxs(R,{className:"border",children:[e.jsx(O,{className:"pb-3",children:e.jsx(L,{className:"text-lg",children:"处理效率"})}),e.jsx(E,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"1,250"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"条/分钟"}),e.jsxs("div",{className:"mt-3",children:[e.jsx(te,{value:85}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"平均处理速度"})]})]})})]}),e.jsxs(R,{className:"border",children:[e.jsx(O,{className:"pb-3",children:e.jsx(L,{className:"text-lg",children:"系统负载"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"CPU使用率"}),e.jsx("span",{children:"65%"})]}),e.jsx(te,{value:65})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"内存使用率"}),e.jsx("span",{children:"72%"})]}),e.jsx(te,{value:72})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"网络带宽"}),e.jsx("span",{children:"45%"})]}),e.jsx(te,{value:45})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(R,{className:"border",children:[e.jsx(O,{children:e.jsx(L,{children:"数据源活动状态"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:u.map(M=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[j(M.type),e.jsx("span",{className:"text-sm font-medium",children:M.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[f(M.status),e.jsx("span",{className:"text-xs text-gray-600",children:M.status==="active"?"运行中":"停止"})]})]},M.id))})})]}),e.jsxs(R,{className:"border",children:[e.jsx(O,{children:e.jsx(L,{children:"处理统计"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"成功处理"}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-green-600",children:"28,235"}),e.jsx("div",{className:"text-xs text-gray-500",children:"89.5%"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"验证失败"}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-red-600",children:"2,105"}),e.jsx("div",{className:"text-xs text-gray-500",children:"6.7%"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"格式错误"}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-yellow-600",children:"890"}),e.jsx("div",{className:"text-xs text-gray-500",children:"2.8%"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"重复数据"}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-orange-600",children:"330"}),e.jsx("div",{className:"text-xs text-gray-500",children:"1.0%"})]})]})]})})]})]})]})]})}),e.jsx(ee,{value:"quality",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"w-5 h-5"}),"数据质量检查与验证"]})}),e.jsxs(E,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4",children:"质量指标"}),e.jsx("div",{className:"space-y-4",children:p.map(M=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:M.metric}),e.jsxs("span",{className:`text-sm font-semibold ${w(M.status)}`,children:[M.value,"%"]})]}),e.jsx(te,{value:M.value,className:`h-2 ${M.status==="good"?"[&>div]:bg-green-500":M.status==="warning"?"[&>div]:bg-yellow-500":"[&>div]:bg-red-500"}`}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:M.description}),e.jsxs("span",{children:["阈值: ",M.threshold,"%"]})]})]},M.metric))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-4",children:"验证规则配置"}),e.jsx("div",{className:"space-y-3",children:g.map(M=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:M.name}),e.jsx(V,{variant:"outline",className:"text-xs",children:M.type==="required"?"必填":M.type==="format"?"格式":M.type==="range"?"范围":M.type==="unique"?"唯一":"业务"})]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["字段: ",M.field," | 条件: ",M.condition]}),M.errorCount>0&&e.jsxs("div",{className:"text-xs text-red-600 mt-1",children:["错误数量: ",M.errorCount]})]}),e.jsx(Bs,{checked:M.enabled})]},M.id))})]})]}),e.jsxs(R,{className:"border",children:[e.jsx(O,{children:e.jsx(L,{className:"text-lg",children:"数据清洗统计"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"31,560"}),e.jsx("div",{className:"text-sm text-gray-600",children:"总记录数"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"28,235"}),e.jsx("div",{className:"text-sm text-gray-600",children:"清洗后保留"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:"2,105"}),e.jsx("div",{className:"text-sm text-gray-600",children:"验证失败"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"1,220"}),e.jsx("div",{className:"text-sm text-gray-600",children:"重复删除"})]})]})})]})]})]})}),e.jsx(ee,{value:"ratelimits",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"w-5 h-5"}),"API速率限制管理"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:u.map(M=>{const z=N.find(I=>I.sourceId===M.id);return z?e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[j(M.type),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:M.name}),e.jsx("p",{className:"text-sm text-gray-600",children:M.url})]})]}),e.jsx(V,{className:x(M.status),children:M.status==="active"?"运行中":M.status==="inactive"?"已停止":"错误"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"每秒请求数"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs",children:"0"}),e.jsx("span",{className:"text-xs",children:z.requestsPerSecond})]}),e.jsx(te,{value:z.currentUsage/z.requestsPerHour*100}),e.jsxs("div",{className:"text-xs text-gray-500",children:["当前: ",Math.round(z.currentUsage/3600*100)/100,"/秒"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"每分钟请求数"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs",children:"0"}),e.jsx("span",{className:"text-xs",children:z.requestsPerMinute})]}),e.jsx(te,{value:z.currentUsage/z.requestsPerHour*100}),e.jsxs("div",{className:"text-xs text-gray-500",children:["当前: ",Math.round(z.currentUsage/60*100)/100,"/分钟"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"每小时请求数"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs",children:"0"}),e.jsx("span",{className:"text-xs",children:z.requestsPerHour})]}),e.jsx(te,{value:z.currentUsage/z.requestsPerHour*100,className:z.currentUsage/z.requestsPerHour>.9?"[&>div]:bg-red-500":z.currentUsage/z.requestsPerHour>.7?"[&>div]:bg-yellow-500":"[&>div]:bg-green-500"}),e.jsxs("div",{className:"text-xs text-gray-500",children:["使用: ",z.currentUsage," / ",z.requestsPerHour]})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["下次重置时间: ",z.resetTime]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Je,{className:"w-3 h-3 mr-1"}),"调整限制"]}),z.currentUsage/z.requestsPerHour>.9&&e.jsxs(ue,{className:"py-1 px-2",children:[e.jsx(Me,{className:"h-3 w-3"}),e.jsx(xe,{className:"text-xs",children:"即将达到速率限制"})]})]})]})]},M.id):null})})})]})}),e.jsx(ee,{value:"alerts",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ra,{className:"w-5 h-5"}),"系统监控告警"]})}),e.jsxs(E,{children:[e.jsx("div",{className:"space-y-4",children:b.map(M=>{var z;return e.jsxs(ue,{className:D(M.type),children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"font-semibold",children:M.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"outline",children:M.type==="error"?"错误":M.type==="warning"?"警告":"信息"}),e.jsx("span",{className:"text-xs text-gray-500",children:M.timestamp})]})]}),e.jsx(xe,{className:"mb-3",children:M.message}),M.sourceId&&e.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["数据源: ",(z=u.find(I=>I.id===M.sourceId))==null?void 0:z.name]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[!M.acknowledged&&e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>C(M.id),children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"确认处理"]}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Le,{className:"w-3 h-3 mr-1"}),"查看详情"]})]})]})]},M.id)})}),e.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["显示最近 ",b.length," 条告警 | 未处理: ",b.filter(M=>!M.acknowledged).length," 条"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(rn,{className:"w-3 h-3 mr-1"}),"筛选"]}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Ke,{className:"w-3 h-3 mr-1"}),"刷新"]}),e.jsx(S,{variant:"outline",size:"sm",children:"全部标记为已读"})]})]})]})]})})]})]})}),e.jsx(Te,{})]})}const Tm=[{id:"gpt-4",name:"OpenAI GPT-4",model:"gpt-4-turbo",description:"最先进的语言模型，支持复杂分析和推理",maxTokens:8192,supportsChinese:!0,status:"active"},{id:"claude-3",name:"Anthropic Claude 3",model:"claude-3-sonnet",description:"擅长长文本分析和学术写作",maxTokens:2e5,supportsChinese:!0,status:"active"},{id:"gemini-pro",name:"Google Gemini Pro",model:"gemini-pro",description:"多模态能力，支持图表和数据分析",maxTokens:32768,supportsChinese:!0,status:"inactive"}],Rc=[{id:"1",name:"AI深度学术分析报告",description:"基于LLM的深度学术数据分析和洞察生成",category:"academic",structure:[{id:"1",name:"执行摘要",description:"AI生成的报告核心要点",type:"text",order:1,required:!0,llmPrompt:"基于提供的数据，生成一份简洁的执行摘要，突出关键发现和建议"},{id:"2",name:"数据趋势分析",description:"智能识别数据模式和趋势",type:"chart",order:2,required:!0,chartConfig:{type:"line",dataSource:"analytics",title:"趋势分析图"}},{id:"3",name:"问题诊断与建议",description:"AI识别问题并提供解决建议",type:"text",order:3,required:!0,llmPrompt:"分析数据中存在的问题，并提供具体的改进建议"},{id:"4",name:"对比分析",description:"多维度对比分析",type:"table",order:4,required:!1},{id:"5",name:"预测与展望",description:"AI基于历史数据的预测分析",type:"text",order:5,required:!1,llmPrompt:"基于历史趋势，预测未来发展方向并提供战略建议"}],variables:[{id:"1",name:"分析时间段",type:"select",required:!0,options:["本月","上月","本季度","上季度","本年度"]},{id:"2",name:"分析深度",type:"select",required:!0,options:["基础","详细","深度"]}],isSystem:!0,createdBy:"System",lastModified:new Date("2024-11-01"),useCount:156},{id:"2",name:"智能教学质量报告",description:"全方位教学质量评估与改进建议",category:"evaluation",structure:[{id:"1",name:"教学质量概览",description:"整体质量状况AI分析",type:"text",order:1,required:!0,llmPrompt:"分析教学质量数据，生成综合评价和关键指标解读"},{id:"2",name:"成绩分布分析",description:"学生成绩分布可视化",type:"chart",order:2,required:!0,chartConfig:{type:"bar",dataSource:"grades",title:"成绩分布图"}},{id:"3",name:"教师评价分析",description:"AI挖掘评价数据洞察",type:"text",order:3,required:!0,llmPrompt:"分析教师评价数据，识别优秀实践和改进机会"},{id:"4",name:"学生反馈总结",description:"学生反馈智能归纳",type:"text",order:4,required:!1,llmPrompt:"总结学生反馈，提取关键意见和建议"}],variables:[{id:"1",name:"课程类型",type:"select",required:!0,options:["理论课","实验课","实习课","全部"]},{id:"2",name:"分析维度",type:"select",required:!0,options:["整体","分专业","分年级"]}],isSystem:!0,createdBy:"System",lastModified:new Date("2024-11-01"),useCount:89}];function Ng(){var ge,ke;const[s,t]=o.useState("gpt-4"),[a,n]=o.useState(""),[r,l]=o.useState(""),[i,c]=o.useState(""),[d,m]=o.useState(""),[u,h]=o.useState({pdf:!0,word:!0,html:!1,excel:!1}),[p,g]=o.useState(!1),[b,N]=o.useState(0),[j,x]=o.useState(""),[f,w]=o.useState({}),[D,y]=o.useState(!1),[T,v]=o.useState(""),[P,k]=o.useState([.7]),[C,M]=o.useState([2e3]),[z,I]=o.useState(!0),[F,$]=o.useState([{id:"1",title:"2024年10月AI深度学术分析报告",templateId:"1",templateName:"AI深度学术分析报告",generatedAt:new Date("2024-11-01"),status:"completed",format:["PDF","Word"],llmProvider:"OpenAI GPT-4",model:"gpt-4-turbo",aiGenerated:!0,size:3457280,quality:"excellent",version:1,downloadUrls:{pdf:"#",word:"#"}},{id:"2",title:"教学质量智能分析报告",templateId:"2",templateName:"智能教学质量报告",generatedAt:new Date("2024-10-30"),status:"reviewing",format:["PDF"],llmProvider:"Anthropic Claude 3",model:"claude-3-sonnet",aiGenerated:!0,quality:"good",version:2,reviewComments:"建议增加更多具体的改进措施"}]),[B,A]=o.useState([{id:"1",templateId:"2",templateName:"智能教学质量报告",targets:["计算机学院","机械学院","电气学院"],progress:66,status:"running",createdAt:new Date("2024-11-01"),completedReports:2,totalReports:3}]),_=async()=>{if(!a||!r)return;g(!0),N(0);const Z=Rc.find(me=>me.id===a);if(!Z)return;const pe=Tm.find(me=>me.id===s);if(!pe)return;const Ee={id:Date.now().toString(),title:r,templateId:a,templateName:Z.name,generatedAt:new Date,status:"generating",format:Object.entries(u).filter(([me,De])=>De).map(([me])=>me.toUpperCase()),llmProvider:pe.name,model:pe.model,aiGenerated:!0,progress:0,quality:"good",version:1};$(me=>[Ee,...me]);const ae=["数据分析中...","生成报告大纲...","AI内容生成中...","图表自动生成...","内容质量检查...","格式化报告...","生成多格式文件..."];for(let me=0;me<ae.length;me++){x(ae[me]),await new Promise(Fe=>setTimeout(Fe,1e3));const De=Math.min((me+1)/ae.length*100,100);N(De),$(Fe=>Fe.map(bs=>bs.id===Ee.id?{...bs,progress:De}:bs))}$(me=>me.map(De=>De.id===Ee.id?{...De,status:z?"reviewing":"completed",size:Math.floor(Math.random()*1e7)+1e6,progress:100,downloadUrls:{pdf:"#",word:"#",html:"#"}}:De)),g(!1),n(""),l(""),c(""),N(0),x("")},q=(Z,pe)=>{w(Ee=>({...Ee,[Z]:pe}))},U=Z=>{if(!Z)return"-";const pe=1024,Ee=["Bytes","KB","MB","GB"],ae=Math.floor(Math.log(Z)/Math.log(pe));return parseFloat((Z/Math.pow(pe,ae)).toFixed(2))+" "+Ee[ae]},G=Z=>Z.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),Y=Z=>{switch(Z){case"excellent":return"text-green-600 bg-green-50";case"good":return"text-blue-600 bg-blue-50";case"fair":return"text-yellow-600 bg-yellow-50";case"poor":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},ne=Z=>{switch(Z){case"excellent":return"优秀";case"good":return"良好";case"fair":return"一般";case"poor":return"较差";default:return"未知"}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(Pe,{}),e.jsx("main",{className:"flex-grow container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Ns,{className:"w-6 h-6 text-blue-600"}),"LLM智能报告生成系统"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"基于大语言模型的智能报告生成，支持自定义模板、可视化图表嵌入和多格式导出"})]}),e.jsxs(Ye,{defaultValue:"generate",className:"space-y-6",children:[e.jsxs(qe,{className:"grid w-full grid-cols-4",children:[e.jsx(J,{value:"generate",children:"AI生成"}),e.jsx(J,{value:"templates",children:"模板管理"}),e.jsx(J,{value:"batch",children:"批量生成"}),e.jsx(J,{value:"history",children:"历史记录"})]}),e.jsx(ee,{value:"generate",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(_i,{className:"w-5 h-5"}),"LLM模型选择"]})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Tm.map(Z=>e.jsxs("div",{className:X("border rounded-lg p-4 cursor-pointer transition-all",s===Z.id?"border-blue-500 bg-blue-50":Z.status==="active"?"border-gray-200 hover:border-gray-300":"border-gray-100 bg-gray-50 cursor-not-allowed opacity-60"),onClick:()=>Z.status==="active"&&t(Z.id),children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:Z.name}),e.jsx(V,{variant:Z.status==="active"?"default":"secondary",children:Z.status==="active"?"可用":"维护中"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Z.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{children:["模型: ",Z.model]}),e.jsxs("span",{children:["最大Token: ",Z.maxTokens.toLocaleString()]}),Z.supportsChinese&&e.jsx(V,{variant:"outline",className:"text-xs",children:"中文"})]})]},Z.id))})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(xy,{className:"w-5 h-5"}),"报告模板选择"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:Rc.map(Z=>e.jsxs("div",{className:X("border rounded-lg p-4 cursor-pointer transition-all",a===Z.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>n(Z.id),children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:Z.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Z.description})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"outline",className:"text-xs",children:Z.category==="academic"?"学术":Z.category==="evaluation"?"评估":Z.category==="analytics"?"分析":"总结"}),e.jsxs(V,{variant:"secondary",className:"text-xs",children:["使用 ",Z.useCount," 次"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(kd,{className:"w-3 h-3"}),Z.structure.length," 个章节"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Dt,{className:"w-3 h-3"}),"AI智能生成"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Cs,{className:"w-3 h-3"}),"包含图表"]})]})]},Z.id))})})]}),a&&e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5"}),"报告配置"]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"报告标题"}),e.jsx(se,{placeholder:"输入报告标题...",value:r,onChange:Z=>l(Z.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"报告描述（可选）"}),e.jsx(Ie,{placeholder:"输入报告描述...",value:i,onChange:Z=>c(Z.target.value),className:"mt-1",rows:3})]}),(ge=Rc.find(Z=>Z.id===a))==null?void 0:ge.variables.map(Z=>e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:Z.name}),Z.type==="select"&&Z.options?e.jsxs(ie,{value:f[Z.id]||"",onValueChange:pe=>q(Z.id,pe),children:[e.jsx(re,{className:"mt-1",children:e.jsx(ce,{placeholder:`选择${Z.name}`})}),e.jsx(le,{children:Z.options.map(pe=>e.jsx(W,{value:pe,children:pe},pe))})]}):e.jsx(se,{placeholder:`输入${Z.name}...`,value:f[Z.id]||"",onChange:pe=>q(Z.id,pe.target.value),className:"mt-1"})]},Z.id)),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"自定义AI提示词（高级）"}),e.jsx(Ie,{placeholder:"输入额外的AI指令，用于定制报告内容和风格...",value:d,onChange:Z=>m(Z.target.value),className:"mt-1",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"输出格式"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(u).map(([Z,pe])=>e.jsxs("div",{className:X("flex items-center gap-2 p-3 border rounded-lg cursor-pointer transition-all",pe?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>h(Ee=>({...Ee,[Z]:!Ee[Z]})),children:[e.jsx(Ae,{checked:pe}),e.jsx("span",{className:"font-medium uppercase",children:Z})]},Z))})]})]})]}),a&&e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsxs(S,{variant:"outline",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"预览模板"]}),e.jsx(S,{onClick:_,disabled:!r||p,className:"min-w-[140px]",children:p?e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4 mr-2 animate-spin"}),"生成中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(K3,{className:"w-4 h-4 mr-2"}),"开始AI生成"]})})]}),p&&e.jsx(R,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:j}),e.jsxs("span",{className:"font-medium",children:[Math.round(b),"%"]})]}),e.jsx(te,{value:b}),e.jsx("div",{className:"text-sm text-gray-600",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ns,{className:"w-4 h-4 animate-pulse text-blue-600"}),"AI正在使用 ",(ke=Tm.find(Z=>Z.id===s))==null?void 0:ke.name," 智能分析数据并生成专业报告内容..."]})})]})})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"text-base flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4"}),"AI参数设置"]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:["创造性 (",P[0],")"]}),e.jsx(is,{value:P,onValueChange:k,max:1,min:0,step:.1,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"保守"}),e.jsx("span",{children:"创新"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:["最大长度 (",C[0],")"]}),e.jsx(is,{value:C,onValueChange:M,max:4e3,min:500,step:100,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"简洁"}),e.jsx("span",{children:"详细"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"内容审核"}),e.jsx(Ae,{checked:z,onCheckedChange:I})]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:"最近生成"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[F.slice(0,3).map(Z=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:Z.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs(V,{variant:"outline",className:X("text-xs",Y(Z.quality)),children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),ne(Z.quality)]}),e.jsxs(V,{variant:"secondary",className:"text-xs",children:["v",Z.version]})]})]}),e.jsx(S,{size:"sm",variant:"ghost",children:e.jsx(Se,{className:"w-3 h-3"})})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[G(Z.generatedAt)," · ",Z.llmProvider]})]},Z.id)),e.jsxs(S,{variant:"link",className:"w-full text-sm",children:["查看全部历史 ",e.jsx(Us,{className:"w-4 h-4 ml-1"})]})]})})]}),e.jsxs(ue,{children:[e.jsx(ra,{className:"h-4 w-4"}),e.jsxs(xe,{className:"text-sm",children:[e.jsx("strong",{children:"AI生成提示"}),e.jsx("br",{}),"选择合适的LLM模型和模板，可以显著提高报告质量。Claude适合长文本分析，GPT-4擅长数据洞察。"]})]})]})]})}),e.jsxs(ee,{value:"templates",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"报告模板管理"}),e.jsxs(S,{children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"创建新模板"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Rc.map(Z=>e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:Z.name}),e.jsx(V,{variant:Z.isSystem?"secondary":"default",children:Z.isSystem?"系统":"自定义"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:Z.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(kd,{className:"w-3 h-3"}),Z.structure.length," 章节"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(He,{className:"w-3 h-3"}),Z.useCount," 次使用"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(Yi,{className:"w-3 h-3 mr-1"}),"编辑"]}),e.jsxs(S,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(Tp,{className:"w-3 h-3 mr-1"}),"复制"]})]})]})},Z.id))})]}),e.jsxs(ee,{value:"batch",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"批量生成任务"}),e.jsxs(S,{children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"新建批量任务"]})]}),e.jsxs("div",{className:"space-y-4",children:[B.map(Z=>e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:Z.templateName}),e.jsx(V,{variant:Z.status==="completed"?"default":Z.status==="running"?"secondary":Z.status==="failed"?"destructive":"outline",children:Z.status==="completed"?"已完成":Z.status==="running"?"运行中":Z.status==="failed"?"失败":"等待中"})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["目标: ",Z.targets.join(", ")]}),e.jsxs("span",{className:"font-medium",children:[Z.completedReports,"/",Z.totalReports]})]}),e.jsx(te,{value:Z.progress})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["创建于 ",G(Z.createdAt)]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{size:"sm",variant:"outline",children:[e.jsx(Le,{className:"w-3 h-3 mr-1"}),"查看"]}),Z.status==="running"&&e.jsxs(S,{size:"sm",variant:"outline",children:[e.jsx(El,{className:"w-3 h-3 mr-1"}),"暂停"]})]})]})]})},Z.id)),B.length===0&&e.jsx(R,{children:e.jsxs(E,{className:"p-12 text-center",children:[e.jsx(Nt,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"暂无批量生成任务"})]})})]})]}),e.jsxs(ee,{value:"history",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold",children:["生成历史 (",F.length,")"]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(ie,{defaultValue:"all",children:[e.jsx(re,{className:"w-40",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"all",children:"全部状态"}),e.jsx(W,{value:"completed",children:"已完成"}),e.jsx(W,{value:"reviewing",children:"审核中"}),e.jsx(W,{value:"failed",children:"失败"})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[F.map(Z=>e.jsx(R,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Ne,{className:"w-6 h-6 text-blue-600"})})}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:Z.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:["模板: ",Z.templateName]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:Z.status==="completed"?"default":Z.status==="reviewing"?"secondary":Z.status==="generating"?"outline":"destructive",children:Z.status==="completed"?"已完成":Z.status==="reviewing"?"审核中":Z.status==="generating"?"生成中":"失败"}),e.jsxs(V,{variant:"outline",className:Y(Z.quality),children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),ne(Z.quality)]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_i,{className:"w-3 h-3"}),Z.llmProvider]}),e.jsx("span",{children:G(Z.generatedAt)}),e.jsxs("span",{children:["格式: ",Z.format.join(", ")]}),Z.size&&e.jsx("span",{children:U(Z.size)}),e.jsxs("span",{children:["v",Z.version]})]}),Z.reviewComments&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(xt,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"font-medium text-yellow-800",children:"审核意见:"})]}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:Z.reviewComments})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[Z.status==="completed"&&e.jsxs(e.Fragment,{children:[e.jsxs(S,{size:"sm",variant:"outline",children:[e.jsx(Le,{className:"w-4 h-4 mr-1"}),"预览"]}),e.jsxs(S,{size:"sm",variant:"outline",children:[e.jsx(Se,{className:"w-4 h-4 mr-1"}),"下载"]})]}),Z.status==="reviewing"&&e.jsxs(e.Fragment,{children:[e.jsxs(S,{size:"sm",variant:"outline",children:[e.jsx(xt,{className:"w-4 h-4 mr-1"}),"审核"]}),e.jsxs(S,{size:"sm",variant:"outline",children:[e.jsx(W3,{className:"w-4 h-4 mr-1"}),"通过"]})]}),e.jsxs(S,{size:"sm",variant:"ghost",children:[e.jsx(Tp,{className:"w-4 h-4 mr-1"}),"复制配置"]}),e.jsx(S,{size:"sm",variant:"ghost",className:"text-red-600",children:e.jsx(ut,{className:"w-4 h-4"})})]})]})]})})},Z.id)),F.length===0&&e.jsx(R,{children:e.jsxs(E,{className:"p-12 text-center",children:[e.jsx(Ot,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"暂无生成历史"})]})})]})]})]})]})}),e.jsx(Te,{})]})}function wl({data:s,type:t="line",height:a=200,width:n=400,showLegend:r=!0,showGrid:l=!0,animate:i=!1}){const{maxValue:c,minValue:d,chartPoints:m}=o.useMemo(()=>{const g=s.datasets.flatMap(x=>x.data),b=Math.max(...g),N=Math.min(...g),j=s.datasets.map(x=>x.data.map((f,w)=>({x:w*n/(s.labels.length-1),y:a-(f-N)/(b-N)*a,value:f})));return{maxValue:b,minValue:N,chartPoints:j}},[s,n,a]),u=()=>l?e.jsxs("g",{className:"grid-lines",children:[[0,.25,.5,.75,1].map((g,b)=>e.jsx("line",{x1:"0",y1:a*g,x2:n,y2:a*g,stroke:"#e5e7eb",strokeWidth:"1",strokeDasharray:"2,2"},`h-${b}`)),s.labels.map((g,b)=>e.jsx("line",{x1:b*n/(s.labels.length-1),y1:"0",x2:b*n/(s.labels.length-1),y2:a,stroke:"#e5e7eb",strokeWidth:"1",strokeDasharray:"2,2"},`v-${b}`))]}):null,h=()=>s.datasets.map((g,b)=>{const N=m[b];return e.jsxs("g",{children:[t==="area"&&e.jsx("path",{d:`M 0,${a} L ${N.map(j=>`${j.x},${j.y}`).join(" L ")} L ${n},${a} Z`,fill:g.backgroundColor||g.color,fillOpacity:"0.3"}),e.jsx("polyline",{fill:"none",stroke:g.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",points:N.map(j=>`${j.x},${j.y}`).join(" "),className:i?"animate-draw-line":""}),N.map((j,x)=>e.jsxs("g",{children:[e.jsx("circle",{cx:j.x,cy:j.y,r:"4",fill:g.color,stroke:"white",strokeWidth:"2",className:"hover:r-6 transition-all cursor-pointer"}),e.jsx("title",{children:`${g.label}: ${j.value}`})]},x))]},b)}),p=()=>{const g=n/s.labels.length*.6,b=g/s.datasets.length;return s.datasets.map((N,j)=>{const x=m[j];return e.jsx("g",{children:x.map((f,w)=>{const D=a-f.y,y=w*n/s.labels.length+j*b+(n/s.labels.length-g)/2;return e.jsxs("g",{children:[e.jsx("rect",{x:y,y:f.y,width:b,height:D,fill:N.color,className:"hover:opacity-80 transition-opacity cursor-pointer"}),e.jsx("title",{children:`${N.label}: ${f.value}`})]},w)})},j)})};return e.jsxs("div",{className:"chart-container",children:[e.jsxs("svg",{width:"100%",height:a,viewBox:`0 0 ${n} ${a}`,className:"border rounded-lg bg-white",children:[u(),t==="bar"?p():h(),l&&e.jsx("g",{className:"axis-labels",children:[0,.25,.5,.75,1].map((g,b)=>{const N=d+(c-d)*(1-g);return e.jsx("text",{x:"-5",y:a*g+5,textAnchor:"end",fontSize:"12",fill:"#666",children:Math.round(N)},b)})})]}),e.jsx("div",{className:"flex justify-between mt-2 text-xs text-gray-600 px-1",children:s.labels.map((g,b)=>e.jsx("span",{className:"text-center",children:g},b))}),r&&e.jsx("div",{className:"flex flex-wrap gap-4 mt-4 justify-center",children:s.datasets.map((g,b)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:g.color}}),e.jsx("span",{className:"text-sm text-gray-700",children:g.label})]},b))}),e.jsx("style",{children:`
        .animate-draw-line {
          stroke-dasharray: 1000;
          stroke-dashoffset: 1000;
          animation: draw 2s ease-in-out forwards;
        }
        
        @keyframes draw {
          to {
            stroke-dashoffset: 0;
          }
        }
      `})]})}const WE=Object.freeze(Object.defineProperty({__proto__:null,SimpleChart:wl,default:wl},Symbol.toStringTag,{value:"Module"}));function Kb({data:s,size:t=200,showLabels:a=!0,showLegend:n=!0,centerText:r,animate:l=!1}){const{segments:i}=o.useMemo(()=>{const c=s.reduce((u,h)=>u+h.value,0);let d=0;return{segments:s.map(u=>{const h=u.value/c*100,p=u.value/c*360,g=d,b=d+p;d+=p;const N=t/2-10,j=t/2,x=t/2,f=j+N*Math.cos((g-90)*Math.PI/180),w=x+N*Math.sin((g-90)*Math.PI/180),D=j+N*Math.cos((b-90)*Math.PI/180),y=x+N*Math.sin((b-90)*Math.PI/180),T=p>180?1:0,v=[`M ${j} ${x}`,`L ${f} ${w}`,`A ${N} ${N} 0 ${T} 1 ${D} ${y}`,"Z"].join(" "),P=(g+b)/2,k=N*.7,C=j+k*Math.cos((P-90)*Math.PI/180),M=x+k*Math.sin((P-90)*Math.PI/180);return{...u,percentage:h,angle:p,startAngle:g,endAngle:b,pathData:v,labelX:C,labelY:M}})}},[s,t]);return e.jsxs("div",{className:"pie-chart-container flex flex-col items-center",children:[e.jsx("div",{className:"relative",children:e.jsxs("svg",{width:t,height:t,className:"drop-shadow-sm",children:[i.map((c,d)=>e.jsxs("g",{children:[e.jsx("path",{d:c.pathData,fill:c.color,stroke:"white",strokeWidth:"2",className:"hover:opacity-80 transition-opacity cursor-pointer",style:{transformOrigin:`${t/2}px ${t/2}px`,animation:l?`pie-grow 0.8s ease-out ${d*.1}s both`:"none"},children:e.jsx("title",{children:`${c.label}: ${c.value} (${c.percentage.toFixed(1)}%)`})}),a&&c.percentage>5&&e.jsxs("text",{x:c.labelX,y:c.labelY,textAnchor:"middle",dominantBaseline:"middle",fontSize:"12",fill:"white",fontWeight:"bold",className:"pointer-events-none",children:[c.percentage.toFixed(0),"%"]})]},d)),r&&e.jsx("text",{x:t/2,y:t/2,textAnchor:"middle",dominantBaseline:"middle",fontSize:"16",fontWeight:"bold",fill:"#374151",children:r})]})}),n&&e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4 max-w-sm",children:i.map((c,d)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:c.color}}),e.jsx("span",{className:"flex-1 truncate",children:c.label}),e.jsxs("span",{className:"font-medium",children:[c.percentage.toFixed(1),"%"]})]},d))}),e.jsx("style",{children:`
        @keyframes pie-grow {
          from {
            transform: scale(0);
          }
          to {
            transform: scale(1);
          }
        }
      `})]})}function Ec({value:s,max:t,min:a=0,size:n=120,thickness:r=12,color:l="#3b82f6",backgroundColor:i="#e5e7eb",label:c,unit:d="",showValue:m=!0,thresholds:u}){const{percentage:h,strokeColor:p,circumference:g}=o.useMemo(()=>{const f=t-a,w=Math.max(a,Math.min(t,s)),D=(w-a)/f*100;let y=l;u&&(w>=u.high.value?y=u.high.color:w>=u.medium.value?y=u.medium.color:y=u.low.color);const T=(n-r)/2,v=2*Math.PI*T;return{percentage:D,strokeColor:y,circumference:v}},[s,t,a,l,u,n,r]),b=(n-r)/2,N=n/2,j=g,x=g-h/100*g;return e.jsxs("div",{className:"gauge-chart flex flex-col items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{width:n,height:n,className:"transform -rotate-90",children:[e.jsx("circle",{cx:N,cy:N,r:b,fill:"none",stroke:i,strokeWidth:r,strokeLinecap:"round"}),e.jsx("circle",{cx:N,cy:N,r:b,fill:"none",stroke:p,strokeWidth:r,strokeLinecap:"round",strokeDasharray:j,strokeDashoffset:x,className:"transition-all duration-1000 ease-out"}),u&&e.jsx("g",{children:Object.entries(u).map(([f,w])=>{const y=(w.value-a)/(t-a)*100/100*360-90,T=b+r/2,v=N+T*Math.cos(y*Math.PI/180),P=N+T*Math.sin(y*Math.PI/180);return e.jsx("circle",{cx:v,cy:P,r:"2",fill:w.color},f)})})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:m&&e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold",style:{color:p},children:[typeof s=="number"?s.toFixed(1):s,d&&e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:d})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[h.toFixed(1),"%"]})]})})]}),c&&e.jsxs("div",{className:"mt-2 text-center",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:c}),e.jsxs("div",{className:"text-xs text-gray-500",children:[a," - ",t," ",d]})]}),u&&e.jsx("div",{className:"flex gap-3 mt-2 text-xs",children:Object.entries(u).map(([f,w])=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:w.color}}),e.jsxs("span",{className:"text-gray-600",children:[f,": ",w.value,d]})]},f))})]})}function yg(){const[s,t]=o.useState(!1),[a,n]=o.useState("24h"),[r,l]=o.useState(!0),[i,c]=o.useState(30),[d,m]=o.useState(new Date),[u,h]=o.useState("overview"),[p,g]=o.useState(!1),[b,N]=o.useState([]),[j,x]=o.useState([]),[f,w]=o.useState("connected"),[D,y]=o.useState({database:"healthy",api:"healthy",cache:"warning",storage:"healthy"}),[T,v]=o.useState({dateRange:"24h",department:"all",dataSource:"all",refreshRate:"30s"}),P=o.useRef(null),k=[{id:"active_users",title:"活跃用户数",value:1247,trend:"up",trendValue:"+12.5%",icon:He,color:"bg-blue-500",unit:"人",target:1200,description:"当前在线活跃用户总数"},{id:"completion_rate",title:"任务完成率",value:89.2,trend:"up",trendValue:"+3.2%",icon:rt,color:"bg-green-500",unit:"%",target:85,description:"今日任务完成率"},{id:"avg_response_time",title:"平均响应时间",value:245,trend:"down",trendValue:"-15ms",icon:zt,color:"bg-yellow-500",unit:"ms",target:300,description:"系统平均响应时间"},{id:"data_processing",title:"数据处理量",value:"2.4TB",trend:"up",trendValue:"+8.7%",icon:Nt,color:"bg-purple-500",description:"今日数据处理总量"},{id:"system_health",title:"系统健康度",value:98.5,trend:"stable",trendValue:"0%",icon:sy,color:"bg-emerald-500",unit:"%",target:95,description:"系统整体健康状况"},{id:"alert_count",title:"预警数量",value:3,trend:"down",trendValue:"-2",icon:Me,color:"bg-red-500",unit:"个",description:"当前未处理预警数量"}],C={labels:["00:00","04:00","08:00","12:00","16:00","20:00"],datasets:[{label:"用户活跃度",data:[320,280,450,890,1100,850],color:"#3b82f6",backgroundColor:"#3b82f620"},{label:"系统负载",data:[45,52,78,85,92,68],color:"#10b981",backgroundColor:"#10b98120"}]},M={labels:["1分钟前","2分钟前","3分钟前","4分钟前","5分钟前"],datasets:[{label:"响应时间(ms)",data:[245,289,234,267,198],color:"#f59e0b"}]},z=[{label:"CPU",value:68,color:"#3b82f6"},{label:"内存",value:45,color:"#10b981"},{label:"磁盘",value:32,color:"#f59e0b"},{label:"网络",value:28,color:"#8b5cf6"}],I=[{id:"1",type:"critical",title:"系统负载异常",message:"CPU使用率超过90%，建议立即处理",timestamp:new Date().toLocaleTimeString(),source:"系统监控",acknowledged:!1},{id:"2",type:"warning",title:"数据同步延迟",message:"数据同步延迟超过5分钟",timestamp:new Date(Date.now()-3e5).toLocaleTimeString(),source:"数据中心",acknowledged:!1},{id:"3",type:"info",title:"定期备份完成",message:"数据库定期备份已成功完成",timestamp:new Date(Date.now()-6e5).toLocaleTimeString(),source:"备份系统",acknowledged:!0}];o.useEffect(()=>{if(!r)return;const U=setInterval(()=>{if(m(new Date),Math.random()<.1&&(w("connecting"),setTimeout(()=>w("connected"),1e3)),Math.random()<.05){const G={id:Date.now().toString(),type:Math.random()<.3?"critical":Math.random()<.6?"warning":"info",title:"系统监控报告",message:`检测到异常活动 - ${new Date().toLocaleTimeString()}`,timestamp:new Date().toLocaleTimeString(),source:"自动监控",acknowledged:!1};x(Y=>[G,...Y.slice(0,9)])}},i*1e3);return()=>clearInterval(U)},[r,i]),o.useEffect(()=>{x(I)},[]);const F=()=>{var U;s?document.exitFullscreen&&document.exitFullscreen():(U=P.current)!=null&&U.requestFullscreen&&P.current.requestFullscreen(),t(!s)},$=U=>{switch(U){case"up":return"↗";case"down":return"↘";default:return"→"}},B=U=>{switch(U){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}},A=U=>{switch(U){case"critical":return"border-red-500 bg-red-50";case"warning":return"border-yellow-500 bg-yellow-50";case"info":return"border-blue-500 bg-blue-50";default:return"border-gray-500 bg-gray-50"}},_=()=>{const U={timestamp:new Date().toISOString(),kpiMetrics:k,alerts:j.filter(ge=>!ge.acknowledged),config:T},G=new Blob([JSON.stringify(U,null,2)],{type:"application/json"}),Y=URL.createObjectURL(G),ne=document.createElement("a");ne.href=Y,ne.download=`dashboard-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),URL.revokeObjectURL(Y)},q=U=>{x(G=>G.map(Y=>Y.id===U?{...Y,acknowledged:!0}:Y))};return e.jsxs("div",{ref:P,className:`min-h-screen bg-gray-50 ${s?"fixed inset-0 z-50":""}`,children:[!s&&e.jsx(Pe,{}),e.jsx("main",{className:`${s?"h-screen overflow-auto":"flex-grow"} container mx-auto py-4 px-4`,children:e.jsxs("div",{className:"max-w-full mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"实时数据可视化仪表盘"}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-gray-600",children:["最后更新: ",d.toLocaleTimeString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[f==="connected"?e.jsx(Td,{className:"w-4 h-4 text-green-600"}):f==="connecting"?e.jsx(cy,{className:"w-4 h-4 text-yellow-600 animate-spin"}):e.jsx(py,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:`font-medium ${f==="connected"?"text-green-600":f==="connecting"?"text-yellow-600":"text-red-600"}`,children:f==="connected"?"已连接":f==="connecting"?"连接中":"断开连接"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"数据源: "}),e.jsx("div",{className:"flex gap-1",children:Object.entries(D).map(([U,G])=>e.jsx("div",{className:`w-2 h-2 rounded-full ${G==="healthy"?"bg-green-500":G==="warning"?"bg-yellow-500":"bg-red-500"}`,title:`${U}: ${G}`},U))})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ie,{value:a,onValueChange:n,children:[e.jsx(re,{className:"w-32",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"1h",children:"最近1小时"}),e.jsx(W,{value:"24h",children:"最近24小时"}),e.jsx(W,{value:"7d",children:"最近7天"}),e.jsx(W,{value:"30d",children:"最近30天"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{checked:r,onCheckedChange:l}),e.jsx("span",{className:"text-sm",children:"自动刷新"})]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>m(new Date),children:[e.jsx(Ke,{className:`w-4 h-4 mr-2 ${r?"animate-spin":""}`}),"刷新"]}),e.jsxs(Ge,{open:p,onOpenChange:g,children:[e.jsx(Ta,{asChild:!0,children:e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"设置"]})}),e.jsxs(Be,{children:[e.jsx(We,{children:e.jsx(Ve,{children:"仪表盘设置"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"刷新频率"}),e.jsxs(ie,{value:i.toString(),onValueChange:U=>c(parseInt(U)),children:[e.jsx(re,{children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"10",children:"10秒"}),e.jsx(W,{value:"30",children:"30秒"}),e.jsx(W,{value:"60",children:"1分钟"}),e.jsx(W,{value:"300",children:"5分钟"})]})]})]})})]})]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:_,children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"导出"]}),e.jsx(S,{variant:"outline",size:"sm",onClick:F,children:s?e.jsx(T3,{className:"w-4 h-4"}):e.jsx(M3,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-6",children:k.map(U=>{const G=U.icon,Y=U.target&&typeof U.value=="number"&&U.value>=U.target;return e.jsx(R,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${U.color}`,children:e.jsx(G,{className:"w-5 h-5 text-white"})}),U.target&&e.jsx(V,{variant:Y?"default":"destructive",children:Y?"达标":"未达标"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:U.title}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:U.value}),U.unit&&e.jsx("span",{className:"text-sm text-gray-500",children:U.unit})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:`text-sm ${B(U.trend)}`,children:[$(U.trend)," ",U.trendValue]}),e.jsx("span",{className:"text-xs text-gray-500",children:"vs 昨日"})]}),U.target&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[e.jsxs("span",{children:["目标: ",U.target,U.unit]}),e.jsxs("span",{children:[typeof U.value=="number"?Math.round(U.value/U.target*100):0,"%"]})]}),e.jsx(te,{value:typeof U.value=="number"?U.value/U.target*100:0,className:"h-2"})]})]})]})},U.id)})}),e.jsxs(Ye,{value:u,onValueChange:h,className:"w-full",children:[e.jsxs(qe,{className:"grid w-full grid-cols-5",children:[e.jsx(J,{value:"overview",children:"概览"}),e.jsx(J,{value:"trends",children:"趋势分析"}),e.jsx(J,{value:"realtime",children:"实时监控"}),e.jsx(J,{value:"alerts",children:"异常预警"}),e.jsx(J,{value:"reports",children:"报告分析"})]}),e.jsx(ee,{value:"overview",className:"space-y-6 mt-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(iy,{className:"w-5 h-5"}),"系统趋势分析"]})}),e.jsx(E,{children:e.jsx(wl,{data:C,type:"area",height:250,animate:!0,showGrid:!0})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(pl,{className:"w-5 h-5"}),"系统状态监控"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:[{name:"API服务",status:"正常",uptime:"99.9%",response:"245ms"},{name:"数据库",status:"正常",uptime:"99.8%",response:"12ms"},{name:"缓存系统",status:"警告",uptime:"98.5%",response:"5ms"},{name:"文件存储",status:"正常",uptime:"99.9%",response:"89ms"}].map((U,G)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${U.status==="正常"?"bg-green-500":U.status==="警告"?"bg-yellow-500":"bg-red-500"}`}),e.jsx("span",{className:"font-medium",children:U.name})]}),e.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[e.jsxs("span",{children:["可用性: ",U.uptime]}),e.jsxs("span",{children:["响应: ",U.response]})]})]},G))})})]})]})}),e.jsx(ee,{value:"trends",className:"space-y-6 mt-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"w-5 h-5"}),"用户活跃度趋势"]})}),e.jsx(E,{children:e.jsx(wl,{data:M,type:"line",height:250,animate:!0})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Rl,{className:"w-5 h-5"}),"资源使用分布"]})}),e.jsx(E,{children:e.jsx("div",{className:"flex justify-center",children:e.jsx(Kb,{data:z,size:200,animate:!0,showLabels:!0,showLegend:!0})})})]})]})}),e.jsxs(ee,{value:"realtime",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(R,{children:e.jsx(E,{className:"p-6 flex justify-center",children:e.jsx(Ec,{value:68,max:100,label:"CPU使用率",unit:"%",color:"#3b82f6",thresholds:{low:{value:50,color:"#10b981"},medium:{value:75,color:"#f59e0b"},high:{value:90,color:"#ef4444"}}})})}),e.jsx(R,{children:e.jsx(E,{className:"p-6 flex justify-center",children:e.jsx(Ec,{value:45,max:100,label:"内存使用率",unit:"%",color:"#10b981",thresholds:{low:{value:60,color:"#10b981"},medium:{value:80,color:"#f59e0b"},high:{value:95,color:"#ef4444"}}})})}),e.jsx(R,{children:e.jsx(E,{className:"p-6 flex justify-center",children:e.jsx(Ec,{value:245,max:500,label:"响应时间",unit:"ms",color:"#f59e0b",thresholds:{low:{value:200,color:"#10b981"},medium:{value:350,color:"#f59e0b"},high:{value:450,color:"#ef4444"}}})})}),e.jsx(R,{children:e.jsx(E,{className:"p-6 flex justify-center",children:e.jsx(Ec,{value:1247,max:2e3,label:"在线用户",unit:"人",color:"#8b5cf6"})})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"w-5 h-5"}),"实时活动流"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Array.from({length:10},(U,G)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsxs("span",{className:"text-sm flex-1",children:["用户 user_",1e3+G," 完成了任务提交"]}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(Date.now()-G*3e4).toLocaleTimeString()})]},G))})})]})]}),e.jsx(ee,{value:"alerts",className:"space-y-6 mt-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ra,{className:"w-5 h-5"}),"异常预警中心"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:j.map(U=>e.jsxs(ue,{className:`${A(U.type)} ${U.acknowledged?"opacity-60":""}`,children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:U.title}),e.jsx(xe,{className:"mt-1",children:U.message}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{children:["来源: ",U.source]}),e.jsxs("span",{children:["时间: ",U.timestamp]})]})]}),!U.acknowledged&&e.jsx(S,{size:"sm",variant:"outline",onClick:()=>q(U.id),children:"确认"})]})})]},U.id))})})]})}),e.jsx(ee,{value:"reports",className:"space-y-6 mt-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{title:"日报",description:"今日系统运行情况总结",icon:Ne,time:"每日 9:00"},{title:"周报",description:"本周数据分析和趋势报告",icon:hs,time:"每周一 9:00"},{title:"月报",description:"月度性能评估和优化建议",icon:Cs,time:"每月1日 9:00"}].map((U,G)=>e.jsx(R,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(U.icon,{className:"w-6 h-6 text-blue-600"}),e.jsx("h3",{className:"font-medium",children:U.title})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:U.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:U.time}),e.jsxs(S,{size:"sm",variant:"outline",children:[e.jsx(Se,{className:"w-4 h-4 mr-1"}),"下载"]})]})]})},G))})})]})]})}),!s&&e.jsx(Te,{})]})}function wg(){const[s,t]=o.useState("model_1"),[a,n]=o.useState("semester"),[r,l]=o.useState(!1),[i,c]=o.useState(new Date),[d,m]=o.useState("student-performance"),u=[{id:"model_1",name:"学生成绩预测模型 v2.1",type:"neural_network",accuracy:87.5,lastTrained:"2024-02-01",status:"active",description:"基于神经网络的学生成绩预测模型，考虑历史成绩、出勤率、作业提交情况等因素"},{id:"model_2",name:"资源需求预测模型 v1.8",type:"random_forest",accuracy:82.3,lastTrained:"2024-01-28",status:"active",description:"随机森林算法预测教室、设备等资源的使用需求"},{id:"model_3",name:"风险评估模型 v1.5",type:"decision_tree",accuracy:79.8,lastTrained:"2024-01-25",status:"training",description:"决策树模型用于识别学术和管理风险"}],h=[{studentId:"ST001",studentName:"张同学",currentGrade:78,predictedGrade:82,riskLevel:"low",confidence:.89,factors:["历史成绩稳定","出勤率高","作业按时提交"],recommendations:["保持当前学习状态","可考虑挑战更高难度课程"]},{studentId:"ST002",studentName:"李同学",currentGrade:65,predictedGrade:58,riskLevel:"high",confidence:.76,factors:["近期成绩下降","缺勤增加","作业提交延迟"],recommendations:["需要导师额外关注","建议参加辅导课程","调整学习计划"]},{studentId:"ST003",studentName:"王同学",currentGrade:72,predictedGrade:74,riskLevel:"medium",confidence:.81,factors:["成绩波动较大","参与度中等"],recommendations:["加强课程参与","定期学习进度检查"]}],p=[{resource:"实验室A",currentUsage:75,predictedUsage:88,trend:"up",timeframe:"下周",demandLevel:"high"},{resource:"多媒体教室",currentUsage:60,predictedUsage:55,trend:"down",timeframe:"下月",demandLevel:"medium"},{resource:"图书馆研讨室",currentUsage:85,predictedUsage:85,trend:"stable",timeframe:"下周",demandLevel:"high"},{resource:"导师资源",currentUsage:92,predictedUsage:95,trend:"up",timeframe:"下月",demandLevel:"critical"}],g=[{category:"academic",riskType:"学生挂科风险",severity:"high",probability:.68,impact:.85,description:"预计有15%的学生存在挂科风险，主要集中在数学和物理课程",mitigation:["提供额外辅导","调整课程难度","增加实践环节"],timeline:"期末考试前"},{category:"management",riskType:"资源冲突风险",severity:"medium",probability:.45,impact:.6,description:"下月实验室使用需求可能超过容量，存在资源调度冲突",mitigation:["优化排课安排","增加设备采购","推行分时使用制"],timeline:"下个月"},{category:"systematic",riskType:"系统性能风险",severity:"low",probability:.25,impact:.4,description:"随着用户数量增长，系统性能可能出现瓶颈",mitigation:["服务器扩容","代码优化","负载均衡"],timeline:"下学期"}],b={labels:["第1周","第2周","第3周","第4周","第5周","第6周"],datasets:[{label:"预测平均分",data:[76,77,79,78,80,82],color:"#3b82f6",backgroundColor:"#3b82f620"},{label:"实际平均分",data:[75,78,77,79,81,0],color:"#10b981",backgroundColor:"#10b98120"}]},N=[{label:"低风险",value:65,color:"#10b981"},{label:"中风险",value:25,color:"#f59e0b"},{label:"高风险",value:10,color:"#ef4444"}],j={labels:["1月","2月","3月","4月","5月","6月"],datasets:[{label:"实验室需求",data:[80,85,92,88,95,90],color:"#8b5cf6"},{label:"教室需求",data:[70,75,82,78,85,80],color:"#06b6d4"}]},x=T=>{switch(T){case"neural_network":return e.jsx(Ns,{className:"w-4 h-4"});case"random_forest":return e.jsx(Nt,{className:"w-4 h-4"});case"decision_tree":return e.jsx(Cs,{className:"w-4 h-4"});default:return e.jsx(XN,{className:"w-4 h-4"})}},f=T=>({neural_network:"神经网络",random_forest:"随机森林",decision_tree:"决策树",linear_regression:"线性回归"})[T]||T,w=T=>{switch(T){case"low":return"text-green-600 bg-green-50";case"medium":return"text-yellow-600 bg-yellow-50";case"high":return"text-red-600 bg-red-50";case"critical":return"text-red-800 bg-red-100";default:return"text-gray-600 bg-gray-50"}},D=T=>{switch(T){case"up":return e.jsx(c3,{className:"w-4 h-4 text-green-600"});case"down":return e.jsx(i3,{className:"w-4 h-4 text-red-600"});default:return e.jsx(dy,{className:"w-4 h-4 text-gray-600"})}},y=()=>{l(!0),setTimeout(()=>{l(!1),c(new Date)},3e3)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Pe,{}),e.jsx("main",{className:"container mx-auto py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"学生表现预测分析"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"基于机器学习的智能预测分析系统，提供学生表现预测、资源需求分析和风险评估"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ie,{value:s,onValueChange:t,children:[e.jsx(re,{className:"w-48",children:e.jsx(ce,{})}),e.jsx(le,{children:u.map(T=>e.jsx(W,{value:T.id,children:T.name},T.id))})]}),e.jsxs(ie,{value:a,onValueChange:n,children:[e.jsx(re,{className:"w-32",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"week",children:"本周"}),e.jsx(W,{value:"month",children:"本月"}),e.jsx(W,{value:"semester",children:"本学期"}),e.jsx(W,{value:"year",children:"本年度"})]})]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:y,disabled:r,children:[r?e.jsx(cy,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(Ke,{className:"w-4 h-4 mr-2"}),r?"训练中":"重新训练"]}),e.jsxs(S,{variant:"outline",size:"sm",children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"导出报告"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:u.map(T=>e.jsx(R,{className:`${s===T.id?"border-blue-500 bg-blue-50":""}`,children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[x(T.type),e.jsx("span",{className:"font-medium text-sm",children:f(T.type)})]}),e.jsx(V,{variant:T.status==="active"?"default":"secondary",children:T.status==="active"?"运行中":T.status==="training"?"训练中":"未激活"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"准确率"}),e.jsxs("span",{className:"font-bold text-lg",children:[T.accuracy,"%"]})]}),e.jsx(te,{value:T.accuracy,className:"h-2"}),e.jsxs("div",{className:"text-xs text-gray-500",children:["最后训练: ",T.lastTrained]})]})]})},T.id))}),e.jsxs(Ye,{value:d,onValueChange:m,className:"w-full",children:[e.jsxs(qe,{className:"grid w-full grid-cols-4",children:[e.jsx(J,{value:"student-performance",children:"学生表现预测"}),e.jsx(J,{value:"resource-demand",children:"资源需求预测"}),e.jsx(J,{value:"risk-assessment",children:"风险评估"}),e.jsx(J,{value:"model-management",children:"模型管理"})]}),e.jsxs(ee,{value:"student-performance",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"w-5 h-5"}),"成绩趋势预测"]})}),e.jsxs(E,{children:[e.jsx(wl,{data:b,type:"area",height:250,animate:!0}),e.jsx("div",{className:"mt-4 text-sm text-gray-600",children:"基于历史数据预测未来6周的平均成绩变化趋势"})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Rl,{className:"w-5 h-5"}),"风险分布"]})}),e.jsxs(E,{children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(Kb,{data:N,size:200,animate:!0,centerText:"100名学生"})}),e.jsx("div",{className:"mt-4 text-sm text-gray-600 text-center",children:"基于预测模型分析的学生风险等级分布"})]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(He,{className:"w-5 h-5"}),"学生个体预测结果"]})}),e.jsx(E,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"学生"}),e.jsx("th",{className:"text-center py-3 px-4",children:"当前成绩"}),e.jsx("th",{className:"text-center py-3 px-4",children:"预测成绩"}),e.jsx("th",{className:"text-center py-3 px-4",children:"风险等级"}),e.jsx("th",{className:"text-center py-3 px-4",children:"置信度"}),e.jsx("th",{className:"text-left py-3 px-4",children:"建议"})]})}),e.jsx("tbody",{children:h.map(T=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:T.studentName}),e.jsx("div",{className:"text-sm text-gray-500",children:T.studentId})]})}),e.jsx("td",{className:"text-center py-3 px-4",children:e.jsx("span",{className:"font-medium",children:T.currentGrade})}),e.jsx("td",{className:"text-center py-3 px-4",children:e.jsxs("span",{className:`font-medium ${T.predictedGrade>T.currentGrade?"text-green-600":T.predictedGrade<T.currentGrade?"text-red-600":"text-gray-600"}`,children:[T.predictedGrade,T.predictedGrade!==T.currentGrade&&e.jsxs("span",{className:"text-xs ml-1",children:["(",T.predictedGrade>T.currentGrade?"+":"",T.predictedGrade-T.currentGrade,")"]})]})}),e.jsx("td",{className:"text-center py-3 px-4",children:e.jsx(V,{className:w(T.riskLevel),children:T.riskLevel==="low"?"低风险":T.riskLevel==="medium"?"中风险":"高风险"})}),e.jsx("td",{className:"text-center py-3 px-4",children:e.jsxs("span",{className:"text-sm",children:[Math.round(T.confidence*100),"%"]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"text-sm",children:T.recommendations.slice(0,2).map((v,P)=>e.jsxs("div",{className:"text-gray-600",children:["• ",v]},P))})})]},T.studentId))})]})})})]})]}),e.jsx(ee,{value:"resource-demand",className:"space-y-6 mt-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"w-5 h-5"}),"资源需求趋势"]})}),e.jsxs(E,{children:[e.jsx(wl,{data:j,type:"line",height:250,animate:!0}),e.jsx("div",{className:"mt-4 text-sm text-gray-600",children:"未来6个月的资源使用需求预测（使用率%）"})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(YN,{className:"w-5 h-5"}),"资源状态监控"]})}),e.jsx(E,{className:"space-y-4",children:p.map((T,v)=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium",children:T.resource}),e.jsxs("div",{className:"flex items-center gap-2",children:[D(T.trend),e.jsx(V,{className:w(T.demandLevel),children:T.demandLevel==="low"?"需求低":T.demandLevel==="medium"?"需求中":T.demandLevel==="high"?"需求高":"需求紧急"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:["当前使用率: ",T.currentUsage,"%"]}),e.jsxs("span",{className:T.predictedUsage>T.currentUsage?"text-red-600":"text-green-600",children:["预测使用率: ",T.predictedUsage,"%"]})]}),e.jsx(te,{value:T.predictedUsage,className:"h-2"}),e.jsxs("div",{className:"text-xs text-gray-500",children:["预测时间: ",T.timeframe]})]})]},v))})]})]})}),e.jsxs(ee,{value:"risk-assessment",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx(R,{children:e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"学术风险"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:"高"})]}),e.jsx(Gi,{className:"w-8 h-8 text-red-600"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"15%学生存在挂科风险"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"管理风险"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:"中"})]}),e.jsx(Je,{className:"w-8 h-8 text-yellow-600"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"资源调度存在冲突风险"})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"系统风险"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"低"})]}),e.jsx(Qs,{className:"w-8 h-8 text-green-600"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"系统运行状态良好"})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-5 h-5"}),"风险详细分析"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:g.map((T,v)=>e.jsxs(ue,{className:w(T.severity),children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:T.riskType}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"outline",children:T.category==="academic"?"学术":T.category==="management"?"管理":"系统"}),e.jsx(V,{className:w(T.severity),children:T.severity==="low"?"低":T.severity==="medium"?"中":T.severity==="high"?"高":"严重"})]})]}),e.jsx(xe,{className:"mb-3",children:T.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"发生概率: "}),e.jsxs("span",{children:[Math.round(T.probability*100),"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"影响程度: "}),e.jsxs("span",{children:[Math.round(T.impact*100),"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"预期时间: "}),e.jsx("span",{children:T.timeline})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"风险等级: "}),e.jsxs("span",{className:T.severity==="low"?"text-green-600":T.severity==="medium"?"text-yellow-600":T.severity==="high"?"text-red-600":"text-red-800",children:[Math.round(T.probability*T.impact*100),"分"]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"font-medium text-sm",children:"缓解措施:"}),e.jsx("ul",{className:"mt-1 text-sm space-y-1",children:T.mitigation.map((P,k)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-400",children:"•"}),e.jsx("span",{children:P})]},k))})]})]})]},v))})})]})]}),e.jsxs(ee,{value:"model-management",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"w-5 h-5"}),"模型性能对比"]})}),e.jsx(E,{className:"space-y-4",children:u.map(T=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[x(T.type),e.jsx("span",{className:"font-medium",children:T.name})]}),e.jsx(V,{variant:T.status==="active"?"default":"secondary",children:T.status==="active"?"运行中":T.status==="training"?"训练中":"未激活"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"准确率"}),e.jsxs("span",{className:"font-medium",children:[T.accuracy,"%"]})]}),e.jsx(te,{value:T.accuracy,className:"h-2"}),e.jsxs("div",{className:"text-xs text-gray-500",children:["算法类型: ",f(T.type)," | 最后训练: ",T.lastTrained]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:T.description})]})]},T.id))})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"w-5 h-5"}),"训练历史"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:[{date:"2024-02-01",accuracy:87.5,status:"success",notes:"增加新特征，性能提升2%"},{date:"2024-01-28",accuracy:85.3,status:"success",notes:"优化超参数"},{date:"2024-01-25",accuracy:83.1,status:"success",notes:"扩增训练数据集"},{date:"2024-01-22",accuracy:79.8,status:"warning",notes:"模型过拟合，需要调整"},{date:"2024-01-19",accuracy:82.4,status:"success",notes:"基线模型建立"}].map((T,v)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${T.status==="success"?"bg-green-500":T.status==="warning"?"bg-yellow-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:T.date}),e.jsx("div",{className:"text-xs text-gray-500",children:T.notes})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:[T.accuracy,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"准确率"})]})]},v))})})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5"}),"模型配置"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"数据分割比例"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"训练集"}),e.jsx("div",{className:"font-medium",children:"70%"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"验证集"}),e.jsx("div",{className:"font-medium",children:"20%"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"测试集"}),e.jsx("div",{className:"font-medium",children:"10%"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"训练参数"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("div",{children:"学习率: 0.001"}),e.jsx("div",{children:"批次大小: 32"}),e.jsx("div",{children:"迭代次数: 100"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"特征工程"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("div",{children:"特征数量: 24"}),e.jsx("div",{children:"数据规范化: MinMax"}),e.jsx("div",{children:"缺失值处理: 均值填充"})]})]})]})})]})]})]})]})}),e.jsx(Te,{})]})}const bg=()=>{const{user:s,logout:t}=rs(),a=Qe();if(!s)return e.jsx(St,{to:"/login",replace:!0});if(s.role!=="student")return e.jsx(St,{to:"/dashboard",replace:!0});const n=[{id:1,title:"提交文献综述",deadline:"今晚 23:59",urgent:!0},{id:2,title:"参加组会",deadline:"14:00-16:00",urgent:!1},{id:3,title:"完成实验报告",deadline:"明天 18:00",urgent:!1}],r=[{name:"实验室轮转",progress:75,color:"bg-blue-500"},{name:"综合评价",progress:40,color:"bg-green-500"},{name:"学术报告",progress:85,color:"bg-purple-500"}],l=[{id:1,title:"下周答辩安排已发布",time:"2小时前",read:!1},{id:2,title:"综合素质材料提交开始",time:"1天前",read:!1},{id:3,title:"导师见面会安排通知",time:"2天前",read:!0}],i=[{title:"提交作业",icon:Ne,color:"bg-blue-500",path:"/learning-report"},{title:"查看成绩",icon:aa,color:"bg-green-500",path:"/grade-inquiry"},{title:"预约导师",icon:Ea,color:"bg-purple-500",path:"/weekly-meeting"},{title:"在线答疑",icon:An,color:"bg-orange-500",path:"/instant-messaging"}],c={competitions:3,completedTasks:12,totalTasks:15,currentRating:"A-"};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Pe,{}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"我的学习中心"}),e.jsxs("p",{className:"text-gray-600",children:[s.name," | 2023级 | 欢迎回到您的学习空间"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>a("/settings"),"data-testid":"settings-button",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"设置"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:t,"data-testid":"logout-button",children:[e.jsx(ul,{className:"w-4 h-4 mr-2"}),"退出"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6","data-testid":"dashboard-grid",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{"data-testid":"todo-section",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5"}),"今日待办"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:n.map(d=>e.jsxs("div",{className:"flex items-start justify-between p-3 bg-gray-50 rounded-lg","data-testid":"todo-item",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:d.title}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["截止: ",d.deadline]})]}),d.urgent&&e.jsx(V,{variant:"destructive",className:"text-xs","data-testid":"urgent-badge",children:"紧急"})]},d.id))})})]}),e.jsxs(R,{"data-testid":"quick-access-section",children:[e.jsx(O,{children:e.jsx(L,{children:"快速入口"})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-2 gap-3",children:i.map((d,m)=>{const u=d.icon;return e.jsxs(S,{variant:"outline",className:"h-16 flex-col gap-2",onClick:()=>d.path&&a(d.path),"data-testid":"quick-access-button",children:[e.jsx("div",{className:`w-6 h-6 ${d.color} rounded flex items-center justify-center`,children:e.jsx(u,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"text-xs",children:d.title})]},m)})})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{"data-testid":"course-progress-section",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Es,{className:"w-5 h-5"}),"课程进度"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:r.map((d,m)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:d.name}),e.jsxs("span",{className:"text-sm text-gray-500",children:[d.progress,"%"]})]}),e.jsx(te,{value:d.progress,className:"h-2","data-testid":"progress-bar"})]},m))})})]}),e.jsxs(R,{"data-testid":"notifications-section",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ra,{className:"w-5 h-5"}),"最新通知"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:l.map(d=>e.jsxs("div",{className:"flex items-start gap-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer","data-testid":"notification-item",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${d.read?"bg-gray-300":"bg-blue-500"}`,"data-testid":d.read?"read-indicator":"unread-indicator"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:d.title}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:d.time})]})]},d.id))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{"data-testid":"achievements-section",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(or,{className:"w-5 h-5"}),"成就统计"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(or,{className:"w-5 h-5 text-yellow-600"}),e.jsx("span",{className:"text-sm font-medium",children:"竞赛获奖"})]}),e.jsxs("span",{className:"text-lg font-bold text-yellow-600",children:[c.competitions,"项"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:"完成任务"})]}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[c.completedTasks,"/",c.totalTasks]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium",children:"当前评级"})]}),e.jsx("span",{className:"text-lg font-bold text-purple-600",children:c.currentRating})]})]})})]}),e.jsxs(R,{"data-testid":"study-statistics",children:[e.jsx(O,{children:e.jsx(L,{children:"学习数据"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"本周学习时长"}),e.jsx("span",{className:"font-medium",children:"28小时"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"本月提交作业"}),e.jsx("span",{className:"font-medium",children:"8份"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"平均成绩"}),e.jsx("span",{className:"font-medium",children:"87.5分"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"出勤率"}),e.jsx("span",{className:"font-medium",children:"96%"})]})]})})]})]})]})]}),e.jsx(Te,{})]})},Sg=()=>{const{user:s,logout:t}=rs(),a=Qe();if(!s)return e.jsx(St,{to:"/login",replace:!0});if(s.role!=="professor")return e.jsx(St,{to:"/dashboard",replace:!0});const n=[{id:1,time:"10:00",title:"组会",type:"meeting",location:"AI实验室"},{id:2,time:"14:00",title:"面试学生",type:"interview",location:"办公室"},{id:3,time:"16:00",title:"答辩评审",type:"defense",location:"会议室A"}],r=[{category:"待评作业",count:8,color:"bg-blue-500",urgent:!1},{category:"申请审批",count:3,color:"bg-yellow-500",urgent:!0},{category:"报告评阅",count:5,color:"bg-green-500",urgent:!1}],l={totalStudents:12,weeklySubmissionRate:85,averageProgress:72},i=[{id:1,name:"王小明",progress:75,lastSubmission:"2小时前",status:"excellent",statusText:"优秀"},{id:2,name:"李小红",progress:82,lastSubmission:"昨天",status:"good",statusText:"良好"},{id:3,name:"张小华",progress:45,lastSubmission:"3天前",status:"warning",statusText:"需关注"},{id:4,name:"陈小军",progress:88,lastSubmission:"4小时前",status:"excellent",statusText:"优秀"},{id:5,name:"刘小丽",progress:69,lastSubmission:"1天前",status:"good",statusText:"良好"}],c=m=>{switch(m){case"excellent":return"bg-green-500";case"good":return"bg-blue-500";case"warning":return"bg-yellow-500";default:return"bg-gray-500"}},d=m=>{switch(m){case"meeting":return He;case"interview":return Xs;case"defense":return Ne;default:return hs}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Pe,{}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"教学管理中心"}),e.jsxs("p",{className:"text-gray-600",children:[s.name," | AI实验室 | 欢迎回到您的教学管理空间"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>a("/settings"),children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"设置"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:t,children:[e.jsx(ul,{className:"w-4 h-4 mr-2"}),"退出"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs(R,{"data-testid":"schedule-section",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5"}),"今日日程"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:n.map(m=>{const u=d(m.type);return e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg","data-testid":"schedule-item",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsx(u,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium text-sm",children:m.time}),e.jsx("span",{className:"text-sm",children:m.title})]}),e.jsx("span",{className:"text-xs text-gray-500",children:m.location})]},m.id)})})})]}),e.jsxs(R,{"data-testid":"pending-tasks-section",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"w-5 h-5"}),"待处理事项"]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:r.map((m,u)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg","data-testid":"pending-task-item",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${m.color}`}),e.jsx("span",{className:"font-medium text-sm",children:m.category}),m.urgent&&e.jsx(Me,{className:"w-4 h-4 text-yellow-500","data-testid":"urgent-indicator"})]}),e.jsxs(V,{variant:"outline",className:"text-sm",children:[m.count,"项"]})]},u))})})]})]}),e.jsxs(R,{"data-testid":"student-management-section",children:[e.jsxs(O,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(He,{className:"w-5 h-5"}),"学生管理概览"]}),e.jsx(ds,{children:e.jsxs("div",{className:"flex gap-6 mt-2",children:[e.jsxs("span",{children:["指导学生: ",e.jsxs("strong",{children:[l.totalStudents,"人"]})]}),e.jsxs("span",{children:["本周提交: ",e.jsxs("strong",{children:[l.weeklySubmissionRate,"%"]})]}),e.jsxs("span",{children:["平均进度: ",e.jsxs("strong",{children:[l.averageProgress,"%"]})]})]})})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"border rounded-lg overflow-hidden mb-4","data-testid":"student-table",children:[e.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b",children:e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm font-medium text-gray-600",children:[e.jsx("span",{children:"学生"}),e.jsx("span",{children:"进度"}),e.jsx("span",{children:"最近提交"}),e.jsx("span",{children:"状态"})]})}),e.jsx("div",{className:"divide-y",children:i.map(m=>e.jsx("div",{className:"px-4 py-3 hover:bg-gray-50","data-testid":"student-row",children:e.jsxs("div",{className:"grid grid-cols-4 gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xs,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium",children:m.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${m.progress}%`},"data-testid":"progress-bar"})}),e.jsxs("span",{className:"text-sm text-gray-600",children:[m.progress,"%"]})]}),e.jsx("span",{className:"text-sm text-gray-600",children:m.lastSubmission}),e.jsxs(V,{className:`${c(m.status)} text-white text-xs`,"data-testid":"status-badge",children:[m.statusText,m.status==="warning"&&e.jsx(Me,{className:"w-3 h-3 ml-1"})]})]})},m.id))})]}),e.jsxs("div",{className:"flex gap-3","data-testid":"batch-operations",children:[e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>a("/batch-scoring"),"data-testid":"batch-grading-button",children:[e.jsx(aa,{className:"w-4 h-4 mr-2"}),"批量评分"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>a("/notification-center"),"data-testid":"send-notification-button",children:[e.jsx(Ra,{className:"w-4 h-4 mr-2"}),"发送通知"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>a("/report-generator"),"data-testid":"export-report-button",children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"导出报告"]})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"快速操作"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4","data-testid":"quick-actions",children:[e.jsxs(S,{variant:"outline",className:"h-24 flex-col gap-2",onClick:()=>a("/task-publishing"),"data-testid":"quick-action-button",children:[e.jsx(Es,{className:"w-6 h-6"}),e.jsx("span",{className:"text-sm",children:"发布任务"})]}),e.jsxs(S,{variant:"outline",className:"h-24 flex-col gap-2",onClick:()=>a("/mentor-screening"),"data-testid":"quick-action-button",children:[e.jsx(He,{className:"w-6 h-6"}),e.jsx("span",{className:"text-sm",children:"学生筛选"})]}),e.jsxs(S,{variant:"outline",className:"h-24 flex-col gap-2",onClick:()=>a("/weekly-meeting"),"data-testid":"quick-action-button",children:[e.jsx(xt,{className:"w-6 h-6"}),e.jsx("span",{className:"text-sm",children:"师生互动"})]}),e.jsxs(S,{variant:"outline",className:"h-24 flex-col gap-2",onClick:()=>a("/data-analysis-center"),"data-testid":"quick-action-button",children:[e.jsx(aa,{className:"w-6 h-6"}),e.jsx("span",{className:"text-sm",children:"数据分析"})]})]})]})]}),e.jsx(Te,{})]})},Cg=()=>{const{user:s,logout:t}=rs(),a=Qe();if(!s)return e.jsx(St,{to:"/login",replace:!0});if(s.role!=="admin")return e.jsx(St,{to:"/dashboard",replace:!0});const n={onlineUsers:156,todayActiveRate:89,coursesInProgress:2,pendingApprovals:23},r={pending:{count:12,tasks:[{id:1,title:"双选匹配",description:"学生导师双向选择",priority:"high"},{id:2,title:"课程审核",description:"新课程申请审核",priority:"medium"},{id:3,title:"成绩录入",description:"期末成绩录入确认",priority:"high"}]},inProgress:{count:5,tasks:[{id:4,title:"成绩录入",description:"批量成绩处理中",priority:"medium"},{id:5,title:"报告生成",description:"月度数据报告",priority:"low"}]},completed:{count:28,tasks:[{id:6,title:"报告生成",description:"学期总结报告",priority:"low"},{id:7,title:"数据备份",description:"系统数据定期备份",priority:"medium"},{id:8,title:"用户管理",description:"新用户账号开通",priority:"low"}]}},l=[{title:"数据导出",description:"导出系统数据报表",icon:Se,color:"bg-blue-500",path:"/batch-import-tool"},{title:"生成报告",description:"生成各类统计报告",icon:Ne,color:"bg-green-500",path:"/report-generator"},{title:"系统设置",description:"配置系统参数",icon:Je,color:"bg-purple-500",path:"/system-settings"},{title:"批量操作",description:"执行批量管理操作",icon:Q3,color:"bg-orange-500",path:"/batch-operations"}],i=d=>{switch(d){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},c=d=>{switch(d){case"high":return"高优先级";case"medium":return"中优先级";case"low":return"低优先级";default:return"普通"}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Pe,{}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"管理控制台"}),e.jsxs("p",{className:"text-gray-600",children:[s.name," | 教务处 | 欢迎回到您的管理控制中心"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>a("/settings"),children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"设置"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:t,children:[e.jsx(ul,{className:"w-4 h-4 mr-2"}),"退出"]})]})]}),e.jsxs(R,{className:"mb-6","data-testid":"system-overview-section",children:[e.jsxs(O,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"w-5 h-5"}),"系统概览"]}),e.jsx(ds,{children:"实时数据"})]}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-lg","data-testid":"online-users-stat",children:[e.jsx(He,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"在线用户"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[n.onlineUsers,"人"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg","data-testid":"active-rate-stat",children:[e.jsx(Ts,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"今日活跃"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[n.todayActiveRate,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-purple-50 rounded-lg","data-testid":"courses-stat",children:[e.jsx(Es,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"课程进行"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[n.coursesInProgress,"门"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-orange-50 rounded-lg","data-testid":"pending-approvals-stat",children:[e.jsx(ze,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"待审核"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[n.pendingApprovals,"项"]})]})]})]})})]}),e.jsxs(R,{className:"mb-6","data-testid":"work-kanban-section",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"w-5 h-5"}),"工作看板"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3","data-testid":"pending-tasks-column",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-medium text-red-600 flex items-center gap-2",children:[e.jsx(Ce,{className:"w-4 h-4"}),"待办"]}),e.jsx(V,{variant:"outline",className:"bg-red-50 text-red-600",children:r.pending.count})]}),e.jsx("div",{className:"space-y-2",children:r.pending.tasks.map(d=>e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg","data-testid":"kanban-task-item",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:d.title}),e.jsx(V,{className:`${i(d.priority)} text-white text-xs`,"data-testid":"task-priority-badge",children:c(d.priority)})]}),e.jsx("p",{className:"text-xs text-gray-600",children:d.description})]},d.id))})]}),e.jsxs("div",{className:"space-y-3","data-testid":"in-progress-tasks-column",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-medium text-blue-600 flex items-center gap-2",children:[e.jsx(xs,{className:"w-4 h-4"}),"进行中"]}),e.jsx(V,{variant:"outline",className:"bg-blue-50 text-blue-600",children:r.inProgress.count})]}),e.jsx("div",{className:"space-y-2",children:r.inProgress.tasks.map(d=>e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg","data-testid":"kanban-task-item",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:d.title}),e.jsx(V,{className:`${i(d.priority)} text-white text-xs`,"data-testid":"task-priority-badge",children:c(d.priority)})]}),e.jsx("p",{className:"text-xs text-gray-600",children:d.description})]},d.id))})]}),e.jsxs("div",{className:"space-y-3","data-testid":"completed-tasks-column",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-medium text-green-600 flex items-center gap-2",children:[e.jsx(fe,{className:"w-4 h-4"}),"已完成"]}),e.jsx(V,{variant:"outline",className:"bg-green-50 text-green-600",children:r.completed.count})]}),e.jsxs("div",{className:"space-y-2",children:[r.completed.tasks.slice(0,3).map(d=>e.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg","data-testid":"kanban-task-item",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:d.title}),e.jsx(V,{className:`${i(d.priority)} text-white text-xs`,"data-testid":"task-priority-badge",children:c(d.priority)})]}),e.jsx("p",{className:"text-xs text-gray-600",children:d.description})]},d.id)),e.jsxs(S,{variant:"ghost",size:"sm",className:"w-full text-xs",children:[e.jsx(Le,{className:"w-3 h-3 mr-1"}),"查看更多 (",r.completed.count-3," 项)"]})]})]})]})})]}),e.jsxs(R,{"data-testid":"quick-actions-section",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(ih,{className:"w-5 h-5"}),"管理操作"]})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4","data-testid":"action-buttons",children:l.map((d,m)=>{const u=d.icon;return e.jsxs(S,{variant:"outline",className:"h-24 flex-col gap-2 hover:shadow-md transition-shadow",onClick:()=>d.path&&a(d.path),"data-testid":"action-button",children:[e.jsx("div",{className:`w-8 h-8 ${d.color} rounded-lg flex items-center justify-center`,children:e.jsx(u,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-sm",children:d.title}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:d.description})]})]},m)})})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs(R,{"data-testid":"recent-activity-section",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"w-5 h-5"}),"最近活动"]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg","data-testid":"activity-item",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"系统数据备份完成"}),e.jsx("p",{className:"text-xs text-gray-500",children:"2分钟前"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg","data-testid":"activity-item",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"月度报告生成完成"}),e.jsx("p",{className:"text-xs text-gray-500",children:"1小时前"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg","data-testid":"activity-item",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"新增用户账号审批"}),e.jsx("p",{className:"text-xs text-gray-500",children:"3小时前"})]})]})]})})]})})]}),e.jsx(Te,{})]})},kg=()=>{const{user:s,logout:t}=rs(),a=Qe();if(!s)return e.jsx(St,{to:"/login",replace:!0});if(s.role!=="admin")return e.jsx(St,{to:"/dashboard",replace:!0});const n=[{title:"学生满意度",value:92,unit:"%",trend:3,trendDirection:"up",color:"bg-green-500",icon:He},{title:"导师参与度",value:87,unit:"%",trend:5,trendDirection:"up",color:"bg-blue-500",icon:Ea},{title:"课程完成率",value:95,unit:"%",trend:2,trendDirection:"up",color:"bg-purple-500",icon:Es},{title:"平均成绩",value:82.5,unit:"分",trend:1.2,trendDirection:"up",color:"bg-orange-500",icon:Gi}],r={title:"成绩分布趋势 (近3年)",data:[{year:"2023",value:78.5,excellent:25,good:45,average:30},{year:"2024",value:81.2,excellent:32,good:48,average:20},{year:"2025",value:82.5,excellent:35,good:50,average:15}]},l=[{title:"项目完成率",value:"94.2%",subtitle:"本学期项目完成情况",trend:"+2.1%"},{title:"导师学生比",value:"1:8.5",subtitle:"师生配比情况",trend:"优化"},{title:"实验室利用率",value:"87.3%",subtitle:"实验室使用效率",trend:"+4.5%"},{title:"发表论文数",value:"156篇",subtitle:"学生发表论文统计",trend:"+12篇"}],i=[{title:"详细报告",description:"查看详细数据报告",icon:Ne,color:"bg-blue-500",path:"/report-generator"},{title:"数据分析",description:"深入数据分析工具",icon:aa,color:"bg-green-500",path:"/data-analysis-center"},{title:"导出PPT",description:"生成演示文稿",icon:Se,color:"bg-purple-500",path:"/export-presentation"},{title:"预测模型",description:"AI预测分析模型",icon:Ns,color:"bg-orange-500",path:"/prediction-models"}],c=(m,u)=>m==="up"?e.jsx(xs,{className:"w-4 h-4 text-green-500"}):e.jsx(xo,{className:"w-4 h-4 text-red-500"}),d=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"relative h-32 bg-gray-50 rounded-lg p-4",children:e.jsx("div",{className:"flex items-end justify-between h-full",children:r.data.map((m,u)=>e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("div",{className:"bg-blue-500 rounded-t-sm min-w-8 transition-all duration-300",style:{height:`${m.value/85*80}px`,minHeight:"20px"},"data-testid":"trend-bar"}),e.jsx("div",{className:"text-xs font-medium",children:m.year}),e.jsx("div",{className:"text-xs text-gray-500",children:m.value})]},m.year))})}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:r.data.map(m=>e.jsx("div",{className:"bg-white p-3 rounded-lg border",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-sm",children:m.year}),e.jsxs("div",{className:"space-y-1 mt-2",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:"优秀:"}),e.jsxs("span",{className:"text-green-600",children:[m.excellent,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:"良好:"}),e.jsxs("span",{className:"text-blue-600",children:[m.good,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:"一般:"}),e.jsxs("span",{className:"text-gray-600",children:[m.average,"%"]})]})]})]})},m.year))})]});return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Pe,{}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"决策支持系统"}),e.jsxs("p",{className:"text-gray-600",children:[s.name," | 管理层 | 欢迎访问执行决策支持中心"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>a("/settings"),children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"设置"]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:t,children:[e.jsx(ul,{className:"w-4 h-4 mr-2"}),"退出"]})]})]}),e.jsxs(R,{className:"mb-6","data-testid":"kpi-section",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"w-5 h-5"}),"关键指标 KPI"]})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:n.map((m,u)=>{const h=m.icon;return e.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm","data-testid":"kpi-item",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:`p-2 ${m.color} rounded-lg`,children:e.jsx(h,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex items-center gap-1","data-testid":"trend-indicator",children:[c(m.trendDirection,m.trend),e.jsxs("span",{className:`text-sm font-medium ${m.trendDirection==="up"?"text-green-600":"text-red-600"}`,children:[m.trendDirection==="up"?"+":"-",m.trend,m.unit==="%"?"%":""]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:[m.value,e.jsx("span",{className:"text-lg text-gray-500",children:m.unit})]}),e.jsx("div",{className:"text-sm text-gray-600",children:m.title})]})]},u)})})})]}),e.jsxs(R,{className:"mb-6","data-testid":"trend-analysis-section",children:[e.jsxs(O,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(iy,{className:"w-5 h-5"}),"趋势分析"]}),e.jsx(ds,{children:r.title})]}),e.jsx(E,{children:d()})]}),e.jsxs(R,{className:"mb-6","data-testid":"additional-metrics-section",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"w-5 h-5"}),"运营指标"]})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map((m,u)=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg","data-testid":"additional-metric-item",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 mb-1",children:m.value}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:m.subtitle}),e.jsx("div",{className:"text-xs text-green-600 font-medium",children:m.trend})]},u))})})]}),e.jsxs(R,{"data-testid":"action-buttons-section",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"w-5 h-5"}),"决策工具"]})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4","data-testid":"decision-tools",children:i.map((m,u)=>{const h=m.icon;return e.jsxs(S,{variant:"outline",className:"h-24 flex-col gap-2 hover:shadow-md transition-shadow",onClick:()=>m.path&&a(m.path),"data-testid":"decision-tool-button",children:[e.jsx("div",{className:`w-8 h-8 ${m.color} rounded-lg flex items-center justify-center`,children:e.jsx(h,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-sm",children:m.title}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:m.description})]})]},u)})})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs(R,{"data-testid":"executive-summary-section",children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Rl,{className:"w-5 h-5"}),"执行总结"]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-lg",children:"关键成就"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2","data-testid":"achievement-item",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"学生满意度创历史新高，达到92%"})]}),e.jsxs("div",{className:"flex items-center gap-2","data-testid":"achievement-item",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"导师参与度显著提升，增长5%"})]}),e.jsxs("div",{className:"flex items-center gap-2","data-testid":"achievement-item",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"课程完成率保持高水平，95%"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-lg",children:"改进建议"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2","data-testid":"suggestion-item",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"进一步优化师生配比，目标1:7"})]}),e.jsxs("div",{className:"flex items-center gap-2","data-testid":"suggestion-item",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"增加实验室资源，提升利用率至90%"})]}),e.jsxs("div",{className:"flex items-center gap-2","data-testid":"suggestion-item",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"加强学术指导，提升论文发表质量"})]})]})]})]})})]})})]}),e.jsx(Te,{})]})},VE=({mentor:s,onApply:t,onViewDetails:a,className:n})=>e.jsxs(R,{className:X("w-full max-w-sm hover:shadow-md transition-shadow",n),children:[e.jsxs(O,{className:"flex flex-row items-center space-y-0 pb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(Vs,{className:"h-12 w-12",children:[e.jsx(tn,{src:s.avatar,alt:s.name}),e.jsx(mt,{children:s.name.slice(0,2)})]}),s.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 h-4 w-4 rounded-full bg-green-500 border-2 border-white"})]}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.lab})]})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((r,l)=>e.jsx(V,{variant:"secondary",className:"text-xs",children:r},l))}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-lg font-semibold text-primary",children:s.availableSlots}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"可带学生"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-lg font-semibold",children:s.currentStudents}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"当前学生"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{className:"flex-1",onClick:()=>t==null?void 0:t(s.id),children:"申请加入"}),e.jsx(S,{variant:"outline",className:"flex-1",onClick:()=>a==null?void 0:a(s.id),children:"查看详情"})]})]})]}),UE=({availableMentors:s,selectedMentors:t,onSelectMentor:a,onRemoveMentor:n,onReorderPriority:r,maxSelections:l=5,className:i})=>{const[c,d]=o.useState(""),[m,u]=o.useState(null),h=s.filter(j=>j.name.toLowerCase().includes(c.toLowerCase())||j.lab.toLowerCase().includes(c.toLowerCase())||j.tags.some(x=>x.toLowerCase().includes(c.toLowerCase()))),p=t.length<l,g=(j,x)=>{u(x),j.dataTransfer.effectAllowed="move"},b=j=>{j.preventDefault(),j.dataTransfer.dropEffect="move"},N=(j,x)=>{j.preventDefault(),m!==null&&m!==x&&(r==null||r(m,x)),u(null)};return e.jsxs("div",{className:X("grid grid-cols-1 lg:grid-cols-3 gap-6",i),children:[e.jsxs(R,{className:"lg:col-span-1",children:[e.jsxs(O,{children:[e.jsx(L,{children:"可选导师"}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(se,{placeholder:"搜索导师...",value:c,onChange:j=>d(j.target.value),className:"pl-10"})]})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:h.map(j=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs(Vs,{className:"h-10 w-10",children:[e.jsx(tn,{src:j.avatar,alt:j.name}),e.jsx(mt,{children:j.name.slice(0,2)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium truncate",children:j.name}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:j.lab}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:j.tags.slice(0,2).map((x,f)=>e.jsx(V,{variant:"outline",className:"text-xs",children:x},f))})]}),e.jsx(S,{size:"sm",variant:"outline",disabled:!p||t.some(x=>x.id===j.id),onClick:()=>a==null?void 0:a(j),children:e.jsx(Us,{className:"h-4 w-4"})})]},j.id))})})]}),e.jsx("div",{className:"lg:col-span-1 flex lg:flex-col items-center justify-center gap-4",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["已选择 ",t.length,"/",l]}),e.jsxs("div",{className:"flex lg:flex-col gap-2",children:[e.jsx(S,{size:"sm",variant:"outline",className:"w-full",children:e.jsx(Us,{className:"h-4 w-4"})}),e.jsx(S,{size:"sm",variant:"outline",className:"w-full",children:e.jsx(br,{className:"h-4 w-4"})})]})]})}),e.jsxs(R,{className:"lg:col-span-1",children:[e.jsxs(O,{children:[e.jsx(L,{children:"我的志愿"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"拖拽调整优先级顺序"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[t.map((j,x)=>e.jsxs("div",{draggable:!0,onDragStart:f=>g(f,x),onDragOver:b,onDrop:f=>N(f,x),className:"flex items-center space-x-3 p-3 border rounded-lg bg-muted/30 hover:bg-muted/50 cursor-move transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ny,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(V,{variant:"default",className:"min-w-[24px] h-6 justify-center",children:x+1})]}),e.jsxs(Vs,{className:"h-8 w-8",children:[e.jsx(tn,{src:j.avatar,alt:j.name}),e.jsx(mt,{className:"text-xs",children:j.name.slice(0,2)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:j.name}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:j.lab})]}),e.jsx(S,{size:"sm",variant:"ghost",onClick:()=>n==null?void 0:n(j.id),className:"h-8 w-8 p-0 hover:bg-destructive hover:text-destructive-foreground",children:e.jsx(Lt,{className:"h-4 w-4"})})]},j.id)),t.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("p",{children:"还未选择任何导师"}),e.jsx("p",{className:"text-sm",children:"请从左侧选择导师"})]})]})})]})]})},qE=[{id:"todo",title:"待开始",status:"todo",color:"bg-gray-100"},{id:"in-progress",title:"进行中",status:"in-progress",color:"bg-blue-100"},{id:"review",title:"待审核",status:"review",color:"bg-yellow-100"},{id:"done",title:"已完成",status:"done",color:"bg-green-100"}],Mg={high:"bg-red-500",medium:"bg-yellow-500",low:"bg-green-500"},HE=({tasks:s,columns:t=qE,onTaskMove:a,onTaskClick:n,onAddTask:r,className:l})=>{const[i,c]=o.useState(null),d=g=>s.filter(b=>b.status===g),m=(g,b)=>{c(b),g.dataTransfer.effectAllowed="move"},u=g=>{g.preventDefault(),g.dataTransfer.dropEffect="move"},h=(g,b)=>{g.preventDefault(),i&&(a==null||a(i,b),c(null))},p=g=>{const b=new Date(g),N=new Date,j=b.getTime()-N.getTime(),x=Math.ceil(j/(1e3*60*60*24));return x<0?`已逾期 ${Math.abs(x)} 天`:x===0?"今天截止":x===1?"明天截止":`${x} 天后截止`};return e.jsx("div",{className:X("flex gap-6 overflow-x-auto pb-4",l),children:t.map(g=>{const b=d(g.status);return e.jsx("div",{className:"flex-shrink-0 w-80",onDragOver:u,onDrop:N=>h(N,g.status),children:e.jsxs(R,{className:"h-full",children:[e.jsxs(O,{className:X("pb-4",g.color),children:[e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsx("span",{children:g.title}),e.jsx(V,{variant:"secondary",className:"ml-2",children:b.length})]}),e.jsxs(S,{variant:"ghost",size:"sm",onClick:()=>r==null?void 0:r(g.status),className:"mt-2 w-full justify-start",children:[e.jsx(as,{className:"h-4 w-4 mr-2"}),"添加任务"]})]}),e.jsxs(E,{className:"space-y-3 max-h-96 overflow-y-auto",children:[b.map(N=>e.jsx(R,{draggable:!0,onDragStart:j=>m(j,N.id),onClick:()=>n==null?void 0:n(N),className:"cursor-pointer hover:shadow-md transition-shadow border-l-4",style:{borderLeftColor:Mg[N.priority]},children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h4",{className:"font-medium text-sm line-clamp-2",children:N.title}),e.jsx("div",{className:X("w-2 h-2 rounded-full flex-shrink-0 ml-2",Mg[N.priority])})]}),N.description&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:N.description}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(hs,{className:"h-3 w-3"}),e.jsx("span",{children:p(N.deadline)})]}),N.tags&&N.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[N.tags.slice(0,2).map((j,x)=>e.jsx(V,{variant:"outline",className:"text-xs",children:j},x)),N.tags.length>2&&e.jsxs(V,{variant:"outline",className:"text-xs",children:["+",N.tags.length-2]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Vs,{className:"h-6 w-6",children:[e.jsx(tn,{src:N.assignee.avatar,alt:N.assignee.name}),e.jsx(mt,{className:"text-xs",children:N.assignee.name.slice(0,2)})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:N.assignee.name})]})})]})})},N.id)),b.length===0&&e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e.jsx("p",{className:"text-sm",children:"暂无任务"})})]})]})},g.id)})})},GE={upcoming:{label:"即将开始",color:"bg-blue-500"},ongoing:{label:"进行中",color:"bg-green-500"},completed:{label:"已完成",color:"bg-gray-500"},cancelled:{label:"已取消",color:"bg-red-500"}},YE={beginner:{label:"初级",color:"bg-green-100 text-green-800"},intermediate:{label:"中级",color:"bg-yellow-100 text-yellow-800"},advanced:{label:"高级",color:"bg-red-100 text-red-800"}},KE=({course:s,variant:t="default",onEnroll:a,onViewDetails:n,className:r})=>{const l=GE[s.status],i=YE[s.level],c=d=>new Date(d).toLocaleDateString("zh-CN",{month:"short",day:"numeric"});return t==="compact"?e.jsx(R,{className:X("hover:shadow-md transition-shadow",r),children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(Vs,{className:"h-12 w-12",children:[e.jsx(tn,{src:s.instructor.avatar,alt:s.instructor.name}),e.jsx(mt,{children:s.instructor.name.slice(0,2)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold truncate",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.instructor.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(V,{variant:"outline",className:i.color,children:i.label}),e.jsx("div",{className:X("w-2 h-2 rounded-full",l.color)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:l.label})]})]}),e.jsx(S,{size:"sm",onClick:()=>n==null?void 0:n(s.id),children:"查看"})]})})}):e.jsxs(R,{className:X("hover:shadow-md transition-shadow",r),children:[e.jsx(O,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(L,{className:"text-lg line-clamp-2",children:s.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs(Vs,{className:"h-6 w-6",children:[e.jsx(tn,{src:s.instructor.avatar,alt:s.instructor.name}),e.jsx(mt,{className:"text-xs",children:s.instructor.name.slice(0,2)})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.instructor.name})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx(V,{variant:"outline",className:i.color,children:i.label}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:X("w-2 h-2 rounded-full",l.color)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:l.label})]})]})]})}),e.jsxs(E,{className:"space-y-4",children:[s.description&&e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:s.description}),s.progress!==void 0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"课程进度"}),e.jsxs("span",{children:[s.progress,"%"]})]}),e.jsx(te,{value:s.progress,className:"h-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hs,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[c(s.startDate)," - ",c(s.endDate)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.duration})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[s.students,s.maxStudents?`/${s.maxStudents}`:""," 人"]})]}),s.rating&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[s.rating.toFixed(1)," 分"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.tags.slice(0,3).map((d,m)=>e.jsx(V,{variant:"secondary",className:"text-xs",children:d},m)),s.tags.length>3&&e.jsxs(V,{variant:"secondary",className:"text-xs",children:["+",s.tags.length-3]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[s.status==="upcoming"&&e.jsxs(S,{className:"flex-1",onClick:()=>a==null?void 0:a(s.id),children:[e.jsx(Es,{className:"h-4 w-4 mr-2"}),"报名参加"]}),s.status==="ongoing"&&s.progress!==void 0&&e.jsx(S,{className:"flex-1",onClick:()=>n==null?void 0:n(s.id),children:"继续学习"}),e.jsx(S,{variant:"outline",className:"flex-1",onClick:()=>n==null?void 0:n(s.id),children:"查看详情"})]})]})]})},QE=({dimensions:s,initialScores:t={},comments:a={},onScoreChange:n,onCommentChange:r,onSubmit:l,readonly:i=!1,showWeights:c=!0,showTotal:d=!0,className:m})=>{const[u,h]=o.useState(t),[p,g]=o.useState(a),[b,N]=o.useState(null),j=(v,P)=>{if(i)return;const k={...u,[v]:P};h(k),n==null||n(v,P)},x=(v,P)=>{if(i)return;const k={...p,[v]:P};g(k),r==null||r(v,P)},f=()=>{let v=0,P=0;return s.forEach(k=>{const M=(u[k.id]||0)/k.maxScore*100;v+=M*k.weight,P+=k.weight}),P>0?v/P:0},w=v=>{const P=u[v.id]||0,k=v.maxScore;return e.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:k},(C,M)=>{const z=M+1,I=(b==null?void 0:b.dimensionId)===v.id&&b.star>=z,F=P>=z,$=P>M&&P<z;return e.jsx("button",{type:"button",disabled:i,className:"focus:outline-none disabled:cursor-default",onMouseEnter:()=>!i&&N({dimensionId:v.id,star:z}),onMouseLeave:()=>!i&&N(null),onClick:()=>j(v.id,z),children:$?e.jsx(V3,{className:X("h-6 w-6",F||I?"fill-yellow-400 text-yellow-400":"text-gray-300")}):e.jsx(Ds,{className:X("h-6 w-6",F||I?"fill-yellow-400 text-yellow-400":"text-gray-300")})},M)}),e.jsxs("span",{className:"ml-2 text-sm text-muted-foreground",children:[P,"/",k]})]})},D=v=>{const P=u[v.id]||0;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"0"}),e.jsx("span",{className:"text-sm font-medium",children:P}),e.jsx("span",{className:"text-sm",children:v.maxScore})]}),e.jsx(is,{value:[P],max:v.maxScore,step:.5,disabled:i,onValueChange:k=>j(v.id,k[0]),className:"w-full"})]})},y=v=>{var k;const P=u[v.id]||0;return e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:(k=v.categories)==null?void 0:k.map(C=>e.jsx(S,{variant:P===C.value?"default":"outline",size:"sm",disabled:i,onClick:()=>j(v.id,C.value),className:"h-auto p-3 text-left justify-start",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:C.label}),e.jsxs("div",{className:"text-xs opacity-70",children:[C.value," 分"]}),C.description&&e.jsx("div",{className:"text-xs opacity-70 mt-1",children:C.description})]})},C.value))})},T=v=>{switch(v.criteriaType){case"star":return w(v);case"slider":return D(v);case"category":return y(v);default:return D(v)}};return e.jsxs("div",{className:X("space-y-6",m),children:[d&&e.jsx(R,{children:e.jsx(O,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"总分"}),e.jsxs(V,{variant:"default",className:"text-lg",children:[f().toFixed(1)," 分"]})]})})}),s.map(v=>e.jsxs(R,{children:[e.jsxs(O,{children:[e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{children:v.name}),c&&e.jsxs(V,{variant:"outline",className:"ml-2",children:["权重 ",v.weight,"%"]})]}),e.jsxs(V,{variant:"secondary",children:[u[v.id]||0,"/",v.maxScore]})]}),v.description&&e.jsx("p",{className:"text-sm text-muted-foreground",children:v.description})]}),e.jsxs(E,{className:"space-y-4",children:[T(v),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"评价意见"}),e.jsx(Ie,{placeholder:"请输入评价意见...",value:p[v.id]||"",onChange:P=>x(v.id,P.target.value),disabled:i,className:"min-h-[80px]"})]})]})]},v.id)),!i&&l&&e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(S,{variant:"outline",children:"保存草稿"}),e.jsx(S,{onClick:()=>l(u,p),children:"提交评分"})]})]})},ba={colors:{primary:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a"},secondary:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a"},success:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d"},warning:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f"},danger:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d"},neutral:{0:"#ffffff",50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",1e3:"#000000"}},typography:{fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"4rem"},fontWeight:{light:"300",normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800"}},spacing:{0:"0",1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",5:"1.25rem",6:"1.5rem",8:"2rem",10:"2.5rem",12:"3rem",16:"4rem",20:"5rem",24:"6rem",32:"8rem",40:"10rem",48:"12rem",56:"14rem",64:"16rem"},breakpoints:{sm:"576px",md:"768px",lg:"992px",xl:"1200px","2xl":"1600px"}},Pg=()=>{const s=[{id:"1",name:"张教授",avatar:"/avatars/zhang.jpg",lab:"人工智能实验室",tags:["深度学习","计算机视觉","机器学习"],availableSlots:"3-5",currentStudents:12,isOnline:!0},{id:"2",name:"李副教授",avatar:"/avatars/li.jpg",lab:"数据挖掘实验室",tags:["数据挖掘","大数据","Python"],availableSlots:"2-4",currentStudents:8,isOnline:!1}],[t,a]=o.useState([]),n=[{id:"1",title:"完成文献调研报告",description:"针对深度学习在图像识别领域的应用进行文献调研",deadline:"2024-03-15",priority:"high",assignee:{id:"1",name:"张三",avatar:"/avatars/student1.jpg"},tags:["文献调研","深度学习"],status:"todo"},{id:"2",title:"数据预处理",description:"清洗和预处理实验数据集",deadline:"2024-03-20",priority:"medium",assignee:{id:"2",name:"李四",avatar:"/avatars/student2.jpg"},tags:["数据处理"],status:"in-progress"},{id:"3",title:"模型训练",description:"训练神经网络模型",deadline:"2024-03-25",priority:"low",assignee:{id:"3",name:"王五",avatar:"/avatars/student3.jpg"},tags:["模型训练","CNN"],status:"done"}],r={id:"1",title:"深度学习理论与实践",description:"本课程将深入讲解深度学习的理论基础，包括神经网络、卷积神经网络、循环神经网络等内容，并通过实际项目让学生掌握深度学习的应用技能。",instructor:{name:"张教授",avatar:"/avatars/zhang.jpg"},progress:65,duration:"16周",students:24,maxStudents:30,startDate:"2024-02-20",endDate:"2024-06-15",rating:4.8,tags:["深度学习","神经网络","计算机视觉"],status:"ongoing",level:"advanced"},l=[{id:"innovation",name:"创新性",description:"研究内容的创新程度和独创性",maxScore:100,weight:30,criteriaType:"slider"},{id:"technical",name:"技术质量",description:"技术方案的可行性和实现质量",maxScore:5,weight:25,criteriaType:"star"},{id:"presentation",name:"答辩表现",description:"答辩过程中的表达能力和回答质量",maxScore:100,weight:20,criteriaType:"category",categories:[{value:90,label:"优秀",description:"表达清晰，回答准确"},{value:80,label:"良好",description:"表达较好，基本准确"},{value:70,label:"及格",description:"表达一般，部分准确"},{value:60,label:"待改进",description:"表达不清，回答有误"}]}];return e.jsxs("div",{className:"container mx-auto py-8 space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-4xl font-bold",children:"设计系统组件库"}),e.jsx("p",{className:"text-muted-foreground",children:"Research Platform Design System - 基于 Shadcn UI 的业务组件库"})]}),e.jsxs(Ye,{defaultValue:"colors",className:"space-y-6",children:[e.jsxs(qe,{className:"grid w-full grid-cols-7",children:[e.jsx(J,{value:"colors",children:"色彩系统"}),e.jsx(J,{value:"typography",children:"字体系统"}),e.jsx(J,{value:"spacing",children:"间距系统"}),e.jsx(J,{value:"components",children:"基础组件"}),e.jsx(J,{value:"premium",children:"高级组件"}),e.jsx(J,{value:"business",children:"业务组件"}),e.jsx(J,{value:"patterns",children:"交互模式"})]}),e.jsx(ee,{value:"colors",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"主色调系统"})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-10 gap-2",children:Object.entries(ba.colors.primary).map(([i,c])=>e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"h-16 w-full rounded-lg border",style:{backgroundColor:c}}),e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"font-medium",children:i}),e.jsx("div",{className:"text-muted-foreground",children:c})]})]},i))})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"语义化色彩"})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-4 gap-4",children:["success","warning","danger"].map(i=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium capitalize",children:i}),e.jsx("div",{className:"grid grid-cols-5 gap-1",children:Object.entries(ba.colors[i]).slice(0,5).map(([c,d])=>e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-12 w-full rounded border",style:{backgroundColor:d}}),e.jsx("div",{className:"text-xs text-center",children:c})]},c))})]},i))})})]})]})}),e.jsx(ee,{value:"typography",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"字体系统"})}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"字体大小"}),e.jsx("div",{className:"space-y-4",children:Object.entries(ba.typography.fontSize).map(([i,c])=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 text-sm text-muted-foreground",children:i}),e.jsx("div",{className:"w-20 text-sm text-muted-foreground",children:c}),e.jsx("div",{style:{fontSize:c},children:"快速的棕色狐狸跳过懒惰的狗"})]},i))})]}),e.jsx(Gs,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"字重系统"}),e.jsx("div",{className:"space-y-2",children:Object.entries(ba.typography.fontWeight).map(([i,c])=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 text-sm text-muted-foreground",children:i}),e.jsx("div",{className:"w-16 text-sm text-muted-foreground",children:c}),e.jsx("div",{style:{fontWeight:c},children:"字体重量示例文本"})]},i))})]})]})]})}),e.jsx(ee,{value:"spacing",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"间距系统"})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-6 gap-4",children:Object.entries(ba.spacing).slice(1,13).map(([i,c])=>e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"text-sm font-medium",children:i}),e.jsx("div",{className:"text-xs text-muted-foreground",children:c}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"bg-primary",style:{width:c,height:c}})})]},i))})})]})}),e.jsx(ee,{value:"components",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"按钮组件"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-3",children:"基础按钮"}),e.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[e.jsx(S,{children:"Primary"}),e.jsx(S,{variant:"secondary",children:"Secondary"}),e.jsx(S,{variant:"outline",children:"Outline"}),e.jsx(S,{variant:"ghost",children:"Ghost"}),e.jsx(S,{variant:"destructive",children:"Destructive"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-3",children:"高级按钮"}),e.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[e.jsx(S,{variant:"premium",children:"Premium"}),e.jsx(S,{variant:"glass",children:"Glass"}),e.jsx(S,{variant:"gradient",children:"Gradient"}),e.jsx(S,{variant:"glow",children:"Glow"}),e.jsx(S,{variant:"neumorphic",children:"Neumorphic"}),e.jsx(S,{variant:"aurora",children:"Aurora"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-3",children:"尺寸变化"}),e.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[e.jsx(S,{size:"sm",children:"Small"}),e.jsx(S,{size:"default",children:"Default"}),e.jsx(S,{size:"lg",children:"Large"}),e.jsx(S,{size:"xl",children:"Extra Large"})]})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"卡片组件"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(R,{variant:"default",children:e.jsx(E,{className:"p-4",children:e.jsx("p",{className:"text-sm",children:"默认卡片"})})}),e.jsx(R,{variant:"premium",children:e.jsx(E,{className:"p-4",children:e.jsx("p",{className:"text-sm",children:"高级卡片"})})}),e.jsx(R,{variant:"glass",children:e.jsx(E,{className:"p-4",children:e.jsx("p",{className:"text-sm",children:"玻璃卡片"})})}),e.jsx(R,{variant:"neumorphic",children:e.jsx(E,{className:"p-4",children:e.jsx("p",{className:"text-sm",children:"新拟态卡片"})})}),e.jsx(R,{variant:"elevated",children:e.jsx(E,{className:"p-4",children:e.jsx("p",{className:"text-sm",children:"浮起卡片"})})}),e.jsx(R,{variant:"bordered",children:e.jsx(E,{className:"p-4",children:e.jsx("p",{className:"text-sm",children:"边框卡片"})})})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"标签组件"})}),e.jsx(E,{children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(V,{children:"Default"}),e.jsx(V,{variant:"secondary",children:"Secondary"}),e.jsx(V,{variant:"outline",children:"Outline"}),e.jsx(V,{variant:"destructive",children:"Destructive"})]})})]})]})}),e.jsx(ee,{value:"premium",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"高级动画效果"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium",children:"呼吸效果"}),e.jsx("div",{className:"h-20 w-20 bg-primary rounded-lg animate-breathe mx-auto"}),e.jsx("code",{className:"text-xs bg-muted p-1 rounded",children:"animate-breathe"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium",children:"摇摆效果"}),e.jsx(S,{className:"animate-wiggle mx-auto",onClick:i=>{i.currentTarget.classList.remove("animate-wiggle"),setTimeout(()=>i.currentTarget.classList.add("animate-wiggle"),10)},children:"点击摇摆"}),e.jsx("code",{className:"text-xs bg-muted p-1 rounded block",children:"animate-wiggle"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium",children:"上滑淡入"}),e.jsx(R,{variant:"premium",className:"animate-slide-up-fade",children:e.jsx(E,{className:"p-4",children:e.jsx("p",{className:"text-sm",children:"滑入卡片"})})}),e.jsx("code",{className:"text-xs bg-muted p-1 rounded",children:"animate-slide-up-fade"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium",children:"缩放弹入"}),e.jsx("div",{className:"h-16 w-16 bg-gradient-primary rounded-lg animate-bounce-scale mx-auto"}),e.jsx("code",{className:"text-xs bg-muted p-1 rounded",children:"animate-bounce-scale"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium",children:"旋转发光"}),e.jsx("div",{className:"h-16 w-16 bg-secondary-accent rounded-lg animate-rotate-glow mx-auto"}),e.jsx("code",{className:"text-xs bg-muted p-1 rounded",children:"animate-rotate-glow"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium",children:"渐变流动"}),e.jsx("div",{className:"h-16 w-full gradient-primary animate-gradient-shift rounded-lg"}),e.jsx("code",{className:"text-xs bg-muted p-1 rounded",children:"animate-gradient-shift"})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"高级交互效果"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium",children:"悬浮抬升"}),e.jsx(R,{className:"hover-lift cursor-pointer",children:e.jsx(E,{className:"p-4",children:e.jsx("p",{className:"text-sm",children:"悬浮我"})})}),e.jsx("code",{className:"text-xs bg-muted p-1 rounded",children:"hover-lift"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium",children:"悬浮发光"}),e.jsx("div",{className:"h-16 w-16 bg-primary rounded-lg hover-glow-primary cursor-pointer mx-auto"}),e.jsx("code",{className:"text-xs bg-muted p-1 rounded",children:"hover-glow-primary"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium",children:"磁性悬浮"}),e.jsx(V,{className:"magnetic-hover cursor-pointer",children:"磁性标签"}),e.jsx("code",{className:"text-xs bg-muted p-1 rounded",children:"magnetic-hover"})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"玻璃态与新拟态效果"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"玻璃态效果"}),e.jsx("div",{className:"p-6 gradient-mesh rounded-xl min-h-[200px] relative",children:e.jsx(R,{variant:"glass",className:"absolute inset-4",children:e.jsxs(E,{className:"p-4 text-white",children:[e.jsx("h5",{className:"font-medium mb-2",children:"玻璃卡片"}),e.jsx("p",{className:"text-sm",children:"背景模糊，透明效果"}),e.jsx(S,{variant:"glass",className:"mt-3",children:"玻璃按钮"})]})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"新拟态效果"}),e.jsx("div",{className:"p-6 bg-background rounded-xl",children:e.jsx(R,{variant:"neumorphic",className:"mb-4",children:e.jsxs(E,{className:"p-4",children:[e.jsx("h5",{className:"font-medium mb-2",children:"新拟态卡片"}),e.jsx("p",{className:"text-sm",children:"内嵌外凸的立体效果"}),e.jsx(S,{variant:"neumorphic",className:"mt-3",children:"新拟态按钮"})]})})})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"加载状态动画"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium",children:"加载点"}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"loading-dots",children:"加载中"})}),e.jsx("code",{className:"text-xs bg-muted p-1 rounded",children:"loading-dots"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium",children:"加载条"}),e.jsxs("div",{className:"loading-bars justify-center",children:[e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{}),e.jsx("div",{})]}),e.jsx("code",{className:"text-xs bg-muted p-1 rounded",children:"loading-bars"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium",children:"闪烁效果"}),e.jsx("div",{className:"h-4 bg-muted rounded loading-shimmer"}),e.jsx("code",{className:"text-xs bg-muted p-1 rounded",children:"loading-shimmer"})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"状态指示器"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex gap-3 flex-wrap",children:[e.jsxs("div",{className:"status-indicator success",children:[e.jsx("div",{className:"w-2 h-2 bg-success rounded-full"}),"成功状态"]}),e.jsxs("div",{className:"status-indicator warning",children:[e.jsx("div",{className:"w-2 h-2 bg-warning rounded-full"}),"警告状态"]}),e.jsxs("div",{className:"status-indicator error",children:[e.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full"}),"错误状态"]}),e.jsxs("div",{className:"status-indicator info",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),"信息状态"]})]})})})]})]})}),e.jsx(ee,{value:"business",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"导师卡片组件"})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(i=>e.jsx(VE,{mentor:i},i.id))})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"课程卡片组件"})}),e.jsx(E,{children:e.jsx("div",{className:"max-w-md",children:e.jsx(KE,{course:r})})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"双选匹配器"})}),e.jsx(E,{children:e.jsx(UE,{availableMentors:s,selectedMentors:t,onSelectMentor:i=>{t.length<5&&!t.find(c=>c.id===i.id)&&a([...t,i])},onRemoveMentor:i=>{a(t.filter(c=>c.id!==i))}})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"任务看板"})}),e.jsx(E,{children:e.jsx(HE,{tasks:n})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"评分组件"})}),e.jsx(E,{children:e.jsx(QE,{dimensions:l,showTotal:!0,showWeights:!0})})]})]})}),e.jsx(ee,{value:"patterns",children:e.jsx("div",{className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"交互模式演示"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"悬停效果"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(R,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:e.jsx(E,{className:"p-4 text-center",children:e.jsx("p",{children:"卡片悬停"})})}),e.jsx(S,{className:"hover:scale-105 transition-transform",children:"按钮悬停"}),e.jsx(V,{className:"hover:bg-primary/80 transition-colors cursor-pointer",children:"标签悬停"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"加载状态"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(S,{disabled:!0,children:"Loading..."}),e.jsx("div",{className:"animate-pulse bg-muted h-4 w-32 rounded"}),e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-primary border-t-transparent rounded-full"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"状态反馈"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-green-800",children:"操作成功！数据已保存。"})}),e.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsx("p",{className:"text-yellow-800",children:"警告：请检查输入内容。"})}),e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-800",children:"错误：操作失败，请重试。"})})]})]})]})})]})})})]})]})},lr=({size:s="md",className:t})=>{const a={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};return e.jsx("div",{className:X("animate-spin rounded-full border-2 border-current border-t-transparent",a[s],t),role:"status","aria-label":"Loading",children:e.jsx("span",{className:"sr-only",children:"Loading..."})})},Ro=({className:s,lines:t=1})=>e.jsx("div",{className:X("space-y-2",s),children:Array.from({length:t},(a,n)=>e.jsx("div",{className:"animate-pulse bg-muted rounded h-4 w-full",style:{width:n===t-1?`${60+Math.random()*40}%`:"100%"}},n))}),XE=({loading:s=!1,children:t,loadingText:a="Loading...",className:n,disabled:r,onClick:l})=>e.jsxs("button",{className:X("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","bg-primary text-primary-foreground hover:bg-primary/90","h-10 px-4 py-2",n),disabled:r||s,onClick:l,children:[s&&e.jsx(lr,{size:"sm",className:"mr-2"}),s?a:t]}),ZE=({steps:s,currentStep:t,className:a})=>e.jsx("div",{className:X("flex items-center space-x-4",a),children:s.map((n,r)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:X("flex h-8 w-8 items-center justify-center rounded-full text-sm font-medium",r<t?"bg-primary text-primary-foreground":r===t?"bg-primary/20 text-primary border-2 border-primary":"bg-muted text-muted-foreground"),children:r<t?"✓":r+1}),r<s.length-1&&e.jsx("div",{className:X("h-0.5 w-12 mx-2",r<t?"bg-primary":"bg-muted")})]},n))}),JE={success:fe,error:Ks,warning:Me,info:En},eA={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},Qb={success:"text-green-600",error:"text-red-600",warning:"text-yellow-600",info:"text-blue-600"},Ac=({type:s,title:t,message:a,dismissible:n=!0,onDismiss:r,action:l,className:i})=>{const c=JE[s];return e.jsxs("div",{className:X("relative flex items-start space-x-3 rounded-lg border p-4",eA[s],i),role:"alert",children:[e.jsx(c,{className:X("h-5 w-5 flex-shrink-0 mt-0.5",Qb[s])}),e.jsxs("div",{className:"flex-1 min-w-0",children:[t&&e.jsx("h4",{className:"text-sm font-medium mb-1",children:t}),e.jsx("p",{className:"text-sm",children:a}),l&&e.jsx(S,{variant:"outline",size:"sm",onClick:l.onClick,className:"mt-2",children:l.label})]}),n&&r&&e.jsx(S,{variant:"ghost",size:"sm",onClick:r,className:"h-6 w-6 p-0 hover:bg-transparent",children:e.jsx(Lt,{className:"h-4 w-4"})})]})},sA=({icon:s,title:t,description:a,action:n,className:r})=>e.jsxs("div",{className:X("text-center py-12",r),children:[s&&e.jsx("div",{className:"mx-auto h-12 w-12 text-muted-foreground mb-4",children:s}),e.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:t}),a&&e.jsx("p",{className:"text-sm text-muted-foreground mb-4 max-w-sm mx-auto",children:a}),n&&e.jsx(S,{onClick:n.onClick,children:n.label})]}),tA=({open:s,onOpenChange:t,title:a,description:n,confirmText:r="确认",cancelText:l="取消",onConfirm:i,onCancel:c,variant:d="default"})=>{const m=()=>{i(),t(!1)},u=()=>{c==null||c(),t(!1)};return s?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm",onClick:()=>t(!1)}),e.jsx(R,{className:"w-full max-w-md mx-4 relative",children:e.jsxs(E,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:a}),n&&e.jsx("p",{className:"text-sm text-muted-foreground",children:n})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(S,{variant:"outline",onClick:u,children:l}),e.jsx(S,{variant:d==="destructive"?"destructive":"default",onClick:m,children:r})]})]})})]}):null},aA=({notifications:s,onMarkAsRead:t,onClearAll:a,className:n})=>{const r=s.filter(l=>!l.read).length;return e.jsxs(R,{className:X("w-80",n),children:[e.jsxs("div",{className:"p-4 border-b",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"通知"}),r>0&&e.jsx(V,{variant:"default",children:r})]}),s.length>0&&e.jsx(S,{variant:"ghost",size:"sm",onClick:a,className:"mt-2 h-6 px-2 text-xs",children:"清空所有"})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.length===0?e.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"暂无通知"}):s.map(l=>e.jsx("div",{className:X("p-4 border-b last:border-b-0 hover:bg-muted/50 cursor-pointer",!l.read&&"bg-muted/30"),onClick:()=>t==null?void 0:t(l.id),children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:X("h-2 w-2 rounded-full mt-2 flex-shrink-0",l.read?"bg-muted":Qb[l.type].replace("text-","bg-"))}),e.jsxs("div",{className:"flex-1 min-w-0",children:[l.title&&e.jsx("p",{className:"text-sm font-medium mb-1",children:l.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.message}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:l.timestamp.toLocaleString("zh-CN")})]})]})},l.id))})]})},nA=({onDrop:s,accept:t,multiple:a=!1,disabled:n=!1,className:r,children:l})=>{const[i,c]=o.useState(!1),d=o.useRef(null),m=N=>{N.preventDefault(),N.stopPropagation(),n||c(!0)},u=N=>{N.preventDefault(),N.stopPropagation(),c(!1)},h=N=>{N.preventDefault(),N.stopPropagation()},p=N=>{if(N.preventDefault(),N.stopPropagation(),c(!1),n)return;const j=Array.from(N.dataTransfer.files);j.length>0&&s(j)},g=N=>{const j=Array.from(N.target.files||[]);j.length>0&&s(j)},b=()=>{var N;n||(N=d.current)==null||N.click()};return e.jsxs("div",{className:X("relative border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer",i?"border-primary bg-primary/10":"border-muted-foreground/25 hover:border-primary/50",n&&"opacity-50 cursor-not-allowed",r),onDragEnter:m,onDragLeave:u,onDragOver:h,onDrop:p,onClick:b,children:[e.jsx("input",{ref:d,type:"file",accept:t,multiple:a,onChange:g,className:"hidden",disabled:n}),l||e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-lg",children:"📁"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"拖拽文件到此处或点击选择文件"})]})]})},Tg=({trigger:s,content:t,side:a="bottom",align:n="center",delayDuration:r=300,className:l})=>{const[i,c]=o.useState(!1),d=o.useRef(),m=()=>{clearTimeout(d.current),d.current=setTimeout(()=>{c(!0)},r)},u=()=>{clearTimeout(d.current),c(!1)};return o.useEffect(()=>()=>{clearTimeout(d.current)},[]),e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{onMouseEnter:m,onMouseLeave:u,children:s}),i&&e.jsx("div",{className:X("absolute z-50 min-w-[200px] p-3 bg-popover border rounded-md shadow-md",a==="top"&&"bottom-full mb-2",a==="bottom"&&"top-full mt-2",a==="left"&&"right-full mr-2",a==="right"&&"left-full ml-2",n==="start"&&(a==="top"||a==="bottom")&&"left-0",n==="end"&&(a==="top"||a==="bottom")&&"right-0",n==="center"&&(a==="top"||a==="bottom")&&"left-1/2 -translate-x-1/2",n==="start"&&(a==="left"||a==="right")&&"top-0",n==="end"&&(a==="left"||a==="right")&&"bottom-0",n==="center"&&(a==="left"||a==="right")&&"top-1/2 -translate-y-1/2",l),onMouseEnter:m,onMouseLeave:u,children:t})]})},rA=({children:s,onClickAway:t,disabled:a=!1})=>{const n=o.useRef(null);return o.useEffect(()=>{if(a)return;const r=l=>{n.current&&!n.current.contains(l.target)&&t()};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[t,a]),e.jsx("div",{ref:n,children:s})},lA=({value:s,onSave:t,delay:a=1e3,children:n})=>{const[r,l]=o.useState(s),[i,c]=o.useState(!1),[d,m]=o.useState(!1),u=o.useRef();return o.useEffect(()=>(r!==s&&(m(!1),clearTimeout(u.current),u.current=setTimeout(async()=>{c(!0);try{await t(r),m(!0),setTimeout(()=>m(!1),2e3)}catch(h){console.error("Auto-save failed:",h)}finally{c(!1)}},a)),()=>{clearTimeout(u.current)}),[r,s,t,a]),e.jsx(e.Fragment,{children:n({value:r,onChange:l,saving:i,saved:d})})},iA=({combination:s,onTrigger:t,children:a,disabled:n=!1})=>{const[r,l]=o.useState(new Set);return o.useEffect(()=>{if(n)return;const i=d=>{const m=d.key.toLowerCase(),u=new Set(r);u.add(m),l(u);const h=new Set(s.map(g=>g.toLowerCase()));Array.from(h).every(g=>u.has(g)||g==="ctrl"&&d.ctrlKey||g==="alt"&&d.altKey||g==="shift"&&d.shiftKey||g==="meta"&&d.metaKey)&&(d.preventDefault(),t())},c=d=>{const m=d.key.toLowerCase(),u=new Set(r);u.delete(m),l(u)};return document.addEventListener("keydown",i),document.addEventListener("keyup",c),()=>{document.removeEventListener("keydown",i),document.removeEventListener("keyup",c)}},[s,t,r,n]),e.jsx(e.Fragment,{children:a})},cA=({children:s,active:t=!0})=>{const a=o.useRef(null);return o.useEffect(()=>{if(!t)return;const n=a.current;if(!n)return;const r=n.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),l=r[0],i=r[r.length-1],c=d=>{d.key==="Tab"&&(d.shiftKey?document.activeElement===l&&(d.preventDefault(),i==null||i.focus()):document.activeElement===i&&(d.preventDefault(),l==null||l.focus()))};return n.addEventListener("keydown",c),l==null||l.focus(),()=>{n.removeEventListener("keydown",c)}},[t]),e.jsx("div",{ref:a,children:s})};function dA(){const[s,t]=o.useState([]),a=o.useCallback(l=>{const i=Math.random().toString(36).substring(2,11),c={id:i,open:!0,duration:5e3,...l};return t(d=>[...d,c]),setTimeout(()=>{t(d=>d.filter(m=>m.id!==i))},c.duration),{id:i,dismiss:()=>{t(d=>d.filter(m=>m.id!==i))}}},[]),n=o.useCallback(l=>{t(i=>i.filter(c=>c.id!==l))},[]),r=o.useCallback(()=>{t([])},[]);return{toasts:s,toast:a,dismiss:n,dismissAll:r}}const Dg=()=>{const[s,t]=o.useState(!1),[a,n]=o.useState(!1),[r,l]=o.useState([{id:"1",type:"success",title:"保存成功",message:"您的更改已成功保存",timestamp:new Date,read:!1},{id:"2",type:"warning",message:"系统将在 5 分钟后进行维护",timestamp:new Date(Date.now()-3e5),read:!1},{id:"3",type:"info",message:"新功能上线：支持批量导入数据",timestamp:new Date(Date.now()-6e5),read:!0}]),[i,c]=o.useState(1),[d,m]=o.useState(""),[u,h]=o.useState(!1),[p,g]=o.useState(!1),{toast:b}=dA(),N=async()=>{t(!0),await new Promise(D=>setTimeout(D,2e3)),t(!1),b({title:"操作完成",description:"数据已成功处理",variant:"success"})},j=D=>{b({title:"文件上传",description:`已选择 ${D.length} 个文件`,variant:"success"})},x=async D=>{await new Promise(y=>setTimeout(y,500)),console.log("Auto-saved:",D)},f=()=>{b({title:"快捷键触发",description:"您按下了 Ctrl+S",variant:"info"})},w=["基本信息","详细配置","确认提交","完成"];return e.jsxs("div",{className:"container mx-auto py-8 space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-4xl font-bold",children:"交互设计模式演示"}),e.jsx("p",{className:"text-muted-foreground",children:"展示平台中的各种交互模式和反馈机制"})]}),e.jsxs(Ye,{defaultValue:"feedback",className:"space-y-6",children:[e.jsxs(qe,{className:"grid w-full grid-cols-5",children:[e.jsx(J,{value:"feedback",children:"即时反馈"}),e.jsx(J,{value:"loading",children:"加载状态"}),e.jsx(J,{value:"interactions",children:"交互操作"}),e.jsx(J,{value:"navigation",children:"导航辅助"}),e.jsx(J,{value:"accessibility",children:"无障碍"})]}),e.jsx(ee,{value:"feedback",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"状态反馈消息"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsx(Ac,{type:"success",title:"操作成功",message:"您的数据已成功保存到系统中",action:{label:"查看详情",onClick:()=>b({title:"查看详情",variant:"info"})}}),e.jsx(Ac,{type:"warning",title:"注意",message:"您有未保存的更改，离开页面前请保存"}),e.jsx(Ac,{type:"error",title:"操作失败",message:"网络连接异常，请检查网络设置后重试",action:{label:"重试",onClick:()=>b({title:"正在重试...",variant:"info"})}}),e.jsx(Ac,{type:"info",message:"系统将在 30 分钟后进行例行维护"})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"通知中心"})}),e.jsx(E,{children:e.jsx(aA,{notifications:r,onMarkAsRead:D=>{l(y=>y.map(T=>T.id===D?{...T,read:!0}:T))},onClearAll:()=>l([])})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"空状态展示"})}),e.jsx(E,{children:e.jsx(sA,{icon:e.jsx(Ne,{className:"h-12 w-12"}),title:"暂无数据",description:"您还没有添加任何内容，点击下方按钮开始创建",action:{label:"开始创建",onClick:()=>b({title:"开始创建",variant:"success"})}})})]})]})}),e.jsx(ee,{value:"loading",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"加载状态指示器"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(lr,{size:"sm"}),e.jsx(lr,{size:"md"}),e.jsx(lr,{size:"lg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"骨架屏加载"}),e.jsx(Ro,{lines:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"加载按钮"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(XE,{loading:s,onClick:N,loadingText:"处理中...",children:"开始处理"}),e.jsx(S,{variant:"outline",disabled:s,children:"取消"})]})]})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"进度指示器"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsx(ZE,{steps:w,currentStep:i}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{variant:"outline",onClick:()=>c(Math.max(0,i-1)),disabled:i===0,children:"上一步"}),e.jsx(S,{onClick:()=>c(Math.min(w.length-1,i+1)),disabled:i===w.length-1,children:"下一步"})]})]})]})]})}),e.jsx(ee,{value:"interactions",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"拖拽上传"})}),e.jsx(E,{children:e.jsx(nA,{onDrop:j,accept:"image/*,.pdf,.doc,.docx",multiple:!0})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"悬停卡片"})}),e.jsx(E,{className:"space-y-4",children:e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[e.jsx(Tg,{trigger:e.jsx(S,{variant:"outline",children:"悬停查看详情"}),content:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold",children:"详细信息"}),e.jsx("p",{className:"text-sm",children:"这是一个悬停展示的详细信息卡片"}),e.jsx(V,{variant:"secondary",children:"标签示例"})]})}),e.jsx(Tg,{trigger:e.jsx(V,{variant:"outline",className:"cursor-help",children:"悬停提示"}),content:e.jsx("div",{className:"text-sm",children:"这是一个工具提示，解释某个概念或操作"}),side:"top"})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"自动保存"})}),e.jsx(E,{children:e.jsx(lA,{value:d,onSave:x,delay:1e3,children:({value:D,onChange:y,saving:T,saved:v})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ie,{value:D,onChange:P=>y(P.target.value),placeholder:"开始输入，内容将自动保存...",className:"min-h-[100px]"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[T&&e.jsxs(e.Fragment,{children:[e.jsx(lr,{size:"sm"}),e.jsx("span",{className:"text-muted-foreground",children:"保存中..."})]}),v&&e.jsx("span",{className:"text-green-600",children:"✓ 已保存"})]})]})})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"点击外部关闭"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(S,{onClick:()=>h(!u),children:u?"关闭下拉菜单":"打开下拉菜单"}),u&&e.jsx(rA,{onClickAway:()=>h(!1),children:e.jsx(R,{className:"w-48",children:e.jsxs(E,{className:"p-4 space-y-2",children:[e.jsxs(S,{variant:"ghost",size:"sm",className:"w-full justify-start",children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"设置"]}),e.jsxs(S,{variant:"ghost",size:"sm",className:"w-full justify-start",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"下载"]}),e.jsx(Gs,{}),e.jsxs(S,{variant:"ghost",size:"sm",className:"w-full justify-start text-red-600",onClick:()=>n(!0),children:[e.jsx(ut,{className:"h-4 w-4 mr-2"}),"删除"]})]})})})]})})]}),e.jsx(tA,{open:a,onOpenChange:n,title:"确认删除",description:"此操作无法撤销，确定要删除吗？",confirmText:"确认删除",cancelText:"取消",variant:"destructive",onConfirm:()=>{b({title:"已删除",description:"项目已成功删除",variant:"success"}),h(!1)}})]})}),e.jsx(ee,{value:"navigation",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"键盘快捷键"})}),e.jsx(E,{children:e.jsx(iA,{combination:["ctrl","s"],onTrigger:f,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["按 ",e.jsx(V,{variant:"outline",children:"Ctrl + S"})," 触发快捷键"]}),e.jsx(se,{placeholder:"在此输入内容，然后按 Ctrl+S"})]})})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"面包屑导航"})}),e.jsx(E,{children:e.jsx("nav",{className:"flex","aria-label":"面包屑",children:e.jsxs("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[e.jsx("li",{className:"inline-flex items-center",children:e.jsx(S,{variant:"link",className:"p-0 h-auto",children:"首页"})}),e.jsx("li",{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mx-2",children:"/"}),e.jsx(S,{variant:"link",className:"p-0 h-auto",children:"设计系统"})]})}),e.jsx("li",{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{className:"text-muted-foreground",children:"交互模式"})]})})]})})})]})]})}),e.jsx(ee,{value:"accessibility",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"焦点管理"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsx(S,{onClick:()=>g(!p),children:p?"关闭焦点陷阱":"打开焦点陷阱"}),p&&e.jsx(R,{className:"border-2 border-primary",children:e.jsx(E,{className:"p-4",children:e.jsx(cA,{active:p,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"焦点陷阱演示"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"使用 Tab 键导航，焦点将被限制在此区域内"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{size:"sm",children:"按钮 1"}),e.jsx(S,{size:"sm",variant:"outline",children:"按钮 2"})]}),e.jsx(se,{placeholder:"输入框"}),e.jsx(S,{size:"sm",variant:"secondary",onClick:()=>g(!1),children:"关闭"})]})})})})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"语义化标签"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{role:"region","aria-labelledby":"info-section",children:[e.jsx("h3",{id:"info-section",className:"font-semibold mb-2",children:"信息区域"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"此区域使用了正确的 ARIA 标签，便于屏幕阅读器理解"})]}),e.jsx("div",{role:"alert",className:"p-3 bg-yellow-50 border border-yellow-200 rounded",children:e.jsx("p",{className:"text-sm text-yellow-800",children:'这是一个重要提醒，使用了 role="alert" 属性'})}),e.jsx(S,{"aria-describedby":"button-help",className:"relative",children:"可访问按钮"}),e.jsx("div",{id:"button-help",className:"text-xs text-muted-foreground",children:"此按钮有相关的帮助文本"})]})]})]})})]})]})},Ql={sm:parseInt(ba.breakpoints.sm),md:parseInt(ba.breakpoints.md),lg:parseInt(ba.breakpoints.lg),xl:parseInt(ba.breakpoints.xl),"2xl":parseInt(ba.breakpoints["2xl"])};function cn(){const[s,t]=o.useState("lg"),[a,n]=o.useState(typeof window<"u"?window.innerWidth:1024);return o.useEffect(()=>{function u(){const h=window.innerWidth;n(h),h<Ql.sm?t("xs"):h<Ql.md?t("sm"):h<Ql.lg?t("md"):h<Ql.xl?t("lg"):h<Ql["2xl"]?t("xl"):t("2xl")}return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),{currentBreakpoint:s,windowWidth:a,isBreakpoint:u=>s===u,isAboveBreakpoint:u=>{const h=["xs","sm","md","lg","xl","2xl"],p=h.indexOf(s),g=h.indexOf(u);return p>=g},isBelowBreakpoint:u=>{const h=["xs","sm","md","lg","xl","2xl"],p=h.indexOf(s),g=h.indexOf(u);return p<g},isMobile:s==="xs"||s==="sm",isTablet:s==="md",isDesktop:s==="lg"||s==="xl"||s==="2xl"}}const oA=({children:s,cols:t={xs:1,sm:2,md:3,lg:4,xl:5},gap:a=4,className:n})=>{const{currentBreakpoint:r}=cn(),l=()=>{switch(r){case"xs":return t.xs||1;case"sm":return t.sm||2;case"md":return t.md||3;case"lg":return t.lg||4;case"xl":case"2xl":return t.xl||5;default:return 3}};return e.jsx("div",{className:X("grid",`grid-cols-${l()}`,`gap-${a}`,n),style:{gridTemplateColumns:`repeat(${l()}, 1fr)`,gap:`${a*.25}rem`},children:s})},mA=({trigger:s,children:t,title:a="菜单",className:n})=>{const{isMobile:r}=cn(),[l,i]=o.useState(!1);return r?e.jsxs(xh,{open:l,onOpenChange:i,children:[e.jsx(uh,{asChild:!0,children:s||e.jsx(S,{variant:"outline",size:"sm",children:e.jsx(ch,{className:"h-4 w-4"})})}),e.jsxs(uo,{side:"left",className:"w-80",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:a}),e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>i(!1),children:e.jsx(Lt,{className:"h-4 w-4"})})]}),t]})]}):e.jsx("div",{className:n,children:t})},Rg=({title:s,children:t,defaultOpen:a=!0,forceCollapsible:n=!1,className:r})=>{const{isMobile:l}=cn(),[i,c]=o.useState(a);return n||l?e.jsxs(R,{className:r,children:[e.jsx(O,{children:e.jsxs(S,{variant:"ghost",className:"w-full justify-between p-0 h-auto",onClick:()=>c(!i),children:[e.jsx(L,{className:"text-left",children:s}),i?e.jsx(nh,{className:"h-4 w-4"}):e.jsx(io,{className:"h-4 w-4"})]})}),i&&e.jsx(E,{children:t})]}):e.jsxs(R,{className:r,children:[e.jsx(O,{children:e.jsx(L,{children:s})}),e.jsx(E,{children:t})]})},xA=({headers:s,rows:t,className:a})=>{const{isMobile:n}=cn();return n?e.jsx("div",{className:X("space-y-4",a),children:t.map((r,l)=>e.jsx(R,{children:e.jsx(E,{className:"p-4 space-y-2",children:s.map((i,c)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-sm text-muted-foreground",children:i}),e.jsx("span",{className:"text-sm",children:r[c]})]},c))})},l))}):e.jsx("div",{className:X("overflow-x-auto",a),children:e.jsxs("table",{className:"w-full border-collapse border border-border",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-muted",children:s.map((r,l)=>e.jsx("th",{className:"border border-border p-3 text-left font-medium",children:r},l))})}),e.jsx("tbody",{children:t.map((r,l)=>e.jsx("tr",{className:"hover:bg-muted/50",children:r.map((i,c)=>e.jsx("td",{className:"border border-border p-3",children:i},c))},l))})]})})},uA=({src:s,alt:t,sizes:a="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",className:n,priority:r=!1})=>{const[l,i]=o.useState(!1),[c,d]=o.useState(!1),m=()=>i(!0),u=()=>d(!0);return c?e.jsx("div",{className:X("bg-muted rounded-lg flex items-center justify-center p-8",n),children:e.jsx("span",{className:"text-muted-foreground",children:"图片加载失败"})}):e.jsxs("div",{className:X("relative overflow-hidden rounded-lg",n),children:[!l&&e.jsx("div",{className:"absolute inset-0 bg-muted animate-pulse"}),e.jsx("img",{src:s,alt:t,sizes:a,onLoad:m,onError:u,className:X("w-full h-full object-cover transition-opacity duration-300",l?"opacity-100":"opacity-0"),loading:r?"eager":"lazy"})]})},hn=({children:s,onClick:t,variant:a="primary",size:n="md",className:r,disabled:l=!1})=>{const{isMobile:i}=cn(),c="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",d={primary:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground"},m={sm:i?"h-11 px-4 text-sm":"h-9 px-3 text-sm",md:i?"h-12 px-6 text-base":"h-10 px-4 text-sm",lg:i?"h-14 px-8 text-lg":"h-11 px-8 text-base"};return e.jsx("button",{className:X(c,d[a],m[n],i&&"active:scale-95 transition-transform",r),onClick:t,disabled:l,style:{minHeight:i?"44px":"auto",minWidth:i?"44px":"auto"},children:s})},hA=({className:s})=>(cn(),null),fA=({children:s,navigation:t,header:a,footer:n,sidebarCollapsible:r=!0,className:l})=>{const{isMobile:i}=cn(),[c,d]=o.useState(!1),[m,u]=o.useState(!1),h=(g,b=0)=>e.jsxs("div",{className:X("space-y-1",b>0&&"ml-4"),children:[e.jsxs(S,{variant:"ghost",className:X("w-full justify-start",m&&b===0&&"justify-center px-2"),onClick:()=>{g.href&&(window.location.href=g.href),i&&d(!1)},children:[e.jsx("span",{className:"mr-2",children:g.icon}),(!m||b>0)&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex-1 text-left",children:g.label}),g.badge&&g.badge>0&&e.jsx(V,{variant:"secondary",className:"ml-auto",children:g.badge})]})]}),g.children&&(!m||b>0)&&e.jsx("div",{className:"space-y-1",children:g.children.map(N=>h(N,b+1))})]},g.id),p=e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:X("flex items-center justify-between p-4",m&&"justify-center"),children:[!m&&e.jsx("h2",{className:"text-lg font-semibold",children:"研究平台"}),r&&!i&&e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>u(!m),children:m?e.jsx(Us,{className:"h-4 w-4"}):e.jsx(br,{className:"h-4 w-4"})})]}),e.jsx(Gs,{}),e.jsx(ot,{className:"flex-1 p-4",children:e.jsx("nav",{className:"space-y-2",children:t.map(g=>h(g))})}),n&&e.jsxs(e.Fragment,{children:[e.jsx(Gs,{}),e.jsx("div",{className:"p-4",children:n})]})]});return i?e.jsxs("div",{className:X("min-h-screen bg-background",l),children:[e.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"flex h-14 items-center px-4",children:[e.jsxs(xh,{open:c,onOpenChange:d,children:[e.jsx(uh,{asChild:!0,children:e.jsx(S,{variant:"ghost",size:"sm",className:"mr-2",children:e.jsx(ch,{className:"h-5 w-5"})})}),e.jsx(uo,{side:"left",className:"w-80 p-0",children:p})]}),e.jsx("div",{className:"flex-1",children:a||e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-lg font-semibold",children:"研究平台"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{variant:"ghost",size:"sm",children:e.jsx(ks,{className:"h-4 w-4"})}),e.jsx(S,{variant:"ghost",size:"sm",children:e.jsx(Ra,{className:"h-4 w-4"})}),e.jsx(S,{variant:"ghost",size:"sm",children:e.jsx(co,{className:"h-4 w-4"})})]})]})})]})}),e.jsx("main",{className:"flex-1 p-4",children:s})]}):e.jsxs("div",{className:X("min-h-screen bg-background flex",l),children:[e.jsx("aside",{className:X("border-r bg-background transition-all duration-300",m?"w-16":"w-64"),children:p}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[a&&e.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsx("div",{className:"flex h-14 items-center px-6",children:a})}),e.jsx("main",{className:"flex-1 p-6",children:s})]})]})},pA=({items:s,activeItem:t,onItemClick:a,className:n})=>{const{isMobile:r}=cn();return r?e.jsx("div",{className:X("fixed bottom-0 left-0 right-0 z-50 bg-background border-t",n),children:e.jsx("div",{className:"grid grid-cols-5 h-16",children:s.slice(0,5).map(l=>e.jsxs("button",{className:X("flex flex-col items-center justify-center space-y-1 transition-colors","hover:bg-muted active:bg-muted",t===l.id?"text-primary":"text-muted-foreground"),onClick:()=>{a==null||a(l.id),l.href&&(window.location.href=l.href)},children:[e.jsxs("div",{className:"relative",children:[l.icon,l.badge&&l.badge>0&&e.jsx(V,{variant:"destructive",className:"absolute -top-2 -right-2 h-4 w-4 p-0 text-xs",children:l.badge>9?"9+":l.badge})]}),e.jsx("span",{className:"text-xs font-medium",children:l.label})]},l.id))})}):null},jA=({children:s,minCardWidth:t=280,gap:a=24,className:n})=>e.jsx("div",{className:X("grid",n),style:{gridTemplateColumns:`repeat(auto-fill, minmax(${t}px, 1fr))`,gap:`${a}px`},children:s}),Eg=()=>{const{currentBreakpoint:s,isMobile:t,isTablet:a,isDesktop:n,windowWidth:r}=cn(),[l,i]=o.useState("home"),c=[{id:"home",label:"首页",icon:e.jsx(Cd,{className:"h-4 w-4"}),href:"/"},{id:"dashboard",label:"仪表盘",icon:e.jsx(Cs,{className:"h-4 w-4"}),badge:3},{id:"documents",label:"文档",icon:e.jsx(Ne,{className:"h-4 w-4"})},{id:"calendar",label:"日历",icon:e.jsx(hs,{className:"h-4 w-4"})},{id:"profile",label:"个人",icon:e.jsx(Xs,{className:"h-4 w-4"})}],d=[{id:"home",label:"首页",icon:e.jsx(Cd,{className:"h-4 w-4"})},{id:"search",label:"搜索",icon:e.jsx(ks,{className:"h-4 w-4"})},{id:"notifications",label:"通知",icon:e.jsx(Ra,{className:"h-4 w-4"}),badge:5},{id:"messages",label:"消息",icon:e.jsx(hl,{className:"h-4 w-4"}),badge:2},{id:"profile",label:"我的",icon:e.jsx(Xs,{className:"h-4 w-4"})}],m=["姓名","邮箱","电话","状态","操作"],u=[["张三","zhang@example.com","13812345678",e.jsx(V,{children:"活跃"},"active"),e.jsx(S,{size:"sm",children:"编辑"},"edit")],["李四","li@example.com","13887654321",e.jsx(V,{variant:"secondary",children:"非活跃"},"inactive"),e.jsx(S,{size:"sm",children:"编辑"},"edit")],["王五","wang@example.com","13898765432",e.jsx(V,{children:"活跃"},"active"),e.jsx(S,{size:"sm",children:"编辑"},"edit")]],h=Array.from({length:12},(g,b)=>({id:b+1,title:`项目 ${b+1}`,description:"这是一个示例项目的描述，展示响应式卡片布局的效果。",status:b%3===0?"active":b%3===1?"pending":"completed",author:`用户${b+1}`,date:new Date(Date.now()-b*864e5).toLocaleDateString("zh-CN")})),p=e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-2xl md:text-4xl font-bold",children:"响应式设计演示"}),e.jsx("p",{className:"text-muted-foreground text-sm md:text-base",children:"展示平台在不同设备和屏幕尺寸下的适配效果"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[e.jsxs(V,{variant:"outline",children:["当前断点: ",s]}),e.jsxs(V,{variant:"outline",children:["屏幕宽度: ",r,"px"]}),e.jsxs(V,{variant:"outline",children:["设备类型: ",t?"移动端":a?"平板":"桌面端"]})]})]}),e.jsxs(Ye,{defaultValue:"layout",className:"space-y-6",children:[e.jsxs(qe,{className:X("grid w-full",t?"grid-cols-2":"grid-cols-5"),children:[e.jsx(J,{value:"layout",children:"布局"}),e.jsx(J,{value:"grid",children:"网格"}),!t&&e.jsx(J,{value:"table",children:"表格"}),!t&&e.jsx(J,{value:"images",children:"图片"}),e.jsx(J,{value:"interactions",children:"交互"})]}),e.jsx(ee,{value:"layout",children:e.jsx("div",{className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"响应式布局组件"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"移动端菜单"}),e.jsx(mA,{title:"导航菜单",trigger:e.jsx(S,{variant:"outline",children:"打开菜单"}),children:e.jsx("div",{className:"space-y-2",children:c.map(g=>e.jsxs(S,{variant:"ghost",className:"w-full justify-start",children:[g.icon,e.jsx("span",{className:"ml-2",children:g.label}),g.badge&&e.jsx(V,{variant:"secondary",className:"ml-auto",children:g.badge})]},g.id))})})]}),e.jsx(Gs,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"可折叠区域"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(Rg,{title:"基本信息",defaultOpen:!0,children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(se,{placeholder:"姓名"}),e.jsx(se,{placeholder:"邮箱"}),e.jsx(se,{placeholder:"电话"})]})}),e.jsx(Rg,{title:"详细信息",defaultOpen:!t,children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(se,{placeholder:"地址"}),e.jsx(se,{placeholder:"公司"}),e.jsx(se,{placeholder:"职位"})]})})]})]})]})]})})}),e.jsx(ee,{value:"grid",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"响应式网格布局"})}),e.jsx(E,{children:e.jsx(oA,{cols:{xs:1,sm:2,md:3,lg:4,xl:6},gap:4,children:Array.from({length:12},(g,b)=>e.jsx(R,{children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full mx-auto mb-2 flex items-center justify-center",children:e.jsx("span",{className:"text-primary font-semibold",children:b+1})}),e.jsxs("p",{className:"text-sm font-medium",children:["项目 ",b+1]})]})},b))})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"自适应卡片网格"})}),e.jsx(E,{children:e.jsx(jA,{minCardWidth:250,gap:16,children:h.slice(0,6).map(g=>e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-base",children:g.title})}),e.jsxs(E,{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:g.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(V,{variant:g.status==="active"?"default":"secondary",children:g.status}),e.jsx("span",{className:"text-xs text-muted-foreground",children:g.date})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:g.author}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(S,{size:"sm",variant:"ghost",children:e.jsx(na,{className:"h-4 w-4"})}),e.jsx(S,{size:"sm",variant:"ghost",children:e.jsx(z3,{className:"h-4 w-4"})})]})]})]})]},g.id))})})]})]})}),!t&&e.jsx(ee,{value:"table",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"响应式表格"})}),e.jsx(E,{children:e.jsx(xA,{headers:m,rows:u})})]})}),!t&&e.jsx(ee,{value:"images",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"响应式图片"})}),e.jsx(E,{className:"space-y-4",children:e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6},(g,b)=>e.jsx(uA,{src:`https://picsum.photos/400/300?random=${b}`,alt:`示例图片 ${b+1}`,className:"aspect-video"},b))})})]})}),e.jsx(ee,{value:"interactions",children:e.jsx("div",{className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"触摸友好的交互"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"触摸友好按钮"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(hn,{size:"sm",children:"小按钮"}),e.jsx(hn,{size:"md",children:"中等按钮"}),e.jsx(hn,{size:"lg",children:"大按钮"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(hn,{variant:"secondary",children:"次要按钮"}),e.jsx(hn,{variant:"outline",children:"边框按钮"}),e.jsx(hn,{variant:"ghost",children:"幽灵按钮"})]})]}),e.jsx(Gs,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"移动端表单"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(se,{placeholder:"姓名",className:t?"h-12 text-16px":""}),e.jsx(se,{type:"email",placeholder:"邮箱地址",className:t?"h-12 text-16px":""}),e.jsx(se,{type:"tel",placeholder:"手机号码",className:t?"h-12 text-16px":""})]})]}),e.jsx(Gs,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"移动端操作卡片"}),e.jsx("div",{className:"space-y-3",children:h.slice(0,3).map(g=>e.jsx(R,{className:"hover:shadow-md transition-shadow",children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("h4",{className:"font-medium",children:g.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:g.description}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{variant:"outline",children:g.status}),e.jsx("span",{className:"text-xs text-muted-foreground",children:g.author})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[e.jsx(hn,{size:"sm",variant:"outline",children:e.jsx(Ds,{className:"h-4 w-4"})}),e.jsx(hn,{size:"sm",variant:"outline",children:e.jsx(Se,{className:"h-4 w-4"})})]})]})})},g.id))})]})]})]})})})]}),t&&e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"移动端底部导航"})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"底部导航栏已启用，可以看到页面底部的导航栏"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["当前选中: ",l]})]})]})]});return e.jsxs("div",{className:"min-h-screen bg-background",children:[n?e.jsx(fA,{navigation:c.map(g=>({...g,icon:g.icon})),header:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("h1",{className:"text-lg font-semibold",children:"响应式设计演示"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{variant:"ghost",size:"sm",children:e.jsx(ks,{className:"h-4 w-4"})}),e.jsx(S,{variant:"ghost",size:"sm",children:e.jsx(Ra,{className:"h-4 w-4"})}),e.jsx(S,{variant:"ghost",size:"sm",children:e.jsx(Xs,{className:"h-4 w-4"})})]})]}),children:p}):e.jsx("div",{className:"container mx-auto py-4 px-4 pb-20",children:p}),e.jsx(pA,{items:d,activeItem:l,onItemClick:i}),e.jsx(hA,{})]})};function $h(){const[s,t]=o.useState({highContrast:!1,reducedMotion:!1,fontSize:"medium",screenReaderOptimized:!1,keyboardNavigation:!0});o.useEffect(()=>{const l=()=>{const d=window.matchMedia("(prefers-reduced-motion: reduce)").matches,m=window.matchMedia("(prefers-contrast: high)").matches;t(u=>({...u,reducedMotion:d,highContrast:m}))};l();const i=window.matchMedia("(prefers-reduced-motion: reduce)"),c=window.matchMedia("(prefers-contrast: high)");return i.addEventListener("change",l),c.addEventListener("change",l),()=>{i.removeEventListener("change",l),c.removeEventListener("change",l)}},[]),o.useEffect(()=>{const l=localStorage.getItem("accessibility-preferences");if(l)try{const i=JSON.parse(l);t(c=>({...c,...i}))}catch(i){console.error("Failed to parse accessibility preferences:",i)}},[]);const a=o.useCallback(l=>{t(i=>{const c={...i,...l};return localStorage.setItem("accessibility-preferences",JSON.stringify(c)),c})},[]);o.useEffect(()=>{const l=document.documentElement;s.highContrast?l.classList.add("high-contrast"):l.classList.remove("high-contrast"),s.reducedMotion?l.classList.add("reduced-motion"):l.classList.remove("reduced-motion"),l.classList.remove("font-small","font-medium","font-large","font-extra-large"),l.classList.add(`font-${s.fontSize}`),s.screenReaderOptimized?l.classList.add("screen-reader-optimized"):l.classList.remove("screen-reader-optimized")},[s]);const n=o.useCallback(l=>{const i=document.createElement("div");i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),i.style.position="absolute",i.style.left="-10000px",i.style.width="1px",i.style.height="1px",i.style.overflow="hidden",i.textContent=l,document.body.appendChild(i),setTimeout(()=>{document.body.removeChild(i)},1e3)},[]),r=o.useCallback(()=>{const l=document.querySelector("main")||document.querySelector('[role="main"]');l&&l instanceof HTMLElement&&(l.focus(),l.scrollIntoView({behavior:"smooth"}),n("跳转到主要内容"))},[n]);return{preferences:s,updatePreferences:a,announceToScreenReader:n,skipToContent:r}}const gA=({className:s})=>{const{preferences:t,updatePreferences:a}=$h(),[n,r]=o.useState(!1),l=[{value:"small",label:"小",size:"14px"},{value:"medium",label:"中",size:"16px"},{value:"large",label:"大",size:"18px"},{value:"extra-large",label:"特大",size:"20px"}];return e.jsx("div",{className:X("fixed bottom-4 left-4 z-50",s),children:e.jsxs(R,{className:"w-80",children:[e.jsx(O,{children:e.jsxs(S,{variant:"ghost",className:"w-full justify-between p-0 h-auto",onClick:()=>r(!n),"aria-expanded":n,"aria-controls":"accessibility-panel",children:[e.jsxs(L,{className:"text-left flex items-center gap-2",children:[e.jsx(Le,{className:"h-4 w-4"}),"无障碍设置"]}),n?e.jsx(nh,{className:"h-4 w-4"}):e.jsx(io,{className:"h-4 w-4"})]})}),n&&e.jsxs(E,{id:"accessibility-panel",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(my,{className:"h-4 w-4"}),e.jsx(H,{htmlFor:"high-contrast",children:"高对比度"})]}),e.jsx(Bs,{id:"high-contrast",checked:t.highContrast,onCheckedChange:i=>a({highContrast:i}),"aria-describedby":"high-contrast-desc"})]}),e.jsx("p",{id:"high-contrast-desc",className:"text-xs text-muted-foreground",children:"增强颜色对比度，改善视觉效果"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"h-4 w-4"}),e.jsx(H,{htmlFor:"reduced-motion",children:"减少动画"})]}),e.jsx(Bs,{id:"reduced-motion",checked:t.reducedMotion,onCheckedChange:i=>a({reducedMotion:i}),"aria-describedby":"reduced-motion-desc"})]}),e.jsx("p",{id:"reduced-motion-desc",className:"text-xs text-muted-foreground",children:"减少页面动画和过渡效果"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fy,{className:"h-4 w-4"}),e.jsx(H,{children:"字体大小"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:l.map(i=>e.jsx(S,{variant:t.fontSize===i.value?"default":"outline",size:"sm",onClick:()=>a({fontSize:i.value}),"aria-pressed":t.fontSize===i.value,children:i.label},i.value))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pd,{className:"h-4 w-4"}),e.jsx(H,{htmlFor:"screen-reader",children:"屏幕阅读器优化"})]}),e.jsx(Bs,{id:"screen-reader",checked:t.screenReaderOptimized,onCheckedChange:i=>a({screenReaderOptimized:i}),"aria-describedby":"screen-reader-desc"})]}),e.jsx("p",{id:"screen-reader-desc",className:"text-xs text-muted-foreground",children:"为屏幕阅读器用户优化页面结构"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ly,{className:"h-4 w-4"}),e.jsx(H,{htmlFor:"keyboard-nav",children:"键盘导航"})]}),e.jsx(Bs,{id:"keyboard-nav",checked:t.keyboardNavigation,onCheckedChange:i=>a({keyboardNavigation:i}),"aria-describedby":"keyboard-nav-desc"})]}),e.jsx("p",{id:"keyboard-nav-desc",className:"text-xs text-muted-foreground",children:"启用增强的键盘导航功能"})]})]})})},Ag=({href:s,children:t,className:a})=>e.jsx("a",{href:s,className:X("absolute left-4 top-4 z-50 -translate-y-16 bg-primary text-primary-foreground px-4 py-2 rounded-md font-medium","focus:translate-y-0 transition-transform",a),onFocus:n=>{const r=document.createElement("div");r.setAttribute("aria-live","polite"),r.textContent="跳转链接已激活",r.style.position="absolute",r.style.left="-10000px",document.body.appendChild(r),setTimeout(()=>document.body.removeChild(r),1e3)},children:t}),Xb=({children:s,level:t="polite",atomic:a=!0,className:n})=>e.jsx("div",{"aria-live":t,"aria-atomic":a,className:X("sr-only",n),children:s}),pt=({level:s,children:t,className:a,id:n})=>{const r=`h${s}`;return e.jsx(r,{id:n,className:X("scroll-mt-4",s===1&&"text-2xl md:text-4xl font-bold",s===2&&"text-xl md:text-3xl font-semibold",s===3&&"text-lg md:text-2xl font-semibold",s===4&&"text-base md:text-xl font-medium",s===5&&"text-sm md:text-lg font-medium",s===6&&"text-sm md:text-base font-medium",a),children:t})},vA=({children:s,onFocus:t,onBlur:a,className:n,tabIndex:r=0,role:l,...i})=>{const[c,d]=o.useState(!1);return e.jsx("div",{tabIndex:r,role:l,className:X("outline-none transition-all","focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",c&&"ring-2 ring-ring ring-offset-2",n),onFocus:m=>{d(!0),t==null||t()},onBlur:m=>{d(!1),a==null||a()},...i,children:s})},NA=({type:s,children:t,className:a,announce:n=!0})=>{const{announceToScreenReader:r}=$h();o.useEffect(()=>{n&&typeof t=="string"&&r(t)},[t,n,r]);const l={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"};return e.jsx("div",{role:"alert","aria-live":"polite",className:X("p-4 border rounded-lg",l[s],a),children:t})},Ig=({value:s,max:t=100,label:a,className:n,showPercentage:r=!0})=>{const l=Math.round(s/t*100),i=he.useId(),c=he.useId();return e.jsxs("div",{className:X("space-y-2",n),children:[a&&e.jsxs(H,{id:c,htmlFor:i,children:[a,r&&` (${l}%)`]}),e.jsx("div",{id:i,role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":t,"aria-labelledby":a?c:void 0,"aria-valuetext":`${l}% 完成`,className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${l}%`}})}),e.jsxs(Xb,{children:["进度更新：",l,"% 完成"]})]})},Og=()=>{const{announceToScreenReader:s,skipToContent:t}=$h(),[a,n]=o.useState(""),[r,l]=o.useState(0),[i,c]=o.useState([]),[d,m]=o.useState({name:"",email:"",feedback:"",preferences:"",newsletter:!1}),[u,h]=o.useState({});o.useEffect(()=>{const j=setInterval(()=>{l(x=>(x+10)%101)},1e3);return()=>clearInterval(j)},[]);const p=j=>{c(x=>[...x,j]),s(j),setTimeout(()=>{c(x=>x.slice(1))},5e3)},g=()=>{const j={};return d.name.trim()||(j.name="姓名是必填项"),d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(j.email="请输入有效的邮箱地址"):j.email="邮箱是必填项",d.feedback.trim()||(j.feedback="反馈内容是必填项"),h(j),Object.keys(j).length===0},b=j=>{j.preventDefault(),g()?(p("表单提交成功！感谢您的反馈。"),m({name:"",email:"",feedback:"",preferences:"",newsletter:!1})):p("表单包含错误，请检查并重新提交。")},N=[{id:"visual",title:"视觉无障碍",icon:e.jsx(Le,{className:"h-4 w-4"}),description:"针对视觉障碍用户的功能"},{id:"auditory",title:"听觉无障碍",icon:e.jsx(u3,{className:"h-4 w-4"}),description:"针对听觉障碍用户的功能"},{id:"motor",title:"运动无障碍",icon:e.jsx(N3,{className:"h-4 w-4"}),description:"针对运动障碍用户的功能"},{id:"cognitive",title:"认知无障碍",icon:e.jsx(Ns,{className:"h-4 w-4"}),description:"针对认知障碍用户的功能"}];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Ag,{href:"#main-content",children:"跳转到主要内容"}),e.jsx(Ag,{href:"#navigation",children:"跳转到导航"}),e.jsxs("main",{id:"main-content",className:"container mx-auto py-8 px-4 space-y-8",tabIndex:-1,children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(pt,{level:1,children:"无障碍功能演示"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"展示平台的无障碍设计和多语言支持功能"}),e.jsxs(S,{onClick:()=>p("欢迎来到无障碍功能演示页面"),children:[e.jsx(Pd,{className:"h-4 w-4 mr-2"}),"播放欢迎消息"]})]}),i.map((j,x)=>e.jsx(Xb,{children:j},x)),i.length>0&&e.jsx("div",{className:"fixed top-4 right-4 z-40 space-y-2 max-w-sm",children:i.map((j,x)=>e.jsx(NA,{type:"info",className:"animate-in slide-in-from-right",children:j},x))}),e.jsxs("nav",{id:"navigation","aria-label":"无障碍功能导航",children:[e.jsx(pt,{level:2,children:"功能分类"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:N.map(j=>e.jsx(vA,{role:"button","aria-label":`切换到${j.title}演示`,className:"cursor-pointer",onFocus:()=>n(j.id),children:e.jsx(R,{className:"hover:shadow-md transition-shadow",children:e.jsxs(E,{className:"p-6 text-center space-y-3",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:j.icon}),e.jsx(pt,{level:3,className:"text-lg",children:j.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:j.description})]})})},j.id))})]}),e.jsxs(Ye,{defaultValue:"wcag",className:"space-y-6",children:[e.jsxs(qe,{className:"grid w-full grid-cols-2 md:grid-cols-4","aria-label":"无障碍功能标签",children:[e.jsx(J,{value:"wcag",children:"WCAG 合规"}),e.jsx(J,{value:"forms",children:"表单无障碍"}),e.jsx(J,{value:"navigation",children:"导航辅助"}),e.jsx(J,{value:"multimedia",children:"多媒体支持"})]}),e.jsx(ee,{value:"wcag",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"WCAG 2.1 AA 标准演示"})}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("section",{"aria-labelledby":"contrast-heading",children:[e.jsx(pt,{level:3,id:"contrast-heading",children:"颜色对比度"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsx(R,{className:"bg-background border-2",children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-foreground",children:"标准对比度文本"}),e.jsx(V,{variant:"outline",children:"对比度: 4.5:1"})]})}),e.jsx(R,{className:"bg-muted",children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-muted-foreground",children:"次要文本"}),e.jsx(V,{variant:"secondary",children:"对比度: 3:1"})]})}),e.jsx(R,{className:"bg-primary",children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-primary-foreground",children:"高对比度文本"}),e.jsx(V,{variant:"outline",className:"bg-background text-foreground",children:"对比度: 7:1"})]})})]})]}),e.jsx(Gs,{}),e.jsxs("section",{"aria-labelledby":"keyboard-heading",children:[e.jsx(pt,{level:3,id:"keyboard-heading",children:"键盘导航演示"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"使用 Tab 键可以在以下元素间导航："}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(S,{tabIndex:0,children:"按钮 1"}),e.jsx(S,{variant:"outline",tabIndex:0,children:"按钮 2"}),e.jsx(S,{variant:"secondary",tabIndex:0,children:"按钮 3"}),e.jsx(se,{placeholder:"可聚焦输入框",className:"w-40"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"使用 Shift + Tab 可以反向导航"})]}),e.jsx(Gs,{}),e.jsxs("section",{"aria-labelledby":"progress-heading",children:[e.jsx(pt,{level:3,id:"progress-heading",children:"进度指示器"}),e.jsx(Ig,{value:r,label:"演示进度",className:"mt-4"})]}),e.jsx(Gs,{}),e.jsxs("section",{"aria-labelledby":"semantic-heading",children:[e.jsx(pt,{level:3,id:"semantic-heading",children:"语义化 HTML"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("article",{className:"border rounded-lg p-4",children:[e.jsxs("header",{children:[e.jsx(pt,{level:4,children:"文章标题"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["发布时间: ",e.jsx("time",{dateTime:"2024-01-01",children:"2024年1月1日"})]})]}),e.jsx("p",{className:"mt-2",children:"这是一个使用语义化 HTML 标签的文章示例，包含正确的标题层级、时间标签等。"}),e.jsx("footer",{className:"mt-2 text-sm text-muted-foreground",children:"作者: 示例作者"})]})})]})]})]})}),e.jsx(ee,{value:"forms",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"无障碍表单演示"})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("fieldset",{className:"space-y-4",children:[e.jsx("legend",{className:"text-lg font-semibold",children:"基本信息"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{htmlFor:"name",className:"required",children:["姓名 ",e.jsx("span",{"aria-label":"必填项",children:"*"})]}),e.jsx(se,{id:"name",value:d.name,onChange:j=>m(x=>({...x,name:j.target.value})),"aria-required":"true","aria-invalid":!!u.name,"aria-describedby":u.name?"name-error":"name-help"}),e.jsx("p",{id:"name-help",className:"text-xs text-muted-foreground",children:"请输入您的真实姓名"}),u.name&&e.jsx("p",{id:"name-error",className:"text-xs text-destructive",role:"alert",children:u.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{htmlFor:"email",className:"required",children:["邮箱地址 ",e.jsx("span",{"aria-label":"必填项",children:"*"})]}),e.jsx(se,{id:"email",type:"email",value:d.email,onChange:j=>m(x=>({...x,email:j.target.value})),"aria-required":"true","aria-invalid":!!u.email,"aria-describedby":u.email?"email-error":"email-help"}),e.jsx("p",{id:"email-help",className:"text-xs text-muted-foreground",children:"我们将使用此邮箱与您联系"}),u.email&&e.jsx("p",{id:"email-error",className:"text-xs text-destructive",role:"alert",children:u.email})]})]}),e.jsxs("fieldset",{className:"space-y-4",children:[e.jsx("legend",{className:"text-lg font-semibold",children:"偏好设置"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"通知偏好"}),e.jsxs(zl,{value:d.preferences,onValueChange:j=>m(x=>({...x,preferences:j})),"aria-labelledby":"preferences-label",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rt,{value:"email",id:"pref-email"}),e.jsx(H,{htmlFor:"pref-email",children:"仅邮件通知"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rt,{value:"sms",id:"pref-sms"}),e.jsx(H,{htmlFor:"pref-sms",children:"仅短信通知"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rt,{value:"both",id:"pref-both"}),e.jsx(H,{htmlFor:"pref-both",children:"邮件和短信"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rt,{value:"none",id:"pref-none"}),e.jsx(H,{htmlFor:"pref-none",children:"不接收通知"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{id:"newsletter",checked:d.newsletter,onCheckedChange:j=>m(x=>({...x,newsletter:!!j}))}),e.jsx(H,{htmlFor:"newsletter",children:"订阅新闻通讯"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{htmlFor:"feedback",className:"required",children:["反馈内容 ",e.jsx("span",{"aria-label":"必填项",children:"*"})]}),e.jsx(Ie,{id:"feedback",value:d.feedback,onChange:j=>m(x=>({...x,feedback:j.target.value})),placeholder:"请输入您的反馈...","aria-required":"true","aria-invalid":!!u.feedback,"aria-describedby":u.feedback?"feedback-error":"feedback-help",rows:4}),e.jsx("p",{id:"feedback-help",className:"text-xs text-muted-foreground",children:"请详细描述您的反馈内容，至少 10 个字符"}),u.feedback&&e.jsx("p",{id:"feedback-error",className:"text-xs text-destructive",role:"alert",children:u.feedback})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{type:"submit",children:"提交反馈"}),e.jsx(S,{type:"button",variant:"outline",onClick:()=>{m({name:"",email:"",feedback:"",preferences:"",newsletter:!1}),h({}),p("表单已重置")},children:"重置表单"})]})]})})]})}),e.jsx(ee,{value:"navigation",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"导航辅助功能"})}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("section",{"aria-labelledby":"breadcrumb-heading",children:[e.jsx(pt,{level:3,id:"breadcrumb-heading",children:"面包屑导航"}),e.jsx("nav",{"aria-label":"面包屑导航",children:e.jsxs("ol",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"/",className:"hover:underline",children:"首页"})}),e.jsx("li",{"aria-hidden":"true",children:"›"}),e.jsx("li",{children:e.jsx("a",{href:"/demos",className:"hover:underline",children:"演示页面"})}),e.jsx("li",{"aria-hidden":"true",children:"›"}),e.jsx("li",{"aria-current":"page",className:"text-muted-foreground",children:"无障碍功能"})]})})]}),e.jsx(Gs,{}),e.jsxs("section",{"aria-labelledby":"landmarks-heading",children:[e.jsx(pt,{level:3,id:"landmarks-heading",children:"页面结构地标"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"主要地标"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsxs("li",{children:[e.jsx("code",{children:"<header>"})," - 页面头部"]}),e.jsxs("li",{children:[e.jsx("code",{children:"<nav>"})," - 导航区域"]}),e.jsxs("li",{children:[e.jsx("code",{children:"<main>"})," - 主要内容"]}),e.jsxs("li",{children:[e.jsx("code",{children:"<aside>"})," - 侧边栏"]}),e.jsxs("li",{children:[e.jsx("code",{children:"<footer>"})," - 页面底部"]})]})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"ARIA 地标"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsxs("li",{children:[e.jsx("code",{children:'role="banner"'})," - 页面标题"]}),e.jsxs("li",{children:[e.jsx("code",{children:'role="navigation"'})," - 导航"]}),e.jsxs("li",{children:[e.jsx("code",{children:'role="main"'})," - 主内容"]}),e.jsxs("li",{children:[e.jsx("code",{children:'role="complementary"'})," - 补充内容"]}),e.jsxs("li",{children:[e.jsx("code",{children:'role="contentinfo"'})," - 页面信息"]})]})]})})]})]}),e.jsx(Gs,{}),e.jsxs("section",{"aria-labelledby":"skip-links-heading",children:[e.jsx(pt,{level:3,id:"skip-links-heading",children:"跳转链接"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"按 Tab 键可以看到页面顶部的跳转链接，帮助键盘用户快速导航到主要内容区域。"}),e.jsxs(S,{onClick:t,variant:"outline",children:[e.jsx(ly,{className:"h-4 w-4 mr-2"}),"演示跳转到主内容"]})]})]})]})}),e.jsx(ee,{value:"multimedia",className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"多媒体无障碍支持"})}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("section",{"aria-labelledby":"media-controls-heading",children:[e.jsx(pt,{level:3,id:"media-controls-heading",children:"媒体控制器"}),e.jsxs("div",{className:"border rounded-lg p-6 bg-muted/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-medium",children:"音频播放器演示"}),e.jsx(V,{variant:"outline",children:"可访问"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(S,{size:"sm","aria-label":"播放/暂停",children:e.jsx(ma,{className:"h-4 w-4"})}),e.jsx(S,{size:"sm","aria-label":"下一首",children:e.jsx($3,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"text-sm font-medium",children:"示例音频文件"}),e.jsx(Ig,{value:45,label:"播放进度",showPercentage:!1})]}),e.jsx(S,{size:"sm",variant:"outline","aria-label":"静音",children:e.jsx(Pd,{className:"h-4 w-4"})})]})]})]}),e.jsx(Gs,{}),e.jsxs("section",{"aria-labelledby":"captions-heading",children:[e.jsx(pt,{level:3,id:"captions-heading",children:"字幕和转录支持"}),e.jsxs("div",{className:"border rounded-lg p-6 bg-muted/30",children:[e.jsx("h4",{className:"font-medium mb-4",children:"视频播放器演示"}),e.jsx("div",{className:"aspect-video bg-background rounded border mb-4 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ma,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"视频播放区域"})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(S,{size:"sm",variant:"outline",children:"开启字幕"}),e.jsx(S,{size:"sm",variant:"outline",children:"音频描述"}),e.jsx(S,{size:"sm",variant:"outline",children:"手语翻译"}),e.jsx(S,{size:"sm",variant:"outline",children:"转录文本"})]})]})]}),e.jsx(Gs,{}),e.jsxs("section",{"aria-labelledby":"alternatives-heading",children:[e.jsx(pt,{level:3,id:"alternatives-heading",children:"替代内容"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"图片替代文本"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-full h-32 bg-muted rounded flex items-center justify-center",children:e.jsx("span",{className:"text-sm text-muted-foreground",children:"[图片: 无障碍设计示意图]"})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:'alt="一个展示网页无障碍设计原则的示意图，包含键盘导航、屏幕阅读器支持等元素"'})]})]})}),e.jsx(R,{children:e.jsxs(E,{className:"p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"长描述"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-full h-32 bg-muted rounded flex items-center justify-center",children:e.jsx("span",{className:"text-sm text-muted-foreground",children:"[复杂图表]"})}),e.jsx(S,{size:"sm",variant:"outline",children:"查看详细描述"})]})]})})]})]})]})]})})]})]}),e.jsx(gA,{})]})},yA="modulepreload",wA=function(s){return"/research-platform-new/"+s},_g={},bA=function(t,a,n){let r=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(a.map(d=>{if(d=wA(d),d in _g)return;_g[d]=!0;const m=d.endsWith(".css"),u=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${u}`))return;const h=document.createElement("link");if(h.rel=m?"stylesheet":yA,m||(h.as="script"),h.crossOrigin="",h.href=d,c&&h.setAttribute("nonce",c),document.head.appendChild(h),m)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return r.then(i=>{for(const c of i||[])c.status==="rejected"&&l(c.reason);return t().catch(l)})};function Bh(){const[s,t]=o.useState({fcp:null,lcp:null,fid:null,cls:null,ttfb:null,domLoad:null,pageLoad:null,memoryUsage:null,connectionType:null}),[a,n]=o.useState([]),r=o.useRef(null),l=o.useCallback(()=>{const m=performance.getEntriesByName("first-contentful-paint")[0];if(m&&t(h=>({...h,fcp:m.startTime})),"PerformanceObserver"in window){try{const h=new PerformanceObserver(p=>{const g=p.getEntries(),b=g[g.length-1];b&&t(N=>({...N,lcp:b.startTime}))});h.observe({entryTypes:["largest-contentful-paint"]}),r.current=h}catch{console.warn("LCP observer not supported")}try{new PerformanceObserver(p=>{p.getEntries().forEach(b=>{if(b.processingStart&&b.startTime){const N=b.processingStart-b.startTime;t(j=>({...j,fid:N}))}})}).observe({entryTypes:["first-input"]})}catch{console.warn("FID observer not supported")}try{new PerformanceObserver(p=>{let g=0;p.getEntries().forEach(b=>{b.hadRecentInput||(g+=b.value)}),t(b=>({...b,cls:g}))}).observe({entryTypes:["layout-shift"]})}catch{console.warn("CLS observer not supported")}}const u=performance.getEntriesByType("navigation")[0];if(u){const h=u.responseStart-u.fetchStart,p=u.domContentLoadedEventEnd-u.fetchStart,g=u.loadEventEnd-u.fetchStart;t(b=>({...b,ttfb:h,domLoad:p,pageLoad:g}))}if("memory"in performance){const h=performance.memory;t(p=>({...p,memoryUsage:h.usedJSHeapSize/1024/1024}))}if("connection"in navigator){const h=navigator.connection;t(p=>({...p,connectionType:h.effectiveType||h.type}))}},[]),i=o.useCallback(()=>{const m={timestamp:Date.now(),url:window.location.href,metrics:{...s},userAgent:navigator.userAgent};n(u=>[...u,m].slice(-50));try{localStorage.setItem("performance-entries",JSON.stringify([m]))}catch{console.warn("Failed to save performance entry")}},[s]),c=o.useCallback(()=>{let m=0,u=0;if(s.fcp!==null&&(u++,s.fcp<1800?m+=100:s.fcp<3e3&&(m+=50)),s.lcp!==null&&(u++,s.lcp<2500?m+=100:s.lcp<4e3&&(m+=50)),s.fid!==null&&(u++,s.fid<100?m+=100:s.fid<300&&(m+=50)),s.cls!==null&&(u++,s.cls<.1?m+=100:s.cls<.25&&(m+=50)),u===0)return{grade:"N/A",score:0,color:"gray"};const h=m/u;return h>=80?{grade:"A",score:h,color:"green"}:h>=60?{grade:"B",score:h,color:"yellow"}:h>=40?{grade:"C",score:h,color:"orange"}:{grade:"D",score:h,color:"red"}},[s]),d=o.useCallback(()=>{const m=[];return s.fcp&&s.fcp>3e3&&m.push("优化首次内容绘制时间：减少关键资源大小，启用资源预加载"),s.lcp&&s.lcp>4e3&&m.push("优化最大内容绘制时间：优化图片加载，减少服务器响应时间"),s.fid&&s.fid>300&&m.push("优化首次输入延迟：减少主线程阻塞，优化JavaScript执行"),s.cls&&s.cls>.25&&m.push("优化累积布局偏移：为图片和视频设置尺寸属性，避免动态内容插入"),s.ttfb&&s.ttfb>1e3&&m.push("优化服务器响应时间：使用CDN，优化服务器性能"),s.memoryUsage&&s.memoryUsage>50&&m.push("优化内存使用：清理未使用的变量，避免内存泄漏"),m},[s]);return o.useEffect(()=>{l(),document.readyState==="complete"?setTimeout(l,1e3):window.addEventListener("load",()=>{setTimeout(l,1e3)});try{const m=localStorage.getItem("performance-entries");if(m){const u=JSON.parse(m);n(u)}}catch{console.warn("Failed to load performance entries")}return()=>{r.current&&r.current.disconnect()}},[l]),{metrics:s,performanceEntries:a,getPerformanceGrade:c,getRecommendations:d,savePerformanceEntry:i,measureCoreWebVitals:l}}const tr=o.memo(({title:s,value:t,unit:a,threshold:n,icon:r,description:l,className:i})=>{const c=()=>t===null?{status:"unknown",color:"gray"}:t<=n.good?{status:"good",color:"green"}:t<=n.fair?{status:"fair",color:"yellow"}:{status:"poor",color:"red"},{status:d,color:m}=c(),u={good:"优秀",fair:"需要改进",poor:"较差",unknown:"未知"};return e.jsxs(R,{className:X("hover:shadow-md transition-shadow",i),children:[e.jsxs(O,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:s}),r]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t!==null?`${t.toFixed(1)}${a}`:"测量中..."}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx(V,{variant:d==="good"?"default":d==="fair"?"secondary":"destructive",className:X(d==="good"&&"bg-green-100 text-green-800",d==="fair"&&"bg-yellow-100 text-yellow-800",d==="poor"&&"bg-red-100 text-red-800"),children:u[d]}),d==="good"?e.jsx(fe,{className:"h-4 w-4 text-green-600"}):d==="poor"?e.jsx(Me,{className:"h-4 w-4 text-red-600"}):e.jsx(xs,{className:"h-4 w-4 text-yellow-600"})]}),l&&e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:l})]})]})});tr.displayName="PerformanceCard";const SA=({className:s})=>{const{metrics:t,getPerformanceGrade:a,getRecommendations:n}=Bh(),r=a(),l=n();return e.jsxs("div",{className:X("space-y-6",s),children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"h-5 w-5"}),"性能评分"]})}),e.jsx(E,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl font-bold",children:r.grade}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["综合评分: ",r.score.toFixed(0),"分"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(te,{value:r.score,className:"w-32"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"基于 Core Web Vitals"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(tr,{title:"首次内容绘制",value:t.fcp?t.fcp/1e3:null,unit:"s",threshold:{good:1.8,fair:3},icon:e.jsx(zt,{className:"h-4 w-4"}),description:"页面首次渲染任何内容的时间"}),e.jsx(tr,{title:"最大内容绘制",value:t.lcp?t.lcp/1e3:null,unit:"s",threshold:{good:2.5,fair:4},icon:e.jsx(pl,{className:"h-4 w-4"}),description:"页面主要内容完成渲染的时间"}),e.jsx(tr,{title:"首次输入延迟",value:t.fid,unit:"ms",threshold:{good:100,fair:300},icon:e.jsx(Ce,{className:"h-4 w-4"}),description:"用户首次交互到浏览器响应的时间"}),e.jsx(tr,{title:"累积布局偏移",value:t.cls?t.cls*1e3:null,unit:"‰",threshold:{good:100,fair:250},icon:e.jsx(xo,{className:"h-4 w-4"}),description:"页面加载过程中布局稳定性指标"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(tr,{title:"首字节时间",value:t.ttfb?t.ttfb/1e3:null,unit:"s",threshold:{good:.8,fair:1.8},icon:e.jsx(Td,{className:"h-4 w-4"}),description:"服务器响应时间"}),e.jsx(tr,{title:"内存使用",value:t.memoryUsage,unit:"MB",threshold:{good:30,fair:50},icon:e.jsx(Sd,{className:"h-4 w-4"}),description:"JavaScript堆内存使用量"}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{className:"text-sm font-medium",children:"网络连接"})}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.connectionType||"未知"}),e.jsx(V,{variant:"outline",className:"mt-2",children:"连接类型"})]})]})]}),l.length>0&&e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"优化建议"})}),e.jsx(E,{children:e.jsx("ul",{className:"space-y-2",children:l.map((i,c)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Me,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:i})]},c))})})]})]})},Zb=o.memo(({src:s,alt:t,width:a,height:n,className:r,priority:l=!1})=>{const[i,c]=o.useState(!1),[d,m]=o.useState(!1),u=()=>c(!0),h=()=>m(!0);return d?e.jsx("div",{className:X("bg-muted rounded flex items-center justify-center",r),children:e.jsx("span",{className:"text-muted-foreground text-sm",children:"图片加载失败"})}):e.jsxs("div",{className:X("relative overflow-hidden",r),children:[!i&&e.jsx("div",{className:"absolute inset-0",children:e.jsx(Ro,{className:"w-full h-full"})}),e.jsx("img",{src:s,alt:t,width:a,height:n,onLoad:u,onError:h,loading:l?"eager":"lazy",decoding:"async",className:X("transition-opacity duration-300",i?"opacity-100":"opacity-0")})]})});Zb.displayName="OptimizedImage";const CA=({children:s,fallback:t=e.jsx(Ro,{className:"w-full h-32"}),className:a})=>e.jsx("div",{className:a,children:e.jsx(o.Suspense,{fallback:t,children:s})}),kA=({onPerformanceChange:s,children:t})=>{const{metrics:a}=Bh();return o.useEffect(()=>{s==null||s(a)},[a,s]),e.jsx(e.Fragment,{children:t})};function MA(s){return he.lazy(()=>s())}function PA(s,t){const a=he.forwardRef((n,r)=>{const l=Date.now();return o.useEffect(()=>{const c=Date.now()-l;c>100&&console.warn(`Component ${t} took ${c}ms to render`)}),e.jsx(s,{...n,ref:r})});return a.displayName=`withPerformanceTracking(${t})`,a}const TA=MA(()=>bA(()=>Promise.resolve().then(()=>WE),void 0).then(s=>({default:PA(s.SimpleChart,"AsyncHeavyComponent")}))),Lg=()=>{const{metrics:s,getPerformanceGrade:t,measureCoreWebVitals:a}=Bh(),[n,r]=o.useState(!1),[l,i]=o.useState([]),[c,d]=o.useState(0),[m,u]=o.useState([]),h=o.useCallback(()=>{r(!0),setTimeout(()=>{const N=Array.from({length:1e3},(j,x)=>Math.sin(x/100)*100);i(N),r(!1)},2e3)},[]),p=o.useMemo(()=>l.length===0?0:l.reduce((N,j)=>N+Math.abs(j),0)/l.length,[l]);o.useEffect(()=>{const N=document.querySelectorAll("*").length,j=document.querySelectorAll("script").length,x=document.querySelectorAll('style, link[rel="stylesheet"]').length,f=N*.1+j*10+x*5;d(f)},[]),o.useEffect(()=>{u([{url:"/api/dashboard",method:"GET",size:15.2,time:234},{url:"/api/users",method:"GET",size:8.7,time:156},{url:"/api/analytics",method:"POST",size:3.4,time:89},{url:"/assets/image.jpg",method:"GET",size:245.6,time:567}])},[]);const g=t(),b=[{category:"代码优化",techniques:[{name:"代码分割",description:"按需加载组件，减少初始包体积",implemented:!0},{name:"懒加载",description:"延迟加载非关键资源",implemented:!0},{name:"Tree Shaking",description:"移除未使用的代码",implemented:!0},{name:"压缩混淆",description:"压缩JavaScript和CSS文件",implemented:!0}]},{category:"资源优化",techniques:[{name:"图片优化",description:"使用WebP格式，响应式图片",implemented:!0},{name:"CDN加速",description:"使用内容分发网络",implemented:!1},{name:"资源预加载",description:"预加载关键资源",implemented:!0},{name:"HTTP/2",description:"使用HTTP/2协议",implemented:!1}]},{category:"渲染优化",techniques:[{name:"React.memo",description:"避免不必要的重新渲染",implemented:!0},{name:"useMemo",description:"缓存昂贵的计算结果",implemented:!0},{name:"useCallback",description:"缓存函数引用",implemented:!0},{name:"虚拟滚动",description:"只渲染可见区域的内容",implemented:!1}]},{category:"缓存策略",techniques:[{name:"浏览器缓存",description:"设置合适的缓存头",implemented:!0},{name:"Service Worker",description:"实现离线缓存",implemented:!1},{name:"数据缓存",description:"缓存API响应数据",implemented:!1},{name:"组件缓存",description:"缓存组件渲染结果",implemented:!0}]}];return e.jsx(kA,{children:e.jsxs("div",{className:"container mx-auto py-8 px-4 space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-2xl md:text-4xl font-bold",children:"性能优化演示"}),e.jsx("p",{className:"text-muted-foreground",children:"展示平台的性能优化策略和监控功能"}),e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsxs(S,{onClick:a,variant:"outline",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"重新测量"]}),e.jsxs(S,{onClick:h,disabled:n,children:[n?e.jsx(lr,{size:"sm",className:"mr-2"}):e.jsx(XN,{className:"h-4 w-4 mr-2"}),"模拟重计算"]})]})]}),e.jsxs(Ye,{defaultValue:"metrics",className:"space-y-6",children:[e.jsxs(qe,{className:"grid w-full grid-cols-2 md:grid-cols-5",children:[e.jsx(J,{value:"metrics",children:"性能指标"}),e.jsx(J,{value:"optimization",children:"优化策略"}),e.jsx(J,{value:"monitoring",children:"实时监控"}),e.jsx(J,{value:"bundle",children:"包体分析"}),e.jsx(J,{value:"network",children:"网络分析"})]}),e.jsx(ee,{value:"metrics",children:e.jsx(SA,{})}),e.jsx(ee,{value:"optimization",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"优化技术实现状态"})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:b.map(N=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:N.category}),e.jsx("div",{className:"space-y-3",children:N.techniques.map(j=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:j.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:j.description})]}),e.jsx(V,{variant:j.implemented?"default":"secondary",className:j.implemented?"bg-green-100 text-green-800":"",children:j.implemented?"已实现":"待实现"})]},j.name))})]},N.category))})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"代码分割演示"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"点击下方按钮动态加载图表组件，演示代码分割效果"}),e.jsx(CA,{fallback:e.jsx(Ro,{className:"w-full h-64"}),children:e.jsx(TA,{data:[{name:"1月",value:400},{name:"2月",value:300},{name:"3月",value:500},{name:"4月",value:200},{name:"5月",value:600}]})})]})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"图片优化演示"})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Array.from({length:6},(N,j)=>e.jsx(Zb,{src:`https://picsum.photos/300/200?random=${j}`,alt:`优化图片 ${j+1}`,className:"aspect-video rounded-lg",priority:j<2},j))})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"计算优化演示"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"昂贵计算结果 (useMemo):"}),e.jsx(V,{variant:"outline",children:l.length>0?p.toFixed(2):"暂无数据"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"数据点数量:"}),e.jsx(V,{variant:"outline",children:l.length.toLocaleString()})]}),n&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lr,{size:"sm"}),e.jsx("span",{className:"text-sm",children:"正在处理大量数据..."})]})]})]})]})}),e.jsx(ee,{value:"monitoring",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"实时性能监控"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx(Ce,{className:"h-8 w-8 mx-auto mb-2 text-blue-600"}),e.jsxs("div",{className:"text-2xl font-bold",children:[s.pageLoad?(s.pageLoad/1e3).toFixed(2):"--","s"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"页面加载时间"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx(P3,{className:"h-8 w-8 mx-auto mb-2 text-green-600"}),e.jsxs("div",{className:"text-2xl font-bold",children:[s.memoryUsage?s.memoryUsage.toFixed(1):"--","MB"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"内存使用"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx(oy,{className:"h-8 w-8 mx-auto mb-2 text-purple-600"}),e.jsx("div",{className:"text-2xl font-bold",children:s.connectionType||"--"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"连接类型"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx(sy,{className:"h-8 w-8 mx-auto mb-2 text-red-600"}),e.jsx("div",{className:"text-2xl font-bold",children:g.grade}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"性能评级"})]})]})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"核心 Web 指标趋势"})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"首次内容绘制 (FCP)"}),e.jsx("span",{children:s.fcp?(s.fcp/1e3).toFixed(2)+"s":"--"})]}),e.jsx(te,{value:s.fcp?Math.min(1800/s.fcp*100,100):0,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"最大内容绘制 (LCP)"}),e.jsx("span",{children:s.lcp?(s.lcp/1e3).toFixed(2)+"s":"--"})]}),e.jsx(te,{value:s.lcp?Math.min(2500/s.lcp*100,100):0,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"首次输入延迟 (FID)"}),e.jsx("span",{children:s.fid?s.fid.toFixed(0)+"ms":"--"})]}),e.jsx(te,{value:s.fid?Math.min(100/s.fid*100,100):0,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"累积布局偏移 (CLS)"}),e.jsx("span",{children:s.cls?(s.cls*1e3).toFixed(0)+"‰":"--"})]}),e.jsx(te,{value:s.cls?Math.min(.1/s.cls*100,100):0,className:"h-2"})]})]})})]})]})}),e.jsx(ee,{value:"bundle",children:e.jsx("div",{className:"space-y-6",children:e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"包体积分析"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"估算包体积"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"估算总大小:"}),e.jsxs(V,{variant:"outline",children:[c.toFixed(1)," KB"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"DOM 元素数量:"}),e.jsx(V,{variant:"outline",children:document.querySelectorAll("*").length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"脚本文件数量:"}),e.jsx(V,{variant:"outline",children:document.querySelectorAll("script").length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"样式文件数量:"}),e.jsx(V,{variant:"outline",children:document.querySelectorAll('style, link[rel="stylesheet"]').length})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"优化建议"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:"✅ 代码分割已启用"}),e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:"✅ 懒加载已实现"}),e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded",children:"⚠️ 可考虑使用 CDN 加速"}),e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:"💡 建议启用 gzip 压缩"})]})]})]})})]})})}),e.jsx(ee,{value:"network",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"网络请求分析"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:m.map((N,j)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(V,{variant:N.method==="GET"?"default":"secondary",children:N.method}),e.jsx("span",{className:"font-mono text-sm",children:N.url})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Se,{className:"h-3 w-3"}),N.size," KB"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ce,{className:"h-3 w-3"}),N.time," ms"]})]})]},j))})})]}),e.jsxs(R,{children:[e.jsx(O,{children:e.jsx(L,{children:"网络优化状态"})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"已实现的优化"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"HTTP/2 多路复用"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"资源预加载"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"图片懒加载"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"待优化项目"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsx("span",{children:"CDN 部署"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsx("span",{children:"Service Worker"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsx("span",{children:"API 响应缓存"})]})]})]})]})})]})]})})]})]})})},DA=()=>{const{user:s,isTestMode:t,switchRole:a}=rs();if(!t||!s)return null;const r={student:{icon:Gi,label:"学生",color:"bg-blue-500"},professor:{icon:Xs,label:"教授",color:"bg-green-500"},secretary:{icon:Ne,label:"秘书",color:"bg-orange-500"},admin:{icon:Qs,label:"管理员",color:"bg-purple-500"}}[s.role],l=r.icon;return e.jsxs("div",{className:"fixed bottom-4 right-4 z-50 bg-white rounded-lg shadow-lg border p-4 max-w-xs",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`p-2 rounded-md ${r.color} text-white`,children:e.jsx(l,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"测试模式"}),e.jsx("p",{className:"font-semibold text-sm",children:r.label})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-xs text-gray-600",children:["当前用户: ",e.jsx("span",{className:"font-medium",children:s.name})]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["邮箱: ",e.jsx("span",{className:"font-medium",children:s.email})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"切换角色:"}),e.jsxs(ie,{value:s.role,onValueChange:i=>a(i),children:[e.jsx(re,{className:"w-full h-8 text-xs",children:e.jsx(ce,{})}),e.jsxs(le,{children:[e.jsx(W,{value:"student",children:"学生"}),e.jsx(W,{value:"professor",children:"教授"}),e.jsx(W,{value:"secretary",children:"秘书"}),e.jsx(W,{value:"admin",children:"管理员"})]})]})]}),e.jsx("div",{className:"mt-3 text-xs text-gray-400 text-center",children:"仅在开发环境显示"})]})};function RA(){return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs(R5,{children:[e.jsx(Q,{path:"/",element:e.jsx(Ap,{})}),e.jsx(Q,{path:"/home",element:e.jsx(Ap,{})}),e.jsx(Q,{path:"/login",element:e.jsx(c6,{})}),e.jsx(Q,{path:"/register",element:e.jsx(lM,{})}),e.jsx(Q,{path:"/forgot-password",element:e.jsx(iM,{})}),e.jsx(Q,{path:"/profile",element:e.jsx(CM,{})}),e.jsx(Q,{path:"/admin/user-management",element:e.jsx(qp,{})}),e.jsx(Q,{path:"/dashboard",element:e.jsx(TM,{})}),e.jsx(Q,{path:"/dashboard/student",element:e.jsx(bg,{})}),e.jsx(Q,{path:"/dashboard/professor",element:e.jsx(Sg,{})}),e.jsx(Q,{path:"/dashboard/secretary",element:e.jsx(Cg,{})}),e.jsx(Q,{path:"/dashboard/leader",element:e.jsx(kg,{})}),e.jsx(Q,{path:"/lab-rotation/preparation/course-publish",element:e.jsx(Gp,{})}),e.jsx(Q,{path:"/lab-rotation/preparation/mentor-management",element:e.jsx(Yp,{})}),e.jsx(Q,{path:"/lab-rotation/preparation/seminar-management",element:e.jsx(Kp,{})}),e.jsx(Q,{path:"/lab-rotation/preparation/course-timeline",element:e.jsx(Qp,{})}),e.jsx(Q,{path:"/lab-rotation/matching/student-preference",element:e.jsx(Xp,{})}),e.jsx(Q,{path:"/lab-rotation/matching/mentor-screening",element:e.jsx(Zp,{})}),e.jsx(Q,{path:"/lab-rotation/matching/matching-visualization",element:e.jsx(Jp,{})}),e.jsx(Q,{path:"/lab-rotation/matching/adjustment-management",element:e.jsx(ej,{})}),e.jsx(Q,{path:"/lab-rotation/management/task-publishing",element:e.jsx(sj,{})}),e.jsx(Q,{path:"/lab-rotation/management/progress-tracking",element:e.jsx(tj,{})}),e.jsx(Q,{path:"/lab-rotation/management/weekly-meeting",element:e.jsx(aj,{})}),e.jsx(Q,{path:"/lab-rotation/management/learning-report",element:e.jsx(nj,{})}),e.jsx(Q,{path:"/lab-rotation/management/instant-messaging",element:e.jsx(ij,{})}),e.jsx(Q,{path:"/lab-rotation/verification/poster-designer",element:e.jsx(cj,{})}),e.jsx(Q,{path:"/lab-rotation/verification/research-report",element:e.jsx(dj,{})}),e.jsx(Q,{path:"/lab-rotation/verification/defense-scheduling",element:e.jsx(oj,{})}),e.jsx(Q,{path:"/lab-rotation/verification/online-defense",element:e.jsx(mj,{})}),e.jsx(Q,{path:"/lab-rotation/verification/achievement-showcase",element:e.jsx(xj,{})}),e.jsx(Q,{path:"/lab-rotation/grading/multidimensional-scoring",element:e.jsx(uj,{})}),e.jsx(Q,{path:"/lab-rotation/grading/scoring-standard-config",element:e.jsx(hj,{})}),e.jsx(Q,{path:"/lab-rotation/grading/batch-scoring",element:e.jsx(fj,{})}),e.jsx(Q,{path:"/lab-rotation/grading/grade-inquiry",element:e.jsx(pj,{})}),e.jsx(Q,{path:"/lab-rotation/grading/grade-analysis-report",element:e.jsx(jj,{})}),e.jsx(Q,{path:"/quality-assessment/preparation/evaluation-plan-publishing",element:e.jsx(gj,{})}),e.jsx(Q,{path:"/quality-assessment/preparation/expert-group-management",element:e.jsx(vj,{})}),e.jsx(Q,{path:"/quality-assessment/preparation/evaluation-standard-config",element:e.jsx(Nj,{})}),e.jsx(Q,{path:"/quality-assessment/preparation/timeline-planning",element:e.jsx(Tj,{})}),e.jsx(Q,{path:"/quality-assessment/collection/information-collection-form",element:e.jsx(Dj,{})}),e.jsx(Q,{path:"/quality-assessment/collection/material-upload-system",element:e.jsx(Ej,{})}),e.jsx(Q,{path:"/quality-assessment/collection/ocr-recognition-integration",element:e.jsx(Ij,{})}),e.jsx(Q,{path:"/quality-assessment/collection/preliminary-review-workbench",element:e.jsx(Oj,{})}),e.jsx(Q,{path:"/quality-assessment/collection/progress-tracking-panel",element:e.jsx(_j,{})}),e.jsx(Q,{path:"/quality-assessment/evaluation/dimensional-scoring",element:e.jsx(Lj,{})}),e.jsx(Q,{path:"/quality-assessment/evaluation/grade-import-system",element:e.jsx(zj,{})}),e.jsx(Q,{path:"/quality-assessment/evaluation/expert-review-platform",element:e.jsx(Fj,{})}),e.jsx(Q,{path:"/quality-assessment/evaluation/scoring-calibration-tool",element:e.jsx($j,{})}),e.jsx(Q,{path:"/quality-assessment/evaluation/realtime-statistics-panel",element:e.jsx(Bj,{})}),e.jsx(Q,{path:"/quality-assessment/evaluation/moral-character-evaluation",element:e.jsx(Wj,{})}),e.jsx(Q,{path:"/quality-assessment/calculation/automatic-calculation-engine",element:e.jsx(Vj,{})}),e.jsx(Q,{path:"/quality-assessment/calculation/grade-preview",element:e.jsx(Uj,{})}),e.jsx(Q,{path:"/quality-assessment/calculation/anomaly-detection",element:e.jsx(qj,{})}),e.jsx(Q,{path:"/quality-assessment/calculation/review-confirmation",element:e.jsx(Hj,{})}),e.jsx(Q,{path:"/quality-assessment/calculation/grade-locking",element:e.jsx(Gj,{})}),e.jsx(Q,{path:"/quality-assessment/application/grade-announcement",element:e.jsx(Yj,{})}),e.jsx(Q,{path:"/quality-assessment/application/appeal-management",element:e.jsx(Kj,{})}),e.jsx(Q,{path:"/quality-assessment/application/experimental-class-screening",element:e.jsx(Qj,{})}),e.jsx(Q,{path:"/quality-assessment/application/archive-filing-system",element:e.jsx(Xj,{})}),e.jsx(Q,{path:"/quality-assessment/application/report-generator",element:e.jsx(Zj,{})}),e.jsx(Q,{path:"/system/milestone-report",element:e.jsx(Jj,{})}),e.jsx(Q,{path:"/system/notification-center",element:e.jsx(eg,{})}),e.jsx(Q,{path:"/system/smart-reminder-rule-engine",element:e.jsx(sg,{})}),e.jsx(Q,{path:"/system/batch-import-tool",element:e.jsx(tg,{})}),e.jsx(Q,{path:"/system/batch-operations",element:e.jsx(ag,{})}),e.jsx(Q,{path:"/system/automatic-report-generator",element:e.jsx(xg,{})}),e.jsx(Q,{path:"/system/progress-timeline",element:e.jsx(Hp,{})}),e.jsx(Q,{path:"/ai/ai-teaching-assistant",element:e.jsx(ug,{})}),e.jsx(Q,{path:"/ai/ai-homework-detection",element:e.jsx(jg,{})}),e.jsx(Q,{path:"/ai/ai-scoring-assistant",element:e.jsx(gg,{})}),e.jsx(Q,{path:"/data/data-analysis-center",element:e.jsx(fg,{})}),e.jsx(Q,{path:"/data/automated-data-collection",element:e.jsx(vg,{})}),e.jsx(Q,{path:"/data/llm-report-generation",element:e.jsx(Ng,{})}),e.jsx(Q,{path:"/data/realtime-data-dashboard",element:e.jsx(yg,{})}),e.jsx(Q,{path:"/data/predictive-analytics",element:e.jsx(wg,{})}),e.jsx(Q,{path:"/social/social-learning-network",element:e.jsx(hg,{})}),e.jsx(Q,{path:"/resources/resource-sharing-center",element:e.jsx(pg,{})}),e.jsx(Q,{path:"/course-publish",element:e.jsx(Gp,{})}),e.jsx(Q,{path:"/mentor-management",element:e.jsx(Yp,{})}),e.jsx(Q,{path:"/seminar-management",element:e.jsx(Kp,{})}),e.jsx(Q,{path:"/course-timeline",element:e.jsx(Qp,{})}),e.jsx(Q,{path:"/student-preference",element:e.jsx(Xp,{})}),e.jsx(Q,{path:"/mentor-screening",element:e.jsx(Zp,{})}),e.jsx(Q,{path:"/matching-visualization",element:e.jsx(Jp,{})}),e.jsx(Q,{path:"/adjustment-management",element:e.jsx(ej,{})}),e.jsx(Q,{path:"/task-publishing",element:e.jsx(sj,{})}),e.jsx(Q,{path:"/progress-tracking",element:e.jsx(tj,{})}),e.jsx(Q,{path:"/weekly-meeting",element:e.jsx(aj,{})}),e.jsx(Q,{path:"/learning-report",element:e.jsx(nj,{})}),e.jsx(Q,{path:"/instant-messaging",element:e.jsx(ij,{})}),e.jsx(Q,{path:"/poster-designer",element:e.jsx(cj,{})}),e.jsx(Q,{path:"/research-report",element:e.jsx(dj,{})}),e.jsx(Q,{path:"/defense-scheduling",element:e.jsx(oj,{})}),e.jsx(Q,{path:"/online-defense",element:e.jsx(mj,{})}),e.jsx(Q,{path:"/achievement-showcase",element:e.jsx(xj,{})}),e.jsx(Q,{path:"/multidimensional-scoring",element:e.jsx(uj,{})}),e.jsx(Q,{path:"/scoring-standard-config",element:e.jsx(hj,{})}),e.jsx(Q,{path:"/batch-scoring",element:e.jsx(fj,{})}),e.jsx(Q,{path:"/grade-inquiry",element:e.jsx(pj,{})}),e.jsx(Q,{path:"/grade-analysis-report",element:e.jsx(jj,{})}),e.jsx(Q,{path:"/evaluation-plan-publishing",element:e.jsx(gj,{})}),e.jsx(Q,{path:"/expert-group-management",element:e.jsx(vj,{})}),e.jsx(Q,{path:"/evaluation-standard-config",element:e.jsx(Nj,{})}),e.jsx(Q,{path:"/timeline-planning",element:e.jsx(Tj,{})}),e.jsx(Q,{path:"/information-collection-form",element:e.jsx(Dj,{})}),e.jsx(Q,{path:"/material-upload-system",element:e.jsx(Ej,{})}),e.jsx(Q,{path:"/ocr-recognition-integration",element:e.jsx(Ij,{})}),e.jsx(Q,{path:"/preliminary-review-workbench",element:e.jsx(Oj,{})}),e.jsx(Q,{path:"/progress-tracking-panel",element:e.jsx(_j,{})}),e.jsx(Q,{path:"/dimensional-scoring",element:e.jsx(Lj,{})}),e.jsx(Q,{path:"/grade-import-system",element:e.jsx(zj,{})}),e.jsx(Q,{path:"/expert-review-platform",element:e.jsx(Fj,{})}),e.jsx(Q,{path:"/scoring-calibration-tool",element:e.jsx($j,{})}),e.jsx(Q,{path:"/realtime-statistics-panel",element:e.jsx(Bj,{})}),e.jsx(Q,{path:"/moral-character-evaluation",element:e.jsx(Wj,{})}),e.jsx(Q,{path:"/automatic-calculation-engine",element:e.jsx(Vj,{})}),e.jsx(Q,{path:"/grade-preview",element:e.jsx(Uj,{})}),e.jsx(Q,{path:"/anomaly-detection",element:e.jsx(qj,{})}),e.jsx(Q,{path:"/review-confirmation",element:e.jsx(Hj,{})}),e.jsx(Q,{path:"/grade-locking",element:e.jsx(Gj,{})}),e.jsx(Q,{path:"/grade-announcement",element:e.jsx(Yj,{})}),e.jsx(Q,{path:"/appeal-management",element:e.jsx(Kj,{})}),e.jsx(Q,{path:"/experimental-class-screening",element:e.jsx(Qj,{})}),e.jsx(Q,{path:"/archive-filing-system",element:e.jsx(Xj,{})}),e.jsx(Q,{path:"/report-generator",element:e.jsx(Zj,{})}),e.jsx(Q,{path:"/milestone-report",element:e.jsx(Jj,{})}),e.jsx(Q,{path:"/notification-center",element:e.jsx(eg,{})}),e.jsx(Q,{path:"/smart-reminder-rule-engine",element:e.jsx(sg,{})}),e.jsx(Q,{path:"/batch-import-tool",element:e.jsx(tg,{})}),e.jsx(Q,{path:"/batch-operations",element:e.jsx(ag,{})}),e.jsx(Q,{path:"/automatic-report-generator",element:e.jsx(xg,{})}),e.jsx(Q,{path:"/ai-teaching-assistant",element:e.jsx(ug,{})}),e.jsx(Q,{path:"/social-learning-network",element:e.jsx(hg,{})}),e.jsx(Q,{path:"/data-analysis-center",element:e.jsx(fg,{})}),e.jsx(Q,{path:"/resource-sharing-center",element:e.jsx(pg,{})}),e.jsx(Q,{path:"/ai-homework-detection",element:e.jsx(jg,{})}),e.jsx(Q,{path:"/ai-scoring-assistant",element:e.jsx(gg,{})}),e.jsx(Q,{path:"/automated-data-collection",element:e.jsx(vg,{})}),e.jsx(Q,{path:"/llm-report-generation",element:e.jsx(Ng,{})}),e.jsx(Q,{path:"/realtime-data-dashboard",element:e.jsx(yg,{})}),e.jsx(Q,{path:"/predictive-analytics",element:e.jsx(wg,{})}),e.jsx(Q,{path:"/student-dashboard",element:e.jsx(bg,{})}),e.jsx(Q,{path:"/professor-dashboard",element:e.jsx(Sg,{})}),e.jsx(Q,{path:"/secretary-dashboard",element:e.jsx(Cg,{})}),e.jsx(Q,{path:"/leader-dashboard",element:e.jsx(kg,{})}),e.jsx(Q,{path:"/demo/design-system",element:e.jsx(Pg,{})}),e.jsx(Q,{path:"/demo/interaction-patterns",element:e.jsx(Dg,{})}),e.jsx(Q,{path:"/demo/responsive-demo",element:e.jsx(Eg,{})}),e.jsx(Q,{path:"/demo/accessibility-demo",element:e.jsx(Og,{})}),e.jsx(Q,{path:"/demo/performance-demo",element:e.jsx(Lg,{})}),e.jsx(Q,{path:"/design-system",element:e.jsx(Pg,{})}),e.jsx(Q,{path:"/interaction-patterns",element:e.jsx(Dg,{})}),e.jsx(Q,{path:"/responsive-demo",element:e.jsx(Eg,{})}),e.jsx(Q,{path:"/accessibility-demo",element:e.jsx(Og,{})}),e.jsx(Q,{path:"/performance-demo",element:e.jsx(Lg,{})}),e.jsx(Q,{path:"/user-management",element:e.jsx(qp,{})}),e.jsx(Q,{path:"/progress-timeline",element:e.jsx(Hp,{})})]}),e.jsx(DA,{})]})}Dm.createRoot(document.getElementById("root")).render(e.jsx(he.StrictMode,{children:e.jsx(F5,{basename:"/research-platform-new/",children:e.jsx(U5,{children:e.jsx(RA,{})})})}));
